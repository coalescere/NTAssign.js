{"version":3,"sources":["Energy.js","app.min.js","Assign.js","Plot.js","main.js"],"names":["_classCallCheck","instance","Constructor","TypeError","getRBMParameters","p","type","Param","a","b","this","Error","wRBM2Dt","wRBM","ab","dt2RBM","dt","getEnergyFromCos3Theta","cos3Theta","mod","r","isMetal","derivative","paramType0","c","sgE","extMod","Math","log10","betaP","getCos3Theta","val","calc","parseFloat","toFixed","getAverage","splitting","pLesser","cos3ThetaMax","pLarger","err","message","delta","x","getList","li","nMin","nMax","n","m","seriesThreshold","dl","getEnergy","Dt","Theta","dh","push","Mod","getRBMArray","d","rbmLabel","rbm","wRBMMin","wRBMMax","t","plus","minus","getPlotParams","inputParams","decimalDigits","split","length","isUnparsable","val1","val2","uncertainty","pow","E1R1","min","E2","p1","p2","p1ToP","cos","resultString","error","Assign","bluePoint","point","pToLesser","pointType","p1Lesser","p1ToLesser","pAnother","modAnother","p1Arr","valAnother","_ref","_ref2","y","p_1","p_2","_ref3","_ref4","_ref5","average","params","setBounds","dxMin_","dxMax_","dyMin_","dyMax_","dxMin","dxMax","dyMin","dyMax","processOutput","result","query","orderBy","Dist_","toArray","i","round","arguments","undefined","Dist","x1","y1","x2","y2","sqrt","e","deltaX","maxY","minY","all","Enumerable","from","where","uc","ar","AssignResult","count","accurate","union","possible","tmp","impossible","yMax","xMin","xMax","s","rbmPos","between","xy","r1","r2","u","q","groupBy","key","group","value","select","map","ee","allLabel","resultLabel","yAxisLabel","p1Arr_raw","xAxisLabel","drawPlot","placeholder","defaultRadius","yMin","font","size","lineHeight","family","options","xaxis","show","position","max","tickLength","tickColor","color","yaxis","series","hoverable","grid","borderColor","top","bottom","left","right","minBorderMargin","data","shadowSize","laser","laser_color","concat","id","toString","fillBetween","lines","fill","lineWidth","mod_i","points","radius","symbol","point_labels","fillColor","$placeholder","$","plot","previousPoint","bind","event","pos","item","dataIndex","remove","showTooltip","pageX","pageY","floor","o","pointOffset","axes","getAxes","append","mid","pMid","divMid","div","dA","c1","c2","c3","o1","contents","css","display","appendTo","fadeIn","clearTitle","find","removeAttr","validate","form","$hint","invokeError","msg","addClass","html","val1_","Val1","val2_","Val2","rbm_","parseInt","RBM","emptyNum","Number","isNaN","selectpicker","history","replaceState","join","changeEdit","p1_lesser","calculate","$calcHint","$calcResult","NCalc","MCalc","urlParams","$resultList","$plotList","generateRBMCalculationResult","calculatedEnergy","Array","validResultNumber","_loop","click","plotParams","plotId","$plot","MathJax","Hub","Queue","isAirSuspended","editRBM","rbmAS","rbmGeneral","typeArr","PI","atan","isMetalP","isMetalNM","theta","timeLoad","performance","now","timeStartup","getScript","navigator","language","substr","toLowerCase","console","log","window","onpopstate","match","pl","search","decode","decodeURIComponent","replace","location","substring","exec","test","userAgent","$body","hasClass","$selectType","on","href","$selectP1","$selectP2","$selectP1P2","innerHTML","removeClass","threshold","every","valueBetween","index","each"],"mappings":"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","file":"app.min.js","sourcesContent":["\n'use strict';\n\nconst seriesThreshold = 90; // max processable (2n + m) limit\n\nconst AssignResult = {\n  accurate : 0,\n  possible : 1,\n  impossible : 2,\n  error : 3\n};\n\nconst typeArr = [\n  'Air-suspended SWNTs', 'SWNTs on \\\\(\\\\mathrm{SiO_2}/\\\\mathrm{Si}\\\\) substrates', 'SWNT arrays on quartz substrates',\n  '\"Super-growth\" SWNTs', 'SDS-dispersed SWNTs', 'ssDNA-dispersed SWNTs'\n];\nconst paramType0 = [\n  [ 1.194, 0.179, 0.053 ],\n  [ 2.110, 0.388, 0.154 ],\n  [ 3.170, 0.764, 0.286 ], //M11\n  [ 4.286, 1.230, 0.412 ],\n  [ 5.380, 1.922, 0.644 ],\n  [ 6.508, 2.768, 0.928 ], //M22\n  [ 7.624, 3.768, 1.024 ], //S55\n  [ 8.734, 4.921, 1.479 ], //S66\n  [ 9.857, 6.228, 1.692 ]  //M33\n]; // (a, b, c) of type 0\nconst betaP =[\n  [ 0.09, -0.07 ],\n  [ -0.18, 0.14 ],\n  [ -0.19, 0.29 ],\n  [ 0.49, -0.33 ],\n  [ -0.43, 0.59 ],\n  [ -0.6, 0.57 ]\n]; // type 3\n\nconst p1Arr = [\n  '\\\\(S_{11}\\\\)', '\\\\(S_{22}\\\\)', '\\\\(M_{11}^-\\\\)', '\\\\(M_{11}^+\\\\)', '\\\\(S_{33}\\\\)', '\\\\(S_{44}\\\\)',\n  '\\\\(M_{22}^-\\\\)', '\\\\(M_{22}^+\\\\)', '\\\\(S_{55}\\\\)', '\\\\(S_{66}\\\\)', '\\\\(M_{33}^-\\\\)', '\\\\(M_{33}^+\\\\)'\n];\n\nconst p1Arr_raw = [\n  'S_{11}', 'S_{22}', 'M_{11}^-', 'M_{11}^+', 'S_{33}', 'S_{44}', 'M_{22}^-', 'M_{22}^+', 'S_{55}', 'S_{66}',\n  'M_{33}^-', 'M_{33}^+'\n];\n\nconst p1ToP = [ 0, 1, 2, 2, 3, 4, 5, 5, 6, 7, 8, 8 ];\nconst pToLesser = [ 0, 0, 2, 3, 3, 5, 6, 6, 9 ];\nconst p1ToLesser = (p1) => p1 % 2 === 0 ? p1 : p1 - 1;\n\nconst Dt = (n, m, type) => ((type !== 4) ? 0.142 : 0.144) * Math.sqrt(3 * (n * n + n * m + m * m)) / Math.PI;\nconst Theta = (n, m) => Math.atan(Math.sqrt(3) * m / (2 * n + m));\nconst Mod = (n, m) => (2 * n + m) % 3;\nconst isMetalP = (p) => (p + 1) % 3 === 0;\nconst isMetalNM = (n, m) => Mod(n, m) === 0;\nconst isMetal = function () { return arguments.length === 2 ?\n  isMetalNM(arguments[0], arguments[1]) :\n  isMetalP(arguments[0]); };\n\nfunction getRBMParameters(p, type) {\n  class Param {\n    constructor(a, b) { this.a = a; this.b = b; }\n  }\n  switch (type) {\n    case 0: switch (p) {\n      case 0: case 1: return new Param(204, 27);\n      case 2: return new Param(200, 26);\n      default: return new Param(228, 0);\n    }\n    case 1: return new Param(235.9, 5.5);\n    case 2: return new Param(217.8, 15.7);\n    case 3: return new Param(227.0, 0.3);\n    case 4: return new Param(223.5, 12.5);\n    case 5: return new Param(218, 18.3);\n    default: throw new Error('invalid type');\n  }\n}\n\nfunction wRBM2Dt(wRBM, p, type) {\n  let ab = getRBMParameters(p, type);\n  return ab.a / (wRBM - ab.b);\n}\n\nfunction dt2RBM(dt, p, type) {\n  let ab = getRBMParameters(p, type);\n  return ab.a / dt + ab.b;\n}\n\nconst getEnergy = (dt, theta, p, type, mod) => getEnergyFromCos3Theta(dt, Math.cos(3 * theta), p, type, mod);\n\nfunction getEnergyFromCos3Theta(dt, cos3Theta, p, type, mod)\n{\n  let r; // return value\n  if (isMetal(p) && mod > 0)\n    throw new Error('mod should be in accordance with p');\n  if (type <= 2) {\n\n    if (p >= 9)\n      throw new Error('higher than S66 not available');\n    let derivative = -paramType0[p][0] / (dt * dt) + 2 * paramType0[p][1] / (dt * dt * dt);\n    if (derivative > 0) // 1st derivative\n      throw new Error('dt');\n    if (isMetal(p))\n      r = paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) + paramType0[p][2] / (dt * dt) * cos3Theta * (mod * 2 + 1);\n    // mod * 2 + 1 <==> mod === 0 ? 1 : -1\n    else\n      r = paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) +\n        paramType0[p][2] / (dt * dt) * cos3Theta * (((p % 3) === (mod % 2)) ? -1 : 1);\n    r -= (type === 1) ? 0.04 : ((type === 2) ? 0.1 : 0);\n\n  } else if (type === 3) {\n\n    if (p >= 6)\n      throw new Error('higher than M22 not available for Super-Growth');\n    let a = 1.074, b = 0.467, c = 0.812;\n    let sgE = (extMod) => a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt)))\n      + betaP[p][extMod] / (dt * dt) * cos3Theta\n      + ((p > 2) ? 0.059 * (p + 1) / dt : 0); // extra for larger than M11; warning: p + 1\n    if (isMetal(p))\n      r = sgE(mod + 1); // 0(Mii+) -> 1, -1(Mii-) -> 0\n    else\n      r = sgE(mod - 1); // 1(MOD1) -> 0, 2(MOD2) -> 1\n\n  } else if (type === 4 || type === 5) {\n\n    if (p === 0)\n      r = 1 / (0.1270 + 0.8606 * dt) + ((mod === 1) ? 0.04575 : -0.08802) / (dt * dt) * cos3Theta;\n    else if (p === 1)\n      r = 1 / (0.1174 + 0.4644 * dt) + ((mod === 1) ? -0.1829 : 0.1705) / (dt * dt) * cos3Theta;\n    else\n      throw new Error('only S11 and S22 are available for SDS-dispersed or ssDNA dispersed');\n    r -= (type === 5) ? 0.02 : 0;\n\n  } else throw new Error('invalid type');\n\n  return r;\n}\n\nfunction getCos3Theta(val, dt, p, type) {\n\n  // returns cos3Theta as [val_modLesser, val_modLarger]\n\n  let r = [-1, -1];\n\n  if (type <= 2) {\n\n    if (p >= 9)\n      throw new Error('higher than S66 not available');\n    val += (type === 1) ? 0.04 : ((type === 2) ? 0.1 : 0);\n    if (isMetal(p)) {\n      r[0] = (paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) - val) / paramType0[p][2] * (dt * dt); // Mii-\n      r[1] = (-(paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) - val)) / paramType0[p][2] * (dt * dt); // Mii+\n    } else {\n      r[0] = (-(paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) - val))\n        / paramType0[p][2] * (dt * dt) * (((p % 3) === (1 % 2)) ? -1 : 1); //mod1\n      r[1] = (-(paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) - val))\n        / paramType0[p][2] * (dt * dt) * (((p % 3) === (2 % 2)) ? -1 : 1); //mod2\n    }\n\n  } else if (type === 3) {\n\n    if (p >= 6)\n      throw new Error('higher than M22 not available for Super-Growth');\n    let a = 1.074, b = 0.467, c = 0.812;\n    let calc = (extMod) => (val - a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt))) -\n      ((p > 2) ? 0.059 * (p + 1) / dt : 0)) / betaP[p][extMod] * (dt * dt);\n    r[0] = calc(0); //Mii- or MOD1\n    r[1] = calc(1);\n\n  } else if (type === 4 || type === 5) {\n\n    val += (type === 5) ? 0.02 : 0;\n    if (p === 0) {\n      r[0] = (val - 1 / (0.1270 + 0.8606 * dt)) / 0.04575 * (dt * dt); // MOD1\n      r[1] = (val - 1 / (0.1270 + 0.8606 * dt)) / (-0.08802) * (dt * dt);\n    } else if (p === 1) {\n      r[0] = (val - 1 / (0.1174 + 0.4644 * dt)) / (-0.1829) * (dt * dt); // MOD1\n      r[1] = (val - 1 / (0.1174 + 0.4644 * dt)) / 0.1705 * (dt * dt);\n    } else throw new Error('only S11 and S22 are available for SDS-disp. or ssDNA disp.');\n\n  } else throw new Error('invalid type');\n\n  r[0] = parseFloat(r[0].toFixed(4)); // 4 digits\n  r[1] = parseFloat(r[1].toFixed(4));\n  if (r[0] > 1 || r[0] < 0)\n    r[0] = -1;\n  if (r[1] > 1 || r[1] < 0)\n    r[1] = -1;\n  return r;\n\n}\n\nfunction getAverage(splitting, wRBM, pLesser, type) {\n\n  let cos3ThetaMax = 1.5;\n  // returns null-able average\n\n  let dt = wRBM2Dt(wRBM, pLesser, type);\n\n  if (isMetal(pLesser + 1)) throw new Error('p should be the smaller one');\n  if (type <= 2) {\n    if (pLesser >= 9)\n      throw new Error('higher than S66 not available');\n\n    if (isMetal(pLesser)) {\n\n      let cos3Theta = dt * dt * splitting / 2 * paramType0[pLesser][2];\n      if (cos3Theta < 0 || cos3Theta > cos3ThetaMax) return null;\n      try {\n        return (\n          getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, -1) +\n          getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, 0)\n        ) / 2;\n      } catch (err) {\n        if (err.message === 'dt')\n          return null;\n        else throw err;\n      }\n    } else {\n      let pLarger = pLesser + 1;\n      let delta = (x) => paramType0[pLarger][x] - paramType0[pLesser][x];\n      let mod = 1;\n      let cos3Theta = (splitting * dt * dt - delta(0) * dt + delta(1)) / (\n        paramType0[pLarger][2] * (((pLarger % 3) === (mod % 2)) ? -1 : 1) -\n        paramType0[pLesser][2] * (((pLesser % 3) === (mod % 2)) ? -1 : 1)\n      );\n      if (cos3Theta < 0) {\n        mod = 2;\n        cos3Theta = -cos3Theta;\n      }\n      if (cos3Theta > cos3ThetaMax) return null;\n      try {\n        return (\n          getEnergyFromCos3Theta(dt, cos3Theta, pLarger, type, mod) +\n          getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, mod)\n        ) / 2;\n      } catch (err) {\n        if (err.message === 'dt')\n          return null;\n        else throw err;\n      }\n    }\n  } else if (type === 3) {\n    let a = 1.074, b = 0.467, c = 0.812;\n    let sgE = (p) => a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt))) +\n      ((p > 2) ? 0.059 * (p + 1) / dt : 0);\n\n    if (isMetal(pLesser)) {\n\n      let cos3Theta = (splitting) * dt * dt / (betaP[pLesser][1] - betaP[pLesser][0]);\n      if (cos3Theta < 0 || cos3Theta > cos3ThetaMax)\n        return null;\n      return (\n        getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, -1) +\n        getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, 0)\n      ) / 2;\n\n    } else {\n\n      let pLarger = pLesser + 1;\n      let mod = 1;\n      if (pLesser >= 6)\n        throw new Error('higher than M22 not available for Super-Growth');\n      let cos3Theta = (splitting + sgE(pLesser) - sgE(pLarger)) * dt * dt / (\n        betaP[pLarger][mod - 1] - betaP[pLesser][mod - 1]\n      );\n      if (cos3Theta < 0 || cos3Theta > cos3ThetaMax) {\n        mod = 2;\n        cos3Theta = (splitting + sgE(pLesser) - sgE(pLarger)) * dt * dt / (\n          betaP[pLarger][mod - 1] - betaP[pLesser][mod - 1]);\n      }\n      if (cos3Theta < 0 || cos3Theta > cos3ThetaMax)\n        return null;\n      return (\n        getEnergyFromCos3Theta(dt, cos3Theta, pLarger, type, mod) +\n        getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, mod)\n      ) / 2;\n    }\n\n  } else if (type === 4 || type === 5) {\n\n    if (pLesser !== 0)\n      throw new Error('only S11 and S22 are available for SDS-disp. or ssDNA disp.');\n    let mod = 1;\n    let cos3Theta = (splitting - (1 / (0.1174 + 0.4644 * dt) - 1 / (0.1270 + 0.8606 * dt)))\n      * dt * dt / (-0.1829 - 0.04575);\n\n    if (cos3Theta > cos3ThetaMax || cos3Theta < 0) {\n      mod = 2;\n      cos3Theta = (splitting - (1 / (0.1174 + 0.4644 * dt) - 1 / (0.1270 + 0.8606 * dt)))\n        * dt * dt / (0.1705 - -0.08802);\n    }\n    if (cos3Theta > cos3ThetaMax || cos3Theta < 0)\n      return null;\n\n    return (\n      getEnergyFromCos3Theta(dt, cos3Theta, 1, type, mod) +\n      getEnergyFromCos3Theta(dt, cos3Theta, 0, type, mod)\n    ) / 2;\n  }\n  else throw new Error('invalid type');\n}\n\nfunction getList(pLesser, type) {\n\n  let li = [];\n  const nMin = 5, nMax = 50;\n\n  if (!isMetal(pLesser)) {\n    if (isMetal(pLesser + 1)) throw new Error('p should be the smaller one, e.g. S11 rather than S22');\n    for (let n = nMin; n < nMax; n++)\n      for (let m = 0; m <= n; m++) {\n\n        if (2 * n + m > seriesThreshold) break;\n        try {\n          if (!isMetal(n, m)) {\n            let dl = getEnergy(Dt(n, m, type), Theta(n, m), pLesser, type, Mod(n, m));\n            let dh = getEnergy(Dt(n, m, type), Theta(n, m), pLesser + 1, type, Mod(n, m));\n            li.push([ n, m, (dh + dl) / 2, (dh - dl) ]);\n          }\n        } catch (err) {\n          if (err.message !== 'dt') throw err;\n        }\n      }\n  } else {\n    for (let n = nMin; n < nMax; n++)\n      for (let m = 0; m <= n; m++) {\n\n        if (2 * n + m > seriesThreshold) break;\n        try {\n          if (isMetal(n, m)) {\n            let dl = getEnergy(Dt(n, m, type), Theta(n, m), pLesser, type, -1);\n            let dh = getEnergy(Dt(n, m, type), Theta(n, m), pLesser, type, 0);\n            li.push([ n, m, (dh + dl) / 2, (dh - dl) ]);\n          }\n        } catch (err) {\n          if (err.message !== 'dt') throw err;\n        }\n      }\n  }\n  return li;\n}\n\nfunction getRBMArray(pLesser, type) {\n\n  let d = { rbmLabel: [], rbm: [] }; // return\n\n  const cos3ThetaMax = 60;\n  const wRBMMin = 70, wRBMMax = 350;\n  if (!isMetal(pLesser) && isMetal(pLesser + 1))\n    throw new Error('p should be the smaller one, e.g. S11 rather than S22');\n\n  for (let rbm = wRBMMin; rbm <= wRBMMax; rbm += 10) {\n\n    let dt = wRBM2Dt(rbm, pLesser, type);\n    let t = [];\n    try {\n      if (isMetal(pLesser)) {\n        let plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 0);\n        let minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, -1);\n        t.push([ (plus + minus) / 2, plus - minus ]);\n        plus = getEnergyFromCos3Theta(dt, -cos3ThetaMax, pLesser, type, 0);\n        minus = getEnergyFromCos3Theta(dt, -cos3ThetaMax, pLesser, type, -1);\n        t.push([ (plus + minus) / 2, plus - minus ]);\n        d.rbmLabel.push(rbm);\n        d.rbm.push(t);\n      } else {\n        let plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser + 1, type, 1); //should it be higher?\n        let minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 1);\n        t.push([ (plus + minus) / 2, plus - minus ]);\n        plus = getEnergyFromCos3Theta(dt, 0, pLesser + 1, type, 2);\n        minus = getEnergyFromCos3Theta(dt, 0, pLesser, type, 2);\n        t.push([ (plus + minus) / 2, plus - minus ]);\n        plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser + 1, type, 2);\n        minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 2);\n        t.push([ (plus + minus) / 2, plus - minus ]);\n        d.rbmLabel.push(rbm);\n        d.rbm.push(t);\n      }\n    }\n    catch (err)\n    {\n      if (err.message === 'dt') break;\n      else throw err;\n    }\n  }\n\n  return d;\n}\n","\n'use strict';function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}}\n\nvar seriesThreshold = 90; // max processable (2n + m) limit\n\nvar AssignResult = {\n  accurate: 0,\n  possible: 1,\n  impossible: 2,\n  error: 3 };\n\n\nvar typeArr = [\n'Air-suspended SWNTs', 'SWNTs on \\\\(\\\\mathrm{SiO_2}/\\\\mathrm{Si}\\\\) substrates', 'SWNT arrays on quartz substrates',\n'\"Super-growth\" SWNTs', 'SDS-dispersed SWNTs', 'ssDNA-dispersed SWNTs'];\n\nvar paramType0 = [\n[1.194, 0.179, 0.053],\n[2.110, 0.388, 0.154],\n[3.170, 0.764, 0.286], //M11\n[4.286, 1.230, 0.412],\n[5.380, 1.922, 0.644],\n[6.508, 2.768, 0.928], //M22\n[7.624, 3.768, 1.024], //S55\n[8.734, 4.921, 1.479], //S66\n[9.857, 6.228, 1.692] //M33\n]; // (a, b, c) of type 0\nvar betaP = [\n[0.09, -0.07],\n[-0.18, 0.14],\n[-0.19, 0.29],\n[0.49, -0.33],\n[-0.43, 0.59],\n[-0.6, 0.57]];\n// type 3\n\nvar p1Arr = [\n'\\\\(S_{11}\\\\)', '\\\\(S_{22}\\\\)', '\\\\(M_{11}^-\\\\)', '\\\\(M_{11}^+\\\\)', '\\\\(S_{33}\\\\)', '\\\\(S_{44}\\\\)',\n'\\\\(M_{22}^-\\\\)', '\\\\(M_{22}^+\\\\)', '\\\\(S_{55}\\\\)', '\\\\(S_{66}\\\\)', '\\\\(M_{33}^-\\\\)', '\\\\(M_{33}^+\\\\)'];\n\n\nvar p1Arr_raw = [\n'S_{11}', 'S_{22}', 'M_{11}^-', 'M_{11}^+', 'S_{33}', 'S_{44}', 'M_{22}^-', 'M_{22}^+', 'S_{55}', 'S_{66}',\n'M_{33}^-', 'M_{33}^+'];\n\n\nvar p1ToP = [0, 1, 2, 2, 3, 4, 5, 5, 6, 7, 8, 8];\nvar pToLesser = [0, 0, 2, 3, 3, 5, 6, 6, 9];\nvar p1ToLesser = function p1ToLesser(p1) {return p1 % 2 === 0 ? p1 : p1 - 1;};\n\nvar Dt = function Dt(n, m, type) {return (type !== 4 ? 0.142 : 0.144) * Math.sqrt(3 * (n * n + n * m + m * m)) / Math.PI;};\nvar Theta = function Theta(n, m) {return Math.atan(Math.sqrt(3) * m / (2 * n + m));};\nvar Mod = function Mod(n, m) {return (2 * n + m) % 3;};\nvar isMetalP = function isMetalP(p) {return (p + 1) % 3 === 0;};\nvar isMetalNM = function isMetalNM(n, m) {return Mod(n, m) === 0;};\nvar isMetal = function isMetal() {return arguments.length === 2 ?\n  isMetalNM(arguments[0], arguments[1]) :\n  isMetalP(arguments[0]);};\n\nfunction getRBMParameters(p, type) {var\n  Param =\n  function Param(a, b) {_classCallCheck(this, Param);this.a = a;this.b = b;};\n\n  switch (type) {\n    case 0:switch (p) {\n        case 0:case 1:return new Param(204, 27);\n        case 2:return new Param(200, 26);\n        default:return new Param(228, 0);}\n\n    case 1:return new Param(235.9, 5.5);\n    case 2:return new Param(217.8, 15.7);\n    case 3:return new Param(227.0, 0.3);\n    case 4:return new Param(223.5, 12.5);\n    case 5:return new Param(218, 18.3);\n    default:throw new Error('invalid type');}\n\n}\n\nfunction wRBM2Dt(wRBM, p, type) {\n  var ab = getRBMParameters(p, type);\n  return ab.a / (wRBM - ab.b);\n}\n\nfunction dt2RBM(dt, p, type) {\n  var ab = getRBMParameters(p, type);\n  return ab.a / dt + ab.b;\n}\n\nvar getEnergy = function getEnergy(dt, theta, p, type, mod) {return getEnergyFromCos3Theta(dt, Math.cos(3 * theta), p, type, mod);};\n\nfunction getEnergyFromCos3Theta(dt, cos3Theta, p, type, mod)\n{\n  var r = void 0; // return value\n  if (isMetal(p) && mod > 0)\n  throw new Error('mod should be in accordance with p');\n  if (type <= 2) {\n\n    if (p >= 9)\n    throw new Error('higher than S66 not available');\n    var derivative = -paramType0[p][0] / (dt * dt) + 2 * paramType0[p][1] / (dt * dt * dt);\n    if (derivative > 0) // 1st derivative\n      throw new Error('dt');\n    if (isMetal(p))\n    r = paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) + paramType0[p][2] / (dt * dt) * cos3Theta * (mod * 2 + 1);\n    // mod * 2 + 1 <==> mod === 0 ? 1 : -1\n    else\n      r = paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) +\n      paramType0[p][2] / (dt * dt) * cos3Theta * (p % 3 === mod % 2 ? -1 : 1);\n    r -= type === 1 ? 0.04 : type === 2 ? 0.1 : 0;\n\n  } else if (type === 3) {\n\n    if (p >= 6)\n    throw new Error('higher than M22 not available for Super-Growth');\n    var a = 1.074,b = 0.467,c = 0.812;\n    var sgE = function sgE(extMod) {return a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt))) +\n      betaP[p][extMod] / (dt * dt) * cos3Theta + (\n      p > 2 ? 0.059 * (p + 1) / dt : 0);}; // extra for larger than M11; warning: p + 1\n    if (isMetal(p))\n    r = sgE(mod + 1); // 0(Mii+) -> 1, -1(Mii-) -> 0\n    else\n      r = sgE(mod - 1); // 1(MOD1) -> 0, 2(MOD2) -> 1\n\n  } else if (type === 4 || type === 5) {\n\n    if (p === 0)\n    r = 1 / (0.1270 + 0.8606 * dt) + (mod === 1 ? 0.04575 : -0.08802) / (dt * dt) * cos3Theta;else\n    if (p === 1)\n    r = 1 / (0.1174 + 0.4644 * dt) + (mod === 1 ? -0.1829 : 0.1705) / (dt * dt) * cos3Theta;else\n\n    throw new Error('only S11 and S22 are available for SDS-dispersed or ssDNA dispersed');\n    r -= type === 5 ? 0.02 : 0;\n\n  } else throw new Error('invalid type');\n\n  return r;\n}\n\nfunction getCos3Theta(val, dt, p, type) {\n\n  // returns cos3Theta as [val_modLesser, val_modLarger]\n\n  var r = [-1, -1];\n\n  if (type <= 2) {\n\n    if (p >= 9)\n    throw new Error('higher than S66 not available');\n    val += type === 1 ? 0.04 : type === 2 ? 0.1 : 0;\n    if (isMetal(p)) {\n      r[0] = (paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) - val) / paramType0[p][2] * (dt * dt); // Mii-\n      r[1] = -(paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) - val) / paramType0[p][2] * (dt * dt); // Mii+\n    } else {\n      r[0] = -(paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) - val) /\n      paramType0[p][2] * (dt * dt) * (p % 3 === 1 % 2 ? -1 : 1); //mod1\n      r[1] = -(paramType0[p][0] / dt - paramType0[p][1] / (dt * dt) - val) /\n      paramType0[p][2] * (dt * dt) * (p % 3 === 2 % 2 ? -1 : 1); //mod2\n    }\n\n  } else if (type === 3) {\n\n    if (p >= 6)\n    throw new Error('higher than M22 not available for Super-Growth');\n    var a = 1.074,b = 0.467,c = 0.812;\n    var calc = function calc(extMod) {return (val - a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt))) - (\n      p > 2 ? 0.059 * (p + 1) / dt : 0)) / betaP[p][extMod] * (dt * dt);};\n    r[0] = calc(0); //Mii- or MOD1\n    r[1] = calc(1);\n\n  } else if (type === 4 || type === 5) {\n\n    val += type === 5 ? 0.02 : 0;\n    if (p === 0) {\n      r[0] = (val - 1 / (0.1270 + 0.8606 * dt)) / 0.04575 * (dt * dt); // MOD1\n      r[1] = (val - 1 / (0.1270 + 0.8606 * dt)) / -0.08802 * (dt * dt);\n    } else if (p === 1) {\n      r[0] = (val - 1 / (0.1174 + 0.4644 * dt)) / -0.1829 * (dt * dt); // MOD1\n      r[1] = (val - 1 / (0.1174 + 0.4644 * dt)) / 0.1705 * (dt * dt);\n    } else throw new Error('only S11 and S22 are available for SDS-disp. or ssDNA disp.');\n\n  } else throw new Error('invalid type');\n\n  r[0] = parseFloat(r[0].toFixed(4)); // 4 digits\n  r[1] = parseFloat(r[1].toFixed(4));\n  if (r[0] > 1 || r[0] < 0)\n  r[0] = -1;\n  if (r[1] > 1 || r[1] < 0)\n  r[1] = -1;\n  return r;\n\n}\n\nfunction getAverage(splitting, wRBM, pLesser, type) {\n\n  var cos3ThetaMax = 1.5;\n  // returns null-able average\n\n  var dt = wRBM2Dt(wRBM, pLesser, type);\n\n  if (isMetal(pLesser + 1)) throw new Error('p should be the smaller one');\n  if (type <= 2) {\n    if (pLesser >= 9)\n    throw new Error('higher than S66 not available');\n\n    if (isMetal(pLesser)) {\n\n      var cos3Theta = dt * dt * splitting / 2 * paramType0[pLesser][2];\n      if (cos3Theta < 0 || cos3Theta > cos3ThetaMax) return null;\n      try {\n        return (\n        getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, -1) +\n        getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, 0)) /\n        2;\n      } catch (err) {\n        if (err.message === 'dt')\n        return null;else\n        throw err;\n      }\n    } else {\n      var pLarger = pLesser + 1;\n      var delta = function delta(x) {return paramType0[pLarger][x] - paramType0[pLesser][x];};\n      var mod = 1;\n      var _cos3Theta = (splitting * dt * dt - delta(0) * dt + delta(1)) / (\n      paramType0[pLarger][2] * (pLarger % 3 === mod % 2 ? -1 : 1) -\n      paramType0[pLesser][2] * (pLesser % 3 === mod % 2 ? -1 : 1));\n\n      if (_cos3Theta < 0) {\n        mod = 2;\n        _cos3Theta = -_cos3Theta;\n      }\n      if (_cos3Theta > cos3ThetaMax) return null;\n      try {\n        return (\n        getEnergyFromCos3Theta(dt, _cos3Theta, pLarger, type, mod) +\n        getEnergyFromCos3Theta(dt, _cos3Theta, pLesser, type, mod)) /\n        2;\n      } catch (err) {\n        if (err.message === 'dt')\n        return null;else\n        throw err;\n      }\n    }\n  } else if (type === 3) {\n    var a = 1.074,b = 0.467,c = 0.812;\n    var sgE = function sgE(p) {return a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt))) + (\n      p > 2 ? 0.059 * (p + 1) / dt : 0);};\n\n    if (isMetal(pLesser)) {\n\n      var _cos3Theta2 = splitting * dt * dt / (betaP[pLesser][1] - betaP[pLesser][0]);\n      if (_cos3Theta2 < 0 || _cos3Theta2 > cos3ThetaMax)\n      return null;\n      return (\n      getEnergyFromCos3Theta(dt, _cos3Theta2, pLesser, type, -1) +\n      getEnergyFromCos3Theta(dt, _cos3Theta2, pLesser, type, 0)) /\n      2;\n\n    } else {\n\n      var _pLarger = pLesser + 1;\n      var _mod = 1;\n      if (pLesser >= 6)\n      throw new Error('higher than M22 not available for Super-Growth');\n      var _cos3Theta3 = (splitting + sgE(pLesser) - sgE(_pLarger)) * dt * dt / (\n      betaP[_pLarger][_mod - 1] - betaP[pLesser][_mod - 1]);\n\n      if (_cos3Theta3 < 0 || _cos3Theta3 > cos3ThetaMax) {\n        _mod = 2;\n        _cos3Theta3 = (splitting + sgE(pLesser) - sgE(_pLarger)) * dt * dt / (\n        betaP[_pLarger][_mod - 1] - betaP[pLesser][_mod - 1]);\n      }\n      if (_cos3Theta3 < 0 || _cos3Theta3 > cos3ThetaMax)\n      return null;\n      return (\n      getEnergyFromCos3Theta(dt, _cos3Theta3, _pLarger, type, _mod) +\n      getEnergyFromCos3Theta(dt, _cos3Theta3, pLesser, type, _mod)) /\n      2;\n    }\n\n  } else if (type === 4 || type === 5) {\n\n    if (pLesser !== 0)\n    throw new Error('only S11 and S22 are available for SDS-disp. or ssDNA disp.');\n    var _mod2 = 1;\n    var _cos3Theta4 = (splitting - (1 / (0.1174 + 0.4644 * dt) - 1 / (0.1270 + 0.8606 * dt))) *\n    dt * dt / (-0.1829 - 0.04575);\n\n    if (_cos3Theta4 > cos3ThetaMax || _cos3Theta4 < 0) {\n      _mod2 = 2;\n      _cos3Theta4 = (splitting - (1 / (0.1174 + 0.4644 * dt) - 1 / (0.1270 + 0.8606 * dt))) *\n      dt * dt / (0.1705 - -0.08802);\n    }\n    if (_cos3Theta4 > cos3ThetaMax || _cos3Theta4 < 0)\n    return null;\n\n    return (\n    getEnergyFromCos3Theta(dt, _cos3Theta4, 1, type, _mod2) +\n    getEnergyFromCos3Theta(dt, _cos3Theta4, 0, type, _mod2)) /\n    2;\n  } else\n  throw new Error('invalid type');\n}\n\nfunction getList(pLesser, type) {\n\n  var li = [];\n  var nMin = 5,nMax = 50;\n\n  if (!isMetal(pLesser)) {\n    if (isMetal(pLesser + 1)) throw new Error('p should be the smaller one, e.g. S11 rather than S22');\n    for (var n = nMin; n < nMax; n++) {\n      for (var m = 0; m <= n; m++) {\n\n        if (2 * n + m > seriesThreshold) break;\n        try {\n          if (!isMetal(n, m)) {\n            var dl = getEnergy(Dt(n, m, type), Theta(n, m), pLesser, type, Mod(n, m));\n            var dh = getEnergy(Dt(n, m, type), Theta(n, m), pLesser + 1, type, Mod(n, m));\n            li.push([n, m, (dh + dl) / 2, dh - dl]);\n          }\n        } catch (err) {\n          if (err.message !== 'dt') throw err;\n        }\n      }}\n  } else {\n    for (var _n = nMin; _n < nMax; _n++) {\n      for (var _m = 0; _m <= _n; _m++) {\n\n        if (2 * _n + _m > seriesThreshold) break;\n        try {\n          if (isMetal(_n, _m)) {\n            var _dl = getEnergy(Dt(_n, _m, type), Theta(_n, _m), pLesser, type, -1);\n            var _dh = getEnergy(Dt(_n, _m, type), Theta(_n, _m), pLesser, type, 0);\n            li.push([_n, _m, (_dh + _dl) / 2, _dh - _dl]);\n          }\n        } catch (err) {\n          if (err.message !== 'dt') throw err;\n        }\n      }}\n  }\n  return li;\n}\n\nfunction getRBMArray(pLesser, type) {\n\n  var d = { rbmLabel: [], rbm: [] }; // return\n\n  var cos3ThetaMax = 60;\n  var wRBMMin = 70,wRBMMax = 350;\n  if (!isMetal(pLesser) && isMetal(pLesser + 1))\n  throw new Error('p should be the smaller one, e.g. S11 rather than S22');\n\n  for (var rbm = wRBMMin; rbm <= wRBMMax; rbm += 10) {\n\n    var dt = wRBM2Dt(rbm, pLesser, type);\n    var t = [];\n    try {\n      if (isMetal(pLesser)) {\n        var plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 0);\n        var minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, -1);\n        t.push([(plus + minus) / 2, plus - minus]);\n        plus = getEnergyFromCos3Theta(dt, -cos3ThetaMax, pLesser, type, 0);\n        minus = getEnergyFromCos3Theta(dt, -cos3ThetaMax, pLesser, type, -1);\n        t.push([(plus + minus) / 2, plus - minus]);\n        d.rbmLabel.push(rbm);\n        d.rbm.push(t);\n      } else {\n        var _plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser + 1, type, 1); //should it be higher?\n        var _minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 1);\n        t.push([(_plus + _minus) / 2, _plus - _minus]);\n        _plus = getEnergyFromCos3Theta(dt, 0, pLesser + 1, type, 2);\n        _minus = getEnergyFromCos3Theta(dt, 0, pLesser, type, 2);\n        t.push([(_plus + _minus) / 2, _plus - _minus]);\n        _plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser + 1, type, 2);\n        _minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 2);\n        t.push([(_plus + _minus) / 2, _plus - _minus]);\n        d.rbmLabel.push(rbm);\n        d.rbm.push(t);\n      }\n    }\n    catch (err)\n    {\n      if (err.message === 'dt') break;else\n      throw err;\n    }\n  }\n\n  return d;\n}\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVuZXJneS5qcyJdLCJuYW1lcyI6WyJzZXJpZXNUaHJlc2hvbGQiLCJBc3NpZ25SZXN1bHQiLCJhY2N1cmF0ZSIsInBvc3NpYmxlIiwiaW1wb3NzaWJsZSIsImVycm9yIiwidHlwZUFyciIsInBhcmFtVHlwZTAiLCJiZXRhUCIsInAxQXJyIiwicDFBcnJfcmF3IiwicDFUb1AiLCJwVG9MZXNzZXIiLCJwMVRvTGVzc2VyIiwicDEiLCJEdCIsIm4iLCJtIiwidHlwZSIsIk1hdGgiLCJzcXJ0IiwiUEkiLCJUaGV0YSIsImF0YW4iLCJNb2QiLCJpc01ldGFsUCIsInAiLCJpc01ldGFsTk0iLCJpc01ldGFsIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZ2V0UkJNUGFyYW1ldGVycyIsIlBhcmFtIiwiYSIsImIiLCJFcnJvciIsIndSQk0yRHQiLCJ3UkJNIiwiYWIiLCJkdDJSQk0iLCJkdCIsImdldEVuZXJneSIsInRoZXRhIiwibW9kIiwiZ2V0RW5lcmd5RnJvbUNvczNUaGV0YSIsImNvcyIsImNvczNUaGV0YSIsInIiLCJkZXJpdmF0aXZlIiwiYyIsInNnRSIsImV4dE1vZCIsImxvZzEwIiwiZ2V0Q29zM1RoZXRhIiwidmFsIiwiY2FsYyIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwiZ2V0QXZlcmFnZSIsInNwbGl0dGluZyIsInBMZXNzZXIiLCJjb3MzVGhldGFNYXgiLCJlcnIiLCJtZXNzYWdlIiwicExhcmdlciIsImRlbHRhIiwieCIsImdldExpc3QiLCJsaSIsIm5NaW4iLCJuTWF4IiwiZGwiLCJkaCIsInB1c2giLCJnZXRSQk1BcnJheSIsImQiLCJyYm1MYWJlbCIsInJibSIsIndSQk1NaW4iLCJ3UkJNTWF4IiwidCIsInBsdXMiLCJtaW51cyJdLCJtYXBwaW5ncyI6IjtBQUNBLGE7O0FBRUEsSUFBTUEsa0JBQWtCLEVBQXhCLEMsQ0FBNEI7O0FBRTVCLElBQU1DLGVBQWU7QUFDbkJDLFlBQVcsQ0FEUTtBQUVuQkMsWUFBVyxDQUZRO0FBR25CQyxjQUFhLENB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RUFBa0QxQyxJQUFsRCxFQUF3RCxDQUF4RCxDQUFSO0FBQ0E4RCxVQUFFUCxJQUFGLENBQU8sQ0FBRSxDQUFDUSxRQUFPQyxNQUFSLElBQWlCLENBQW5CLEVBQXNCRCxRQUFPQyxNQUE3QixDQUFQO0FBQ0FQLFVBQUVDLFFBQUYsQ0FBV0gsSUFBWCxDQUFnQkksR0FBaEI7QUFDQUYsVUFBRUUsR0FBRixDQUFNSixJQUFOLENBQVdPLENBQVg7QUFDRDtBQUNGO0FBQ0QsV0FBT2xCLEdBQVA7QUFDQTtBQUNFLFVBQUlBLElBQUlDLE9BQUosS0FBZ0IsSUFBcEIsRUFBMEIsTUFBMUI7QUFDSyxZQUFNRCxHQUFOO0FBQ047QUFDRjs7QUFFRCxTQUFPYSxDQUFQO0FBQ0QiLCJmaWxlIjoiRW5lcmd5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IHNlcmllc1RocmVzaG9sZCA9IDkwOyAvLyBtYXggcHJvY2Vzc2FibGUgKDJuICsgbSkgbGltaXRcblxuY29uc3QgQXNzaWduUmVzdWx0ID0ge1xuICBhY2N1cmF0ZSA6IDAsXG4gIHBvc3NpYmxlIDogMSxcbiAgaW1wb3NzaWJsZSA6IDIsXG4gIGVycm9yIDogM1xufTtcblxuY29uc3QgdHlwZUFyciA9IFtcbiAgJ0Fpci1zdXNwZW5kZWQgU1dOVHMnLCAnU1dOVHMgb24gXFxcXChcXFxcbWF0aHJte1NpT18yfS9cXFxcbWF0aHJte1NpfVxcXFwpIHN1YnN0cmF0ZXMnLCAnU1dOVCBhcnJheXMgb24gcXVhcnR6IHN1YnN0cmF0ZXMnLFxuICAnXCJTdXBlci1ncm93dGhcIiBTV05UcycsICdTRFMtZGlzcGVyc2VkIFNXTlRzJywgJ3NzRE5BLWRpc3BlcnNlZCBTV05Ucydcbl07XG5jb25zdCBwYXJhbVR5cGUwID0gW1xuICBbIDEuMTk0LCAwLjE3OSwgMC4wNTMgXSxcbiAgWyAyLjExMCwgMC4zODgsIDAuMTU0IF0sXG4gIFsgMy4xNzAsIDAuNzY0LCAwLjI4NiBdLCAvL00xMVxuICBbIDQuMjg2LCAxLjIzMCwgMC40MTIgXSxcbiAgWyA1LjM4MCwgMS45MjIsIDAuNjQ0IF0sXG4gIFsgNi41MDgsIDIuNzY4LCAwLjkyOCBdLCAvL00yMlxuICBbIDcuNjI0LCAzLjc2OCwgMS4wMjQgXSwgLy9TNTVcbiAgWyA4LjczNCwgNC45MjEsIDEuNDc5IF0sIC8vUzY2XG4gIFsgOS44NTcsIDYuMjI4LCAxLjY5MiBdICAvL00zM1xuXTsgLy8gKGEsIGIsIGMpIG9mIHR5cGUgMFxuY29uc3QgYmV0YVAgPVtcbiAgWyAwLjA5LCAtMC4wNyBdLFxuICBbIC0wLjE4LCAwLjE0IF0sXG4gIFsgLTAuMTksIDAuMjkgXSxcbiAgWyAwLjQ5LCAtMC4zMyBdLFxuICBbIC0wLjQzLCAwLjU5IF0sXG4gIFsgLTAuNiwgMC41NyBdXG5dOyAvLyB0eXBlIDNcblxuY29uc3QgcDFBcnIgPSBbXG4gICdcXFxcKFNfezExfVxcXFwpJywgJ1xcXFwoU197MjJ9XFxcXCknLCAnXFxcXChNX3sxMX1eLVxcXFwpJywgJ1xcXFwoTV97MTF9XitcXFxcKScsICdcXFxcKFNfezMzfVxcXFwpJywgJ1xcXFwoU197NDR9XFxcXCknLFxuICAnXFxcXChNX3syMn1eLVxcXFwpJywgJ1xcXFwoTV97MjJ9XitcXFxcKScsICdcXFxcKFNfezU1fVxcXFwpJywgJ1xcXFwoU197NjZ9XFxcXCknLCAnXFxcXChNX3szM31eLVxcXFwpJywgJ1xcXFwoTV97MzN9XitcXFxcKSdcbl07XG5cbmNvbnN0IHAxQXJyX3JhdyA9IFtcbiAgJ1NfezExfScsICdTX3syMn0nLCAnTV97MTF9Xi0nLCAnTV97MTF9XisnLCAnU197MzN9JywgJ1NfezQ0fScsICdNX3syMn1eLScsICdNX3syMn1eKycsICdTX3s1NX0nLCAnU197NjZ9JyxcbiAgJ01fezMzfV4tJywgJ01fezMzfV4rJ1xuXTtcblxuY29uc3QgcDFUb1AgPSBbIDAsIDEsIDIsIDIsIDMsIDQsIDUsIDUsIDYsIDcsIDgsIDggXTtcbmNvbnN0IHBUb0xlc3NlciA9IFsgMCwgMCwgMiwgMywgMywgNSwgNiwgNiwgOSBdO1xuY29uc3QgcDFUb0xlc3NlciA9IChwMSkgPT4gcDEgJSAyID09PSAwID8gcDEgOiBwMSAtIDE7XG5cbmNvbnN0IER0ID0gKG4sIG0sIHR5cGUpID0+ICgodHlwZSAhPT0gNCkgPyAwLjE0MiA6IDAuMTQ0KSAqIE1hdGguc3FydCgzICogKG4gKiBuICsgbiAqIG0gKyBtICogbSkpIC8gTWF0aC5QSTtcbmNvbnN0IFRoZXRhID0gKG4sIG0pID0+IE1hdGguYXRhbihNYXRoLnNxcnQoMykgKiBtIC8gKDIgKiBuICsgbSkpO1xuY29uc3QgTW9kID0gKG4sIG0pID0+ICgyICogbiArIG0pICUgMztcbmNvbnN0IGlzTWV0YWxQID0gKHApID0+IChwICsgMSkgJSAzID09PSAwO1xuY29uc3QgaXNNZXRhbE5NID0gKG4sIG0pID0+IE1vZChuLCBtKSA9PT0gMDtcbmNvbnN0IGlzTWV0YWwgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAyID9cbiAgaXNNZXRhbE5NKGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6XG4gIGlzTWV0YWxQKGFyZ3VtZW50c1swXSk7IH07XG5cbmZ1bmN0aW9uIGdldFJCTVBhcmFtZXRlcnMocCwgdHlwZSkge1xuICBjbGFzcyBQYXJhbSB7XG4gICAgY29uc3RydWN0b3IoYSwgYikgeyB0aGlzLmEgPSBhOyB0aGlzLmIgPSBiOyB9XG4gIH1cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAwOiBzd2l0Y2ggKHApIHtcbiAgICAgIGNhc2UgMDogY2FzZSAxOiByZXR1cm4gbmV3IFBhcmFtKDIwNCwgMjcpO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IFBhcmFtKDIwMCwgMjYpO1xuICAgICAgZGVmYXVsdDogcmV0dXJuIG5ldyBQYXJhbSgyMjgsIDApO1xuICAgIH1cbiAgICBjYXNlIDE6IHJldHVybiBuZXcgUGFyYW0oMjM1LjksIDUuNSk7XG4gICAgY2FzZSAyOiByZXR1cm4gbmV3IFBhcmFtKDIxNy44LCAxNS43KTtcbiAgICBjYXNlIDM6IHJldHVybiBuZXcgUGFyYW0oMjI3LjAsIDAuMyk7XG4gICAgY2FzZSA0OiByZXR1cm4gbmV3IFBhcmFtKDIyMy41LCAxMi41KTtcbiAgICBjYXNlIDU6IHJldHVybiBuZXcgUGFyYW0oMjE4LCAxOC4zKTtcbiAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdHlwZScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdSQk0yRHQod1JCTSwgcCwgdHlwZSkge1xuICBsZXQgYWIgPSBnZXRSQk1QYXJhbWV0ZXJzKHAsIHR5cGUpO1xuICByZXR1cm4gYWIuYSAvICh3UkJNIC0gYWIuYik7XG59XG5cbmZ1bmN0aW9uIGR0MlJCTShkdCwgcCwgdHlwZSkge1xuICBsZXQgYWIgPSBnZXRSQk1QYXJhbWV0ZXJzKHAsIHR5cGUpO1xuICByZXR1cm4gYWIuYSAvIGR0ICsgYWIuYjtcbn1cblxuY29uc3QgZ2V0RW5lcmd5ID0gKGR0LCB0aGV0YSwgcCwgdHlwZSwgbW9kKSA9PiBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBNYXRoLmNvcygzICogdGhldGEpLCBwLCB0eXBlLCBtb2QpO1xuXG5mdW5jdGlvbiBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHAsIHR5cGUsIG1vZClcbntcbiAgbGV0IHI7IC8vIHJldHVybiB2YWx1ZVxuICBpZiAoaXNNZXRhbChwKSAmJiBtb2QgPiAwKVxuICAgIHRocm93IG5ldyBFcnJvcignbW9kIHNob3VsZCBiZSBpbiBhY2NvcmRhbmNlIHdpdGggcCcpO1xuICBpZiAodHlwZSA8PSAyKSB7XG5cbiAgICBpZiAocCA+PSA5KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdoaWdoZXIgdGhhbiBTNjYgbm90IGF2YWlsYWJsZScpO1xuICAgIGxldCBkZXJpdmF0aXZlID0gLXBhcmFtVHlwZTBbcF1bMF0gLyAoZHQgKiBkdCkgKyAyICogcGFyYW1UeXBlMFtwXVsxXSAvIChkdCAqIGR0ICogZHQpO1xuICAgIGlmIChkZXJpdmF0aXZlID4gMCkgLy8gMXN0IGRlcml2YXRpdmVcbiAgICAgIHRocm93IG5ldyBFcnJvcignZHQnKTtcbiAgICBpZiAoaXNNZXRhbChwKSlcbiAgICAgIHIgPSBwYXJhbVR5cGUwW3BdWzBdIC8gZHQgLSBwYXJhbVR5cGUwW3BdWzFdIC8gKGR0ICogZHQpICsgcGFyYW1UeXBlMFtwXVsyXSAvIChkdCAqIGR0KSAqIGNvczNUaGV0YSAqIChtb2QgKiAyICsgMSk7XG4gICAgLy8gbW9kICogMiArIDEgPD09PiBtb2QgPT09IDAgPyAxIDogLTFcbiAgICBlbHNlXG4gICAgICByID0gcGFyYW1UeXBlMFtwXVswXSAvIGR0IC0gcGFyYW1UeXBlMFtwXVsxXSAvIChkdCAqIGR0KSArXG4gICAgICAgIHBhcmFtVHlwZTBbcF1bMl0gLyAoZHQgKiBkdCkgKiBjb3MzVGhldGEgKiAoKChwICUgMykgPT09IChtb2QgJSAyKSkgPyAtMSA6IDEpO1xuICAgIHIgLT0gKHR5cGUgPT09IDEpID8gMC4wNCA6ICgodHlwZSA9PT0gMikgPyAwLjEgOiAwKTtcblxuICB9IGVsc2UgaWYgKHR5cGUgPT09IDMpIHtcblxuICAgIGlmIChwID49IDYpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hpZ2hlciB0aGFuIE0yMiBub3QgYXZhaWxhYmxlIGZvciBTdXBlci1Hcm93dGgnKTtcbiAgICBsZXQgYSA9IDEuMDc0LCBiID0gMC40NjcsIGMgPSAwLjgxMjtcbiAgICBsZXQgc2dFID0gKGV4dE1vZCkgPT4gYSAqIChwICsgMSkgLyBkdCAqICgxICsgYiAqIE1hdGgubG9nMTAoYyAvICgocCArIDEpIC8gZHQpKSlcbiAgICAgICsgYmV0YVBbcF1bZXh0TW9kXSAvIChkdCAqIGR0KSAqIGNvczNUaGV0YVxuICAgICAgKyAoKHAgPiAyKSA/IDAuMDU5ICogKHAgKyAxKSAvIGR0IDogMCk7IC8vIGV4dHJhIGZvciBsYXJnZXIgdGhhbiBNMTE7IHdhcm5pbmc6IHAgKyAxXG4gICAgaWYgKGlzTWV0YWwocCkpXG4gICAgICByID0gc2dFKG1vZCArIDEpOyAvLyAwKE1paSspIC0+IDEsIC0xKE1paS0pIC0+IDBcbiAgICBlbHNlXG4gICAgICByID0gc2dFKG1vZCAtIDEpOyAvLyAxKE1PRDEpIC0+IDAsIDIoTU9EMikgLT4gMVxuXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gNCB8fCB0eXBlID09PSA1KSB7XG5cbiAgICBpZiAocCA9PT0gMClcbiAgICAgIHIgPSAxIC8gKDAuMTI3MCArIDAuODYwNiAqIGR0KSArICgobW9kID09PSAxKSA/IDAuMDQ1NzUgOiAtMC4wODgwMikgLyAoZHQgKiBkdCkgKiBjb3MzVGhldGE7XG4gICAgZWxzZSBpZiAocCA9PT0gMSlcbiAgICAgIHIgPSAxIC8gKDAuMTE3NCArIDAuNDY0NCAqIGR0KSArICgobW9kID09PSAxKSA/IC0wLjE4MjkgOiAwLjE3MDUpIC8gKGR0ICogZHQpICogY29zM1RoZXRhO1xuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvcignb25seSBTMTEgYW5kIFMyMiBhcmUgYXZhaWxhYmxlIGZvciBTRFMtZGlzcGVyc2VkIG9yIHNzRE5BIGRpc3BlcnNlZCcpO1xuICAgIHIgLT0gKHR5cGUgPT09IDUpID8gMC4wMiA6IDA7XG5cbiAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0eXBlJyk7XG5cbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIGdldENvczNUaGV0YSh2YWwsIGR0LCBwLCB0eXBlKSB7XG5cbiAgLy8gcmV0dXJucyBjb3MzVGhldGEgYXMgW3ZhbF9tb2RMZXNzZXIsIHZhbF9tb2RMYXJnZXJdXG5cbiAgbGV0IHIgPSBbLTEsIC0xXTtcblxuICBpZiAodHlwZSA8PSAyKSB7XG5cbiAgICBpZiAocCA+PSA5KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdoaWdoZXIgdGhhbiBTNjYgbm90IGF2YWlsYWJsZScpO1xuICAgIHZhbCArPSAodHlwZSA9PT0gMSkgPyAwLjA0IDogKCh0eXBlID09PSAyKSA/IDAuMSA6IDApO1xuICAgIGlmIChpc01ldGFsKHApKSB7XG4gICAgICByWzBdID0gKHBhcmFtVHlwZTBbcF1bMF0gLyBkdCAtIHBhcmFtVHlwZTBbcF1bMV0gLyAoZHQgKiBkdCkgLSB2YWwpIC8gcGFyYW1UeXBlMFtwXVsyXSAqIChkdCAqIGR0KTsgLy8gTWlpLVxuICAgICAgclsxXSA9ICgtKHBhcmFtVHlwZTBbcF1bMF0gLyBkdCAtIHBhcmFtVHlwZTBbcF1bMV0gLyAoZHQgKiBkdCkgLSB2YWwpKSAvIHBhcmFtVHlwZTBbcF1bMl0gKiAoZHQgKiBkdCk7IC8vIE1paStcbiAgICB9IGVsc2Uge1xuICAgICAgclswXSA9ICgtKHBhcmFtVHlwZTBbcF1bMF0gLyBkdCAtIHBhcmFtVHlwZTBbcF1bMV0gLyAoZHQgKiBkdCkgLSB2YWwpKVxuICAgICAgICAvIHBhcmFtVHlwZTBbcF1bMl0gKiAoZHQgKiBkdCkgKiAoKChwICUgMykgPT09ICgxICUgMikpID8gLTEgOiAxKTsgLy9tb2QxXG4gICAgICByWzFdID0gKC0ocGFyYW1UeXBlMFtwXVswXSAvIGR0IC0gcGFyYW1UeXBlMFtwXVsxXSAvIChkdCAqIGR0KSAtIHZhbCkpXG4gICAgICAgIC8gcGFyYW1UeXBlMFtwXVsyXSAqIChkdCAqIGR0KSAqICgoKHAgJSAzKSA9PT0gKDIgJSAyKSkgPyAtMSA6IDEpOyAvL21vZDJcbiAgICB9XG5cbiAgfSBlbHNlIGlmICh0eXBlID09PSAzKSB7XG5cbiAgICBpZiAocCA+PSA2KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdoaWdoZXIgdGhhbiBNMjIgbm90IGF2YWlsYWJsZSBmb3IgU3VwZXItR3Jvd3RoJyk7XG4gICAgbGV0IGEgPSAxLjA3NCwgYiA9IDAuNDY3LCBjID0gMC44MTI7XG4gICAgbGV0IGNhbGMgPSAoZXh0TW9kKSA9PiAodmFsIC0gYSAqIChwICsgMSkgLyBkdCAqICgxICsgYiAqIE1hdGgubG9nMTAoYyAvICgocCArIDEpIC8gZHQpKSkgLVxuICAgICAgKChwID4gMikgPyAwLjA1OSAqIChwICsgMSkgLyBkdCA6IDApKSAvIGJldGFQW3BdW2V4dE1vZF0gKiAoZHQgKiBkdCk7XG4gICAgclswXSA9IGNhbGMoMCk7IC8vTWlpLSBvciBNT0QxXG4gICAgclsxXSA9IGNhbGMoMSk7XG5cbiAgfSBlbHNlIGlmICh0eXBlID09PSA0IHx8IHR5cGUgPT09IDUpIHtcblxuICAgIHZhbCArPSAodHlwZSA9PT0gNSkgPyAwLjAyIDogMDtcbiAgICBpZiAocCA9PT0gMCkge1xuICAgICAgclswXSA9ICh2YWwgLSAxIC8gKDAuMTI3MCArIDAuODYwNiAqIGR0KSkgLyAwLjA0NTc1ICogKGR0ICogZHQpOyAvLyBNT0QxXG4gICAgICByWzFdID0gKHZhbCAtIDEgLyAoMC4xMjcwICsgMC44NjA2ICogZHQpKSAvICgtMC4wODgwMikgKiAoZHQgKiBkdCk7XG4gICAgfSBlbHNlIGlmIChwID09PSAxKSB7XG4gICAgICByWzBdID0gKHZhbCAtIDEgLyAoMC4xMTc0ICsgMC40NjQ0ICogZHQpKSAvICgtMC4xODI5KSAqIChkdCAqIGR0KTsgLy8gTU9EMVxuICAgICAgclsxXSA9ICh2YWwgLSAxIC8gKDAuMTE3NCArIDAuNDY0NCAqIGR0KSkgLyAwLjE3MDUgKiAoZHQgKiBkdCk7XG4gICAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignb25seSBTMTEgYW5kIFMyMiBhcmUgYXZhaWxhYmxlIGZvciBTRFMtZGlzcC4gb3Igc3NETkEgZGlzcC4nKTtcblxuICB9IGVsc2UgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHR5cGUnKTtcblxuICByWzBdID0gcGFyc2VGbG9hdChyWzBdLnRvRml4ZWQoNCkpOyAvLyA0IGRpZ2l0c1xuICByWzFdID0gcGFyc2VGbG9hdChyWzFdLnRvRml4ZWQoNCkpO1xuICBpZiAoclswXSA+IDEgfHwgclswXSA8IDApXG4gICAgclswXSA9IC0xO1xuICBpZiAoclsxXSA+IDEgfHwgclsxXSA8IDApXG4gICAgclsxXSA9IC0xO1xuICByZXR1cm4gcjtcblxufVxuXG5mdW5jdGlvbiBnZXRBdmVyYWdlKHNwbGl0dGluZywgd1JCTSwgcExlc3NlciwgdHlwZSkge1xuXG4gIGxldCBjb3MzVGhldGFNYXggPSAxLjU7XG4gIC8vIHJldHVybnMgbnVsbC1hYmxlIGF2ZXJhZ2VcblxuICBsZXQgZHQgPSB3UkJNMkR0KHdSQk0sIHBMZXNzZXIsIHR5cGUpO1xuXG4gIGlmIChpc01ldGFsKHBMZXNzZXIgKyAxKSkgdGhyb3cgbmV3IEVycm9yKCdwIHNob3VsZCBiZSB0aGUgc21hbGxlciBvbmUnKTtcbiAgaWYgKHR5cGUgPD0gMikge1xuICAgIGlmIChwTGVzc2VyID49IDkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hpZ2hlciB0aGFuIFM2NiBub3QgYXZhaWxhYmxlJyk7XG5cbiAgICBpZiAoaXNNZXRhbChwTGVzc2VyKSkge1xuXG4gICAgICBsZXQgY29zM1RoZXRhID0gZHQgKiBkdCAqIHNwbGl0dGluZyAvIDIgKiBwYXJhbVR5cGUwW3BMZXNzZXJdWzJdO1xuICAgICAgaWYgKGNvczNUaGV0YSA8IDAgfHwgY29zM1RoZXRhID4gY29zM1RoZXRhTWF4KSByZXR1cm4gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgZ2V0RW5lcmd5RnJvbUNvczNUaGV0YShkdCwgY29zM1RoZXRhLCBwTGVzc2VyLCB0eXBlLCAtMSkgK1xuICAgICAgICAgIGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YSwgcExlc3NlciwgdHlwZSwgMClcbiAgICAgICAgKSAvIDI7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyci5tZXNzYWdlID09PSAnZHQnKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHBMYXJnZXIgPSBwTGVzc2VyICsgMTtcbiAgICAgIGxldCBkZWx0YSA9ICh4KSA9PiBwYXJhbVR5cGUwW3BMYXJnZXJdW3hdIC0gcGFyYW1UeXBlMFtwTGVzc2VyXVt4XTtcbiAgICAgIGxldCBtb2QgPSAxO1xuICAgICAgbGV0IGNvczNUaGV0YSA9IChzcGxpdHRpbmcgKiBkdCAqIGR0IC0gZGVsdGEoMCkgKiBkdCArIGRlbHRhKDEpKSAvIChcbiAgICAgICAgcGFyYW1UeXBlMFtwTGFyZ2VyXVsyXSAqICgoKHBMYXJnZXIgJSAzKSA9PT0gKG1vZCAlIDIpKSA/IC0xIDogMSkgLVxuICAgICAgICBwYXJhbVR5cGUwW3BMZXNzZXJdWzJdICogKCgocExlc3NlciAlIDMpID09PSAobW9kICUgMikpID8gLTEgOiAxKVxuICAgICAgKTtcbiAgICAgIGlmIChjb3MzVGhldGEgPCAwKSB7XG4gICAgICAgIG1vZCA9IDI7XG4gICAgICAgIGNvczNUaGV0YSA9IC1jb3MzVGhldGE7XG4gICAgICB9XG4gICAgICBpZiAoY29zM1RoZXRhID4gY29zM1RoZXRhTWF4KSByZXR1cm4gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgZ2V0RW5lcmd5RnJvbUNvczNUaGV0YShkdCwgY29zM1RoZXRhLCBwTGFyZ2VyLCB0eXBlLCBtb2QpICtcbiAgICAgICAgICBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHBMZXNzZXIsIHR5cGUsIG1vZClcbiAgICAgICAgKSAvIDI7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyci5tZXNzYWdlID09PSAnZHQnKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gMykge1xuICAgIGxldCBhID0gMS4wNzQsIGIgPSAwLjQ2NywgYyA9IDAuODEyO1xuICAgIGxldCBzZ0UgPSAocCkgPT4gYSAqIChwICsgMSkgLyBkdCAqICgxICsgYiAqIE1hdGgubG9nMTAoYyAvICgocCArIDEpIC8gZHQpKSkgK1xuICAgICAgKChwID4gMikgPyAwLjA1OSAqIChwICsgMSkgLyBkdCA6IDApO1xuXG4gICAgaWYgKGlzTWV0YWwocExlc3NlcikpIHtcblxuICAgICAgbGV0IGNvczNUaGV0YSA9IChzcGxpdHRpbmcpICogZHQgKiBkdCAvIChiZXRhUFtwTGVzc2VyXVsxXSAtIGJldGFQW3BMZXNzZXJdWzBdKTtcbiAgICAgIGlmIChjb3MzVGhldGEgPCAwIHx8IGNvczNUaGV0YSA+IGNvczNUaGV0YU1heClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHBMZXNzZXIsIHR5cGUsIC0xKSArXG4gICAgICAgIGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YSwgcExlc3NlciwgdHlwZSwgMClcbiAgICAgICkgLyAyO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgbGV0IHBMYXJnZXIgPSBwTGVzc2VyICsgMTtcbiAgICAgIGxldCBtb2QgPSAxO1xuICAgICAgaWYgKHBMZXNzZXIgPj0gNilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoaWdoZXIgdGhhbiBNMjIgbm90IGF2YWlsYWJsZSBmb3IgU3VwZXItR3Jvd3RoJyk7XG4gICAgICBsZXQgY29zM1RoZXRhID0gKHNwbGl0dGluZyArIHNnRShwTGVzc2VyKSAtIHNnRShwTGFyZ2VyKSkgKiBkdCAqIGR0IC8gKFxuICAgICAgICBiZXRhUFtwTGFyZ2VyXVttb2QgLSAxXSAtIGJldGFQW3BMZXNzZXJdW21vZCAtIDFdXG4gICAgICApO1xuICAgICAgaWYgKGNvczNUaGV0YSA8IDAgfHwgY29zM1RoZXRhID4gY29zM1RoZXRhTWF4KSB7XG4gICAgICAgIG1vZCA9IDI7XG4gICAgICAgIGNvczNUaGV0YSA9IChzcGxpdHRpbmcgKyBzZ0UocExlc3NlcikgLSBzZ0UocExhcmdlcikpICogZHQgKiBkdCAvIChcbiAgICAgICAgICBiZXRhUFtwTGFyZ2VyXVttb2QgLSAxXSAtIGJldGFQW3BMZXNzZXJdW21vZCAtIDFdKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb3MzVGhldGEgPCAwIHx8IGNvczNUaGV0YSA+IGNvczNUaGV0YU1heClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHBMYXJnZXIsIHR5cGUsIG1vZCkgK1xuICAgICAgICBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHBMZXNzZXIsIHR5cGUsIG1vZClcbiAgICAgICkgLyAyO1xuICAgIH1cblxuICB9IGVsc2UgaWYgKHR5cGUgPT09IDQgfHwgdHlwZSA9PT0gNSkge1xuXG4gICAgaWYgKHBMZXNzZXIgIT09IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ubHkgUzExIGFuZCBTMjIgYXJlIGF2YWlsYWJsZSBmb3IgU0RTLWRpc3AuIG9yIHNzRE5BIGRpc3AuJyk7XG4gICAgbGV0IG1vZCA9IDE7XG4gICAgbGV0IGNvczNUaGV0YSA9IChzcGxpdHRpbmcgLSAoMSAvICgwLjExNzQgKyAwLjQ2NDQgKiBkdCkgLSAxIC8gKDAuMTI3MCArIDAuODYwNiAqIGR0KSkpXG4gICAgICAqIGR0ICogZHQgLyAoLTAuMTgyOSAtIDAuMDQ1NzUpO1xuXG4gICAgaWYgKGNvczNUaGV0YSA+IGNvczNUaGV0YU1heCB8fCBjb3MzVGhldGEgPCAwKSB7XG4gICAgICBtb2QgPSAyO1xuICAgICAgY29zM1RoZXRhID0gKHNwbGl0dGluZyAtICgxIC8gKDAuMTE3NCArIDAuNDY0NCAqIGR0KSAtIDEgLyAoMC4xMjcwICsgMC44NjA2ICogZHQpKSlcbiAgICAgICAgKiBkdCAqIGR0IC8gKDAuMTcwNSAtIC0wLjA4ODAyKTtcbiAgICB9XG4gICAgaWYgKGNvczNUaGV0YSA+IGNvczNUaGV0YU1heCB8fCBjb3MzVGhldGEgPCAwKVxuICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgZ2V0RW5lcmd5RnJvbUNvczNUaGV0YShkdCwgY29zM1RoZXRhLCAxLCB0eXBlLCBtb2QpICtcbiAgICAgIGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YSwgMCwgdHlwZSwgbW9kKVxuICAgICkgLyAyO1xuICB9XG4gIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHR5cGUnKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGlzdChwTGVzc2VyLCB0eXBlKSB7XG5cbiAgbGV0IGxpID0gW107XG4gIGNvbnN0IG5NaW4gPSA1LCBuTWF4ID0gNTA7XG5cbiAgaWYgKCFpc01ldGFsKHBMZXNzZXIpKSB7XG4gICAgaWYgKGlzTWV0YWwocExlc3NlciArIDEpKSB0aHJvdyBuZXcgRXJyb3IoJ3Agc2hvdWxkIGJlIHRoZSBzbWFsbGVyIG9uZSwgZS5nLiBTMTEgcmF0aGVyIHRoYW4gUzIyJyk7XG4gICAgZm9yIChsZXQgbiA9IG5NaW47IG4gPCBuTWF4OyBuKyspXG4gICAgICBmb3IgKGxldCBtID0gMDsgbSA8PSBuOyBtKyspIHtcblxuICAgICAgICBpZiAoMiAqIG4gKyBtID4gc2VyaWVzVGhyZXNob2xkKSBicmVhaztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWlzTWV0YWwobiwgbSkpIHtcbiAgICAgICAgICAgIGxldCBkbCA9IGdldEVuZXJneShEdChuLCBtLCB0eXBlKSwgVGhldGEobiwgbSksIHBMZXNzZXIsIHR5cGUsIE1vZChuLCBtKSk7XG4gICAgICAgICAgICBsZXQgZGggPSBnZXRFbmVyZ3koRHQobiwgbSwgdHlwZSksIFRoZXRhKG4sIG0pLCBwTGVzc2VyICsgMSwgdHlwZSwgTW9kKG4sIG0pKTtcbiAgICAgICAgICAgIGxpLnB1c2goWyBuLCBtLCAoZGggKyBkbCkgLyAyLCAoZGggLSBkbCkgXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICdkdCcpIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IG4gPSBuTWluOyBuIDwgbk1heDsgbisrKVxuICAgICAgZm9yIChsZXQgbSA9IDA7IG0gPD0gbjsgbSsrKSB7XG5cbiAgICAgICAgaWYgKDIgKiBuICsgbSA+IHNlcmllc1RocmVzaG9sZCkgYnJlYWs7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKGlzTWV0YWwobiwgbSkpIHtcbiAgICAgICAgICAgIGxldCBkbCA9IGdldEVuZXJneShEdChuLCBtLCB0eXBlKSwgVGhldGEobiwgbSksIHBMZXNzZXIsIHR5cGUsIC0xKTtcbiAgICAgICAgICAgIGxldCBkaCA9IGdldEVuZXJneShEdChuLCBtLCB0eXBlKSwgVGhldGEobiwgbSksIHBMZXNzZXIsIHR5cGUsIDApO1xuICAgICAgICAgICAgbGkucHVzaChbIG4sIG0sIChkaCArIGRsKSAvIDIsIChkaCAtIGRsKSBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGlmIChlcnIubWVzc2FnZSAhPT0gJ2R0JykgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGxpO1xufVxuXG5mdW5jdGlvbiBnZXRSQk1BcnJheShwTGVzc2VyLCB0eXBlKSB7XG5cbiAgbGV0IGQgPSB7IHJibUxhYmVsOiBbXSwgcmJtOiBbXSB9OyAvLyByZXR1cm5cblxuICBjb25zdCBjb3MzVGhldGFNYXggPSA2MDtcbiAgY29uc3Qgd1JCTU1pbiA9IDcwLCB3UkJNTWF4ID0gMzUwO1xuICBpZiAoIWlzTWV0YWwocExlc3NlcikgJiYgaXNNZXRhbChwTGVzc2VyICsgMSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdwIHNob3VsZCBiZSB0aGUgc21hbGxlciBvbmUsIGUuZy4gUzExIHJhdGhlciB0aGFuIFMyMicpO1xuXG4gIGZvciAobGV0IHJibSA9IHdSQk1NaW47IHJibSA8PSB3UkJNTWF4OyByYm0gKz0gMTApIHtcblxuICAgIGxldCBkdCA9IHdSQk0yRHQocmJtLCBwTGVzc2VyLCB0eXBlKTtcbiAgICBsZXQgdCA9IFtdO1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNNZXRhbChwTGVzc2VyKSkge1xuICAgICAgICBsZXQgcGx1cyA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YU1heCwgcExlc3NlciwgdHlwZSwgMCk7XG4gICAgICAgIGxldCBtaW51cyA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YU1heCwgcExlc3NlciwgdHlwZSwgLTEpO1xuICAgICAgICB0LnB1c2goWyAocGx1cyArIG1pbnVzKSAvIDIsIHBsdXMgLSBtaW51cyBdKTtcbiAgICAgICAgcGx1cyA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIC1jb3MzVGhldGFNYXgsIHBMZXNzZXIsIHR5cGUsIDApO1xuICAgICAgICBtaW51cyA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIC1jb3MzVGhldGFNYXgsIHBMZXNzZXIsIHR5cGUsIC0xKTtcbiAgICAgICAgdC5wdXNoKFsgKHBsdXMgKyBtaW51cykgLyAyLCBwbHVzIC0gbWludXMgXSk7XG4gICAgICAgIGQucmJtTGFiZWwucHVzaChyYm0pO1xuICAgICAgICBkLnJibS5wdXNoKHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHBsdXMgPSBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGFNYXgsIHBMZXNzZXIgKyAxLCB0eXBlLCAxKTsgLy9zaG91bGQgaXQgYmUgaGlnaGVyP1xuICAgICAgICBsZXQgbWludXMgPSBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGFNYXgsIHBMZXNzZXIsIHR5cGUsIDEpO1xuICAgICAgICB0LnB1c2goWyAocGx1cyArIG1pbnVzKSAvIDIsIHBsdXMgLSBtaW51cyBdKTtcbiAgICAgICAgcGx1cyA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIDAsIHBMZXNzZXIgKyAxLCB0eXBlLCAyKTtcbiAgICAgICAgbWludXMgPSBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCAwLCBwTGVzc2VyLCB0eXBlLCAyKTtcbiAgICAgICAgdC5wdXNoKFsgKHBsdXMgKyBtaW51cykgLyAyLCBwbHVzIC0gbWludXMgXSk7XG4gICAgICAgIHBsdXMgPSBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGFNYXgsIHBMZXNzZXIgKyAxLCB0eXBlLCAyKTtcbiAgICAgICAgbWludXMgPSBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGFNYXgsIHBMZXNzZXIsIHR5cGUsIDIpO1xuICAgICAgICB0LnB1c2goWyAocGx1cyArIG1pbnVzKSAvIDIsIHBsdXMgLSBtaW51cyBdKTtcbiAgICAgICAgZC5yYm1MYWJlbC5wdXNoKHJibSk7XG4gICAgICAgIGQucmJtLnB1c2godCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnIpXG4gICAge1xuICAgICAgaWYgKGVyci5tZXNzYWdlID09PSAnZHQnKSBicmVhaztcbiAgICAgIGVsc2UgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkO1xufVxuIl19\n\n\n'use strict';\n\nvar isUnparsable = function isUnparsable(e) {return isNaN(parseFloat(e));};\n\nfunction getPlotParams(inputParams) {\n  var decimalDigits = function decimalDigits(d) {return d.split('.')[1].length;};\n\n  if (isUnparsable(inputParams.val1) && isUnparsable(inputParams.val2)) {\n    throw new Error('Unauthorized Access');\n  } else if (isUnparsable(inputParams.val1) || isUnparsable(inputParams.val2)) {\n    if (isUnparsable(inputParams.rbm)) throw new Error('Unauthorized Access');\n    inputParams.uncertainty = 2.0 / Math.pow(10, decimalDigits(isUnparsable(inputParams.val1) ? inputParams.val2 : inputParams.val1));\n    return E1R1(inputParams);\n  } else {\n    inputParams.uncertainty = 2.0 / Math.pow(10,\n    Math.min(decimalDigits(inputParams.val1), decimalDigits(inputParams.val2)));\n\n    return E2(inputParams);\n  }\n}\n\nfunction E1R1(inputParams) {\n\n  var p1 = isUnparsable(inputParams.val1) ? inputParams.p2 : inputParams.p1,type = inputParams.type,p = p1ToP[p1]; // int\n  var val = parseFloat(isUnparsable(inputParams.val1) ? inputParams.val2 : inputParams.val1); // float\n  var wRBM = parseFloat(inputParams.rbm); // float, integrity checked in getPlotParam\n\n  var dt = wRBM2Dt(wRBM, p, type);\n  var cos = getCos3Theta(val, dt, p, type);\n  var resultString = '';\n  var error = function error() {return Assign({\n      bluePoint: null,\n      point: [val, 0.23],\n      pLesser: pToLesser[p],\n      type: type,\n      pointType: 'none',\n      p1Lesser: p1ToLesser(p1),\n      resultString: resultString });};\n\n\n  if (cos[0] === -1 && cos[1] === -1) {\n    resultString += 'Invalid input: out of range.';\n    return error();\n  }\n\n  var pAnother = void 0,modAnother = void 0;\n  if (isMetal(p)) {\n    if (p1 % 4 - 3 !== (cos[0] === -1 ? 0 : -1)) {\n      resultString += 'Invalid input: You may have mistaken ' + p1Arr[p1 + 5 - p1 % 4 * 2] + ' for ' + p1Arr[p1] + '.';\n      return error();\n    }\n    pAnother = p;\n    modAnother = cos[0] === -1 ? -1 : 0;\n  } else\n  {\n    pAnother = isMetal(p + 1) ? p - 1 : p + 1;\n    modAnother = cos[0] === -1 ? 2 : 1; // === mod1\n  }\n\n  var valAnother = void 0;\n  try {\n    valAnother = getEnergyFromCos3Theta(dt, cos[0] === -1 ? cos[1] : cos[0], pAnother, type, modAnother);\n  }\n  catch (err) {\n    if (err.message === 'dt') {\n      resultString += 'Invalid input: out of range, diameter too small.';\n      return error();\n    }\n    throw err;\n  }\n  if (isMetal(p) && modAnother === -1 || !isMetal(p) && p > pAnother) {var _ref =\n    [pAnother, p];p = _ref[0];pAnother = _ref[1];var _ref2 =\n    [valAnother, val];val = _ref2[0];valAnother = _ref2[1];\n  }\n  var x = (val + valAnother) / 2,y = valAnother - val;\n  return Assign({\n    bluePoint: null,\n    point: [x, y],\n    pLesser: p,\n    type: type,\n    pointType: 'green',\n    p1Lesser: p1ToLesser(p1),\n    resultString: resultString },\n  modAnother);\n\n}\n\n\nfunction E2(inputParams) {\n\n  var resultString = '';\n  var p1 = inputParams.p1,p2 = inputParams.p2,type = inputParams.type; // int\n  var val1 = parseFloat(inputParams.val1),val2 = parseFloat(inputParams.val2); // float, integrity checked in getPlotParams\n  var p_1 = p1ToP[p1],p_2 = p1ToP[p2]; // int\n  var rbm = inputParams.rbm; // string\n\n  // don't use 'with' block\n  if (p1 > p2) {var _ref3 =\n    [p_2, p_1];p_1 = _ref3[0];p_2 = _ref3[1];var _ref4 =\n    [val2, val1];val1 = _ref4[0];val2 = _ref4[1];var _ref5 =\n    [p2, p1];p1 = _ref5[0];p2 = _ref5[1];\n  }\n\n  if (isMetal(p_2) !== isMetal(p_1)) {\n    throw new Error('invalid form submission');\n  }\n\n  if (p2 - p1 === 1) {\n    var bluePoint = null;\n    if (!isUnparsable(rbm)) {\n      var average = getAverage(val2 - val1, parseFloat(rbm), p_1, type);\n      if (average !== null) {\n        bluePoint = [average, val2 - val1];\n      } else\n      {\n        resultString += 'Invalid input: RBM value out of range. Only transition energies are processed. <br/ >';\n      }\n    }\n    return Assign({\n      point: [(val1 + val2) / 2, val2 - val1],\n      pLesser: p_1,\n      type: type,\n      pointType: 'red',\n      bluePoint: bluePoint,\n      p1Lesser: p1,\n      resultString: resultString });\n\n  }\n\n}\n\nfunction Assign(params) {var mod = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n\n  // params: plotParams\n  // x: average y: splitting\n\n  var uncertainty = params.uncertainty;\n  var dxMin = -1,dxMax = -1,dyMin = -1,dyMax = -1;\n  var Dist = function Dist(x1, y1, x2, y2) {return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2) * 25);};\n  var Dist_ = function Dist_(e) {return Dist(e[2], e[3], params.point[0], params.point[1]);};\n  var deltaX = 0.6,\n  maxY = isMetal(params.pLesser) ? 0.6 : params.point[1] + 0.6,\n  minY = isMetal(params.pLesser) ? -0.1 : params.point[1] - 0.6;\n\n  function setBounds(dxMin_, dxMax_, dyMin_, dyMax_) {\n    dxMin = dxMin_;\n    dxMax = dxMax_;\n    dyMin = dyMin_;\n    dyMax = dyMax_;\n  }\n\n  // https://github.com/mihaifm/linq, many thanks to you!\n\n  params.all = Enumerable.from(getList(params.pLesser, params.type)).\n  where(function (e) {return e[2] >= params.point[0] - deltaX && e[2] <= params.point[0] + deltaX &&\n    e[3] <= maxY && e[3] >= minY;}).\n  toArray();\n\n  var query = Enumerable.from(params.all).\n  where(function (e) {return (\n      (mod === -1 || isMetal(params.pLesser) || mod === Mod(e[0], e[1])) &&\n      params.point[0] - e[2] >= dxMin && params.point[0] - e[2] <= dxMax &&\n      params.point[1] - e[3] >= dyMin && params.point[1] - e[3] <= dyMax);});\n\n\n  setBounds(-uncertainty, uncertainty, -uncertainty, uncertainty);\n  var uc = query.toArray(); // query once to get uncertainty range\n\n  function processOutput() {\n    params.result = query.orderBy(Dist_).toArray();\n    for (var i = 0; i < params.result.length; i++) {\n      params.resultString += '\\n        <b>(' +\n      Math.round(params.result[i][0]) + ',' + Math.round(params.result[i][1]) + ')</b>\\n        ' + (\n      i !== params.result.length - 1 ? ', ' : '');}\n    params.resultString += '</span>';\n  }\n\n  if (params.pointType === 'none') {\n    params.ar = AssignResult.error;\n    params.result = [];\n    return params;\n  }\n\n  if (uncertainty > 0.2) {\n    params.resultString = 'Input uncertainty too large. Please give more significant figures.';\n    params.ar = AssignResult.error;\n    params.result = [];\n    return params;\n  }\n\n  if (params.pointType === 'red') {\n    if (params.bluePoint != null) {\n      if (params.bluePoint[0] - params.point[0] < 0.02) setBounds(-0.008, 0.008, -0.015, 0.015);else\n      setBounds(-0.030, -0.005, -0.015, 0.015); // don't change at this moment\n    } else setBounds(-0.020, 0.008, -0.015, 0.015);\n\n    if (query.count() === 1 && uc.length <= 1) {\n      params.ar = AssignResult.accurate;\n      params.resultString += 'The assignment result is:<br /><span style=\"font-size: 28px;\">';\n      processOutput();\n      return params;\n    }\n    setBounds(-0.040, 0.0126, -0.030, 0.030);\n  } else setBounds(-0.070, 0.070, -0.040, 0.040);\n\n  query.union(uc);\n\n  if (query.count() > 0) {\n    params.ar = AssignResult.possible;\n    params.resultString += 'The likely assignments include:<br /><span style=\"font-size: 28px;\">';\n    processOutput();\n    return params;\n  }\n\n  // use the green criteria and query again for no match.\n  // and it's easy to see that green point, if not returned in the previous step,\n  // will not give results in this step.\n\n  setBounds(-0.070, 0.070, -0.040, 0.040);\n  var tmp = Enumerable.from(params.all).orderBy(Dist_).toArray();\n  if (Dist_(tmp[0]) / Dist_(tmp[1]) <= 0.5 && query.count() !== 0) {\n    params.ar = AssignResult.impossible;\n    query = Enumerable.from([tmp[0]]);\n    params.resultString += 'No match. The most possible assignment result is:<br /><span style=\"font-size: 28px;\">';\n    processOutput();\n    return params;\n  }\n\n  params.ar = AssignResult.error;\n  params.resultString = 'Invalid input: out of range. Please check your input.';\n  params.result = [];\n  return params;\n}\n\nfunction processOutput(params) {\n\n  // process RBM\n\n  var yMax = isMetal(params.pLesser) ? 0.51 : params.point[1] + 0.4;\n  var xMin = params.point[0] - 0.5,xMax = params.point[0] + 0.5;\n  var s = getRBMArray(params.pLesser, params.type); // {rbm, rbmLabel}\n  var rbm = [];\n  var rbmLabel = [];\n  var rbmPos = [];\n  var between = function between(xy, r1, r2) {return xy >= r1 && xy <= r2 || xy >= r2 && xy <= r1;};\n  for (var i = 0; i < s.rbm.length; i++) {\n    var a = s.rbm[i];\n    var t = void 0;\n    if (a.length === 2)\n    t = (a[0][0] - a[1][0]) * (yMax - a[1][1]) / (a[0][1] - a[1][1]) + a[1][0];else\n    {\n      var u = void 0;\n      if (between(yMax, a[1][1], a[0][1]))\n      u = 0;else\n        // if between(a[1][1], a[2][1])\n        u = 2;\n      t = (a[u][0] - a[1][0]) * (yMax - a[1][1]) / (a[u][1] - a[1][1]) + a[1][0];\n    }\n    if (between(t, xMax, xMin)) {\n      rbm.push(s.rbm[i]);\n      rbmLabel.push(s.rbmLabel[i]);\n      rbmPos.push(t);\n    }\n  }\n  params.rbm = rbm;\n  params.rbmLabel = rbmLabel;\n  params.rbmPos = rbmPos;\n\n  // process all\n\n  var all = params.all; // you know, lazy evaluation\n  var q = Enumerable.from(all).\n  groupBy(\n  function (e) {return 2 * e[0] + e[1];}, // key\n  function (e) {return e;}, // group element\n  function (key, group) {return { key: key, value: group.orderBy(function (e) {return e[0];}).toArray() };});\n  // use default compare method\n\n  params.all = q.select(function (e) {return e.value.map(function (ee) {return [ee[2], ee[3]];});}).toArray();\n  params.allLabel = q.select(function (e) {return e.value.map(function (ee) {return [ee[0], ee[1]];});}).toArray();\n\n  // process result\n\n  var result = params.result;\n  params.result = result.map(function (e) {return [e[2], e[3]];});\n  params.resultLabel = result.map(function (e) {return [e[0], e[1]];});\n\n  params.isMetal = isMetal(params.pLesser);\n  params.yAxisLabel = '\\\\(' + p1Arr_raw[params.p1Lesser + 1] + '-' + p1Arr_raw[params.p1Lesser] + '\\\\ (\\\\mathrm{eV})\\\\)';\n  params.xAxisLabel = '\\\\((' + p1Arr_raw[params.p1Lesser + 1] + '+' + p1Arr_raw[params.p1Lesser] + ')/2\\\\ (\\\\mathrm{eV})\\\\)';\n\n\n  // select g.OrderBy(elem => elem[0]);\n  // note that average energy may not increase monotonously as n in (n,m) increases.\n  // thus elem => elem[2] is wrong.\n  // test: S11 = 1.420, S22 = 2.134 as (6,4), see branch 2n + m = 16\n\n\n  return params;\n}\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFzc2lnbi5qcyJdLCJuYW1lcyI6WyJpc1VucGFyc2FibGUiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJlIiwiZ2V0UGxvdFBhcmFtcyIsImlucHV0UGFyYW1zIiwiZGVjaW1hbERpZ2l0cyIsImQiLCJzcGxpdCIsImxlbmd0aCIsInZhbDEiLCJ2YWwyIiwiRXJyb3IiLCJyYm0iLCJ1bmNlcnRhaW50eSIsIk1hdGgiLCJwb3ciLCJFMVIxIiwibWluIiwiRTIiLCJwMSIsInAyIiwidHlwZSIsInAiLCJwMVRvUCIsInZhbCIsIndSQk0iLCJkdCIsIndSQk0yRHQiLCJjb3MiLCJnZXRDb3MzVGhldGEiLCJyZXN1bHRTdHJpbmciLCJlcnJvciIsIkFzc2lnbiIsImJsdWVQb2ludCIsInBvaW50IiwicExlc3NlciIsInBUb0xlc3NlciIsInBvaW50VHlwZSIsInAxTGVzc2VyIiwicDFUb0xlc3NlciIsInBBbm90aGVyIiwibW9kQW5vdGhlciIsImlzTWV0YWwiLCJwMUFyciIsInZhbEFub3RoZXIiLCJnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhIiwiZXJyIiwibWVzc2FnZSIsIngiLCJ5IiwicF8xIiwicF8yIiwiYXZlcmFnZSIsImdldEF2ZXJhZ2UiLCJwYXJhbXMiLCJtb2QiLCJkeE1pbiIsImR4TWF4IiwiZHlNaW4iLCJkeU1heCIsIkRpc3QiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInNxcnQiLCJEaXN0XyIsImRlbHRhWCIsIm1heFkiLCJtaW5ZIiwic2V0Qm91bmRzIiwiZHhNaW5fIiwiZHhNYXhfIiwiZHlNaW5fIiwiZHlNYXhfIiwiYWxsIiwiRW51bWVyYWJsZSIsImZyb20iLCJnZXRMaXN0Iiwid2hlcmUiLCJ0b0FycmF5IiwicXVlcnkiLCJNb2QiLCJ1YyIsInByb2Nlc3NPdXRwdXQiLCJyZXN1bHQiLCJvcmRlckJ5IiwiaSIsInJvdW5kIiwiYXIiLCJBc3NpZ25SZXN1bHQiLCJjb3VudCIsImFjY3VyYXRlIiwidW5pb24iLCJwb3NzaWJsZSIsInRtcCIsImltcG9zc2libGUiLCJ5TWF4IiwieE1pbiIsInhNYXgiLCJzIiwiZ2V0UkJNQXJyYXkiLCJyYm1MYWJlbCIsInJibVBvcyIsImJldHdlZW4iLCJ4eSIsInIxIiwicjIiLCJhIiwidCIsInUiLCJwdXNoIiwicSIsImdyb3VwQnkiLCJrZXkiLCJncm91cCIsInZhbHVlIiwic2VsZWN0IiwibWFwIiwiZWUiLCJhbGxMYWJlbCIsInJlc3VsdExhYmVsIiwieUF4aXNMYWJlbCIsInAxQXJyX3JhdyIsInhBeGlzTGFiZWwiXSwibWFwcGluZ3MiOiI7QUFDQTs7QUFFQSxJQUFJQSxlQUFlLFNBQWZBLFlBQWUsWUFBS0MsTUFBTUMsV0FBV0MsQ0FBWCxDQUFOLENBQUwsRUFBbkI7O0FBRUEsU0FBU0MsYUFBVCxDQUF1QkMsV0FBdkIsRUFBb0M7QUFDbEMsTUFBSUMsZ0JBQWdCLFNBQWhCQSxhQUFnQixDQUFDQyxDQUFELFVBQU9BLEVBQUVDLEtBQUYsQ0FBUSxHQUFSLEVBQWEsQ0FBYixFQUFnQkMsTUFBdkIsRUFBcEI7O0FBRUEsTUFBSVQsYUFBYUssWUFBWUssSUFBekIsS0FBa0NWLGFBQWFLLFlBQVlNLElBQXpCLENBQXRDLEVBQXNFO0FBQ3BFLFVBQU0sSUFBSUMsS0FBSixDQUFVLHFCQUFWLENBQU47QUFDRCxHQUZELE1BRU8sSUFBSVosYUFBYUssWUFBWUssSUFBekIsS0FBa0NWLGFBQWFLLFlBQVlNLElBQXpCLENBQXRDLEVBQXNFO0FBQzNFLFFBQUlYLGFBQWFLLFlBQVlRLEdBQXpCLENBQUosRUFBbUMsTUFBTSxJQUFJRCxLQUFKLENBQVUscUJBQVYsQ0FBTjtBQUNuQ1AsZ0JBQVlTLFdBQVosR0FBMEIsTUFBTUMsS0FBS0MsR0FBTCxDQUFTLEVBQVQsRUFBYVYsY0FBY04sYUFBYUssWUFBWUssSUFBekIsSUFBaUNMLFlBQVlNLElBQTdDLEdBQW9ETixZQUFZSyxJQUE5RSxDQUFiLENBQWhDO0FBQ0EsV0FBT08sS0FBS1osV0FBTCxDQUFQO0FBQ0QsR0FKTSxNQUlBO0FBQ0xBLGdCQUFZUyxXQUFaLEdB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LENBQUwsRUFBWCxDQUFoQjtBQUNBb0QsU0FBT21FLFdBQVAsR0FBcUJwQyxPQUFPaUMsR0FBUCxDQUFXLHFCQUFLLENBQUNwSCxFQUFFLENBQUYsQ0FBRCxFQUFPQSxFQUFFLENBQUYsQ0FBUCxDQUFMLEVBQVgsQ0FBckI7O0FBRUFvRCxTQUFPWixPQUFQLEdBQWlCQSxRQUFRWSxPQUFPbkIsT0FBZixDQUFqQjtBQUNBbUIsU0FBT29FLFVBQVAsV0FBMEJDLFVBQVVyRSxPQUFPaEIsUUFBUCxHQUFrQixDQUE1QixDQUExQixTQUE0RHFGLFVBQVVyRSxPQUFPaEIsUUFBakIsQ0FBNUQ7QUFDQWdCLFNBQU9zRSxVQUFQLFlBQTJCRCxVQUFVckUsT0FBT2hCLFFBQVAsR0FBa0IsQ0FBNUIsQ0FBM0IsU0FBNkRxRixVQUFVckUsT0FBT2hCLFFBQWpCLENBQTdEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsU0FBT2dCLE1BQVA7QUFDRCIsImZpbGUiOiJBc3NpZ24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2Ugc3RyaWN0JztcblxubGV0IGlzVW5wYXJzYWJsZSA9IGUgPT4gaXNOYU4ocGFyc2VGbG9hdChlKSk7XG5cbmZ1bmN0aW9uIGdldFBsb3RQYXJhbXMoaW5wdXRQYXJhbXMpIHtcbiAgbGV0IGRlY2ltYWxEaWdpdHMgPSAoZCkgPT4gZC5zcGxpdCgnLicpWzFdLmxlbmd0aDtcblxuICBpZiAoaXNVbnBhcnNhYmxlKGlucHV0UGFyYW1zLnZhbDEpICYmIGlzVW5wYXJzYWJsZShpbnB1dFBhcmFtcy52YWwyKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkIEFjY2VzcycpO1xuICB9IGVsc2UgaWYgKGlzVW5wYXJzYWJsZShpbnB1dFBhcmFtcy52YWwxKSB8fCBpc1VucGFyc2FibGUoaW5wdXRQYXJhbXMudmFsMikpIHtcbiAgICBpZiAoaXNVbnBhcnNhYmxlKGlucHV0UGFyYW1zLnJibSkpIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkIEFjY2VzcycpO1xuICAgIGlucHV0UGFyYW1zLnVuY2VydGFpbnR5ID0gMi4wIC8gTWF0aC5wb3coMTAsIGRlY2ltYWxEaWdpdHMoaXNVbnBhcnNhYmxlKGlucHV0UGFyYW1zLnZhbDEpID8gaW5wdXRQYXJhbXMudmFsMiA6IGlucHV0UGFyYW1zLnZhbDEgKSk7XG4gICAgcmV0dXJuIEUxUjEoaW5wdXRQYXJhbXMpO1xuICB9IGVsc2Uge1xuICAgIGlucHV0UGFyYW1zLnVuY2VydGFpbnR5ID0gMi4wIC8gTWF0aC5wb3coMTAsXG4gICAgICBNYXRoLm1pbihkZWNpbWFsRGlnaXRzKGlucHV0UGFyYW1zLnZhbDEpLCBkZWNpbWFsRGlnaXRzKGlucHV0UGFyYW1zLnZhbDIpKVxuICAgICk7XG4gICAgcmV0dXJuIEUyKGlucHV0UGFyYW1zKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBFMVIxKGlucHV0UGFyYW1zKSB7XG5cbiAgbGV0IHAxID0gKGlzVW5wYXJzYWJsZShpbnB1dFBhcmFtcy52YWwxKSA/IGlucHV0UGFyYW1zLnAyIDogaW5wdXRQYXJhbXMucDEpLCB0eXBlID0gaW5wdXRQYXJhbXMudHlwZSwgcCA9IHAxVG9QW3AxXTsgLy8gaW50XG4gIGxldCB2YWwgPSBwYXJzZUZsb2F0KGlzVW5wYXJzYWJsZShpbnB1dFBhcmFtcy52YWwxKSA/IGlucHV0UGFyYW1zLnZhbDIgOiBpbnB1dFBhcmFtcy52YWwxKTsgLy8gZmxvYXRcbiAgbGV0IHdSQk0gPSBwYXJzZUZsb2F0KGlucHV0UGFyYW1zLnJibSk7IC8vIGZsb2F0LCBpbnRlZ3JpdHkgY2hlY2tlZCBpbiBnZXRQbG90UGFyYW1cblxuICBsZXQgZHQgPSB3UkJNMkR0KHdSQk0sIHAsIHR5cGUpO1xuICBsZXQgY29zID0gZ2V0Q29zM1RoZXRhKHZhbCwgZHQsIHAsIHR5cGUpO1xuICBsZXQgcmVzdWx0U3RyaW5nID0gJyc7XG4gIGxldCBlcnJvciA9ICgpID0+IEFzc2lnbih7XG4gICAgYmx1ZVBvaW50OiBudWxsLFxuICAgIHBvaW50OiBbIHZhbCwgMC4yMyBdLFxuICAgIHBMZXNzZXI6IHBUb0xlc3NlcltwXSxcbiAgICB0eXBlOiB0eXBlLFxuICAgIHBvaW50VHlwZTogJ25vbmUnLFxuICAgIHAxTGVzc2VyOiBwMVRvTGVzc2VyKHAxKSxcbiAgICByZXN1bHRTdHJpbmc6IHJlc3VsdFN0cmluZ1xuICB9KTtcblxuICBpZiAoY29zWzBdID09PSAtMSAmJiBjb3NbMV0gPT09IC0xKSB7XG4gICAgcmVzdWx0U3RyaW5nICs9ICdJbnZhbGlkIGlucHV0OiBvdXQgb2YgcmFuZ2UuJztcbiAgICByZXR1cm4gZXJyb3IoKTtcbiAgfVxuXG4gIGxldCBwQW5vdGhlciwgbW9kQW5vdGhlcjtcbiAgaWYgKGlzTWV0YWwocCkpIHtcbiAgICBpZiAocDEgJSA0IC0gMyAhPT0gKGNvc1swXSA9PT0gLTEgPyAwIDogLTEpKSB7XG4gICAgICByZXN1bHRTdHJpbmcgKz0gYEludmFsaWQgaW5wdXQ6IFlvdSBtYXkgaGF2ZSBtaXN0YWtlbiAke3AxQXJyW3AxICsgNSAtIChwMSAlIDQpICogMl19IGZvciAke3AxQXJyW3AxXX0uYDtcbiAgICAgIHJldHVybiBlcnJvcigpO1xuICAgIH1cbiAgICBwQW5vdGhlciA9IHA7XG4gICAgbW9kQW5vdGhlciA9IGNvc1swXSA9PT0gLTEgPyAtMSA6IDA7XG4gIH1cbiAgZWxzZSB7XG4gICAgcEFub3RoZXIgPSBpc01ldGFsKHAgKyAxKSA/IHAgLSAxIDogcCArIDE7XG4gICAgbW9kQW5vdGhlciA9IGNvc1swXSA9PT0gLTEgPyAyIDogMTsgLy8gPT09IG1vZDFcbiAgfVxuXG4gIGxldCB2YWxBbm90aGVyO1xuICB0cnkge1xuICAgIHZhbEFub3RoZXIgPSBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3NbMF0gPT09IC0xID8gY29zWzFdIDogY29zWzBdLCBwQW5vdGhlciwgdHlwZSwgbW9kQW5vdGhlcik7XG4gIH1cbiAgY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIubWVzc2FnZSA9PT0gJ2R0Jykge1xuICAgICAgcmVzdWx0U3RyaW5nICs9ICdJbnZhbGlkIGlucHV0OiBvdXQgb2YgcmFuZ2UsIGRpYW1ldGVyIHRvbyBzbWFsbC4nO1xuICAgICAgcmV0dXJuIGVycm9yKCk7XG4gICAgfVxuICAgIHRocm93IGVycjtcbiAgfVxuICBpZiAoKGlzTWV0YWwocCkgJiYgKG1vZEFub3RoZXIgPT09IC0xKSkgfHwgKCFpc01ldGFsKHApICYmIChwID4gcEFub3RoZXIpKSkge1xuICAgIFtwLCBwQW5vdGhlcl0gPSBbcEFub3RoZXIsIHBdO1xuICAgIFt2YWwsIHZhbEFub3RoZXJdID0gW3ZhbEFub3RoZXIsIHZhbF07XG4gIH1cbiAgbGV0IHggPSAodmFsICsgdmFsQW5vdGhlcikgLyAyLCB5ID0gdmFsQW5vdGhlciAtIHZhbDtcbiAgcmV0dXJuIEFzc2lnbih7XG4gICAgYmx1ZVBvaW50OiBudWxsLFxuICAgIHBvaW50OiBbeCwgeV0sXG4gICAgcExlc3NlcjogcCxcbiAgICB0eXBlOiB0eXBlLFxuICAgIHBvaW50VHlwZTogJ2dyZWVuJyxcbiAgICBwMUxlc3NlcjogcDFUb0xlc3NlcihwMSksXG4gICAgcmVzdWx0U3RyaW5nOiByZXN1bHRTdHJpbmdcbiAgfSwgbW9kQW5vdGhlcik7XG5cbn1cblxuXG5mdW5jdGlvbiBFMihpbnB1dFBhcmFtcykge1xuXG4gIGxldCByZXN1bHRTdHJpbmcgPSAnJztcbiAgbGV0IHAxID0gaW5wdXRQYXJhbXMucDEsIHAyID0gaW5wdXRQYXJhbXMucDIsIHR5cGUgPSBpbnB1dFBhcmFtcy50eXBlOyAvLyBpbnRcbiAgbGV0IHZhbDEgPSBwYXJzZUZsb2F0KGlucHV0UGFyYW1zLnZhbDEpLCB2YWwyID0gcGFyc2VGbG9hdChpbnB1dFBhcmFtcy52YWwyKTsgLy8gZmxvYXQsIGludGVncml0eSBjaGVja2VkIGluIGdldFBsb3RQYXJhbXNcbiAgbGV0IHBfMSA9IHAxVG9QW3AxXSwgcF8yID0gcDFUb1BbcDJdOyAvLyBpbnRcbiAgbGV0IHJibSA9IGlucHV0UGFyYW1zLnJibTsgLy8gc3RyaW5nXG5cbiAgLy8gZG9uJ3QgdXNlICd3aXRoJyBibG9ja1xuICBpZiAocDEgPiBwMikge1xuICAgIFtwXzEsIHBfMl0gPSBbcF8yLCBwXzFdO1xuICAgIFt2YWwxLCB2YWwyXSA9IFt2YWwyLCB2YWwxXTtcbiAgICBbcDEsIHAyXSA9IFtwMiwgcDFdO1xuICB9XG5cbiAgaWYgKGlzTWV0YWwocF8yKSAhPT0gaXNNZXRhbChwXzEpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZvcm0gc3VibWlzc2lvbicpO1xuICB9XG5cbiAgaWYgKHAyIC0gcDEgPT09IDEpIHtcbiAgICBsZXQgYmx1ZVBvaW50ID0gbnVsbDtcbiAgICBpZiAoIWlzVW5wYXJzYWJsZShyYm0pKSB7XG4gICAgICBsZXQgYXZlcmFnZSA9IGdldEF2ZXJhZ2UodmFsMiAtIHZhbDEsIHBhcnNlRmxvYXQocmJtKSwgcF8xLCB0eXBlKTtcbiAgICAgIGlmIChhdmVyYWdlICE9PSBudWxsKSB7XG4gICAgICAgIGJsdWVQb2ludCA9IFthdmVyYWdlLCB2YWwyIC0gdmFsMV07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0U3RyaW5nICs9ICdJbnZhbGlkIGlucHV0OiBSQk0gdmFsdWUgb3V0IG9mIHJhbmdlLiBPbmx5IHRyYW5zaXRpb24gZW5lcmdpZXMgYXJlIHByb2Nlc3NlZC4gPGJyLyA+JztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEFzc2lnbih7XG4gICAgICBwb2ludDogWyAodmFsMSArIHZhbDIpIC8gMiwgdmFsMiAtIHZhbDEgXSxcbiAgICAgIHBMZXNzZXI6IHBfMSxcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBwb2ludFR5cGU6ICdyZWQnLFxuICAgICAgYmx1ZVBvaW50OiBibHVlUG9pbnQsXG4gICAgICBwMUxlc3NlcjogcDEsXG4gICAgICByZXN1bHRTdHJpbmc6IHJlc3VsdFN0cmluZ1xuICAgIH0pO1xuICB9XG5cbn1cblxuZnVuY3Rpb24gQXNzaWduKHBhcmFtcywgbW9kID0gLTEpIHtcblxuICAvLyBwYXJhbXM6IHBsb3RQYXJhbXNcbiAgLy8geDogYXZlcmFnZSB5OiBzcGxpdHRpbmdcblxuICBsZXQgdW5jZXJ0YWludHkgPSBwYXJhbXMudW5jZXJ0YWludHk7XG4gIGxldCBkeE1pbiA9IC0xLCBkeE1heCA9IC0xLCBkeU1pbiA9IC0xLCBkeU1heCA9IC0xO1xuICBsZXQgRGlzdCA9ICh4MSwgeTEsIHgyLCB5MikgPT4gTWF0aC5zcXJ0KCh4MSAtIHgyKSAqICh4MSAtIHgyKSArICh5MSAtIHkyKSAqICh5MSAtIHkyKSAqIDI1KTtcbiAgbGV0IERpc3RfID0gKGUpID0+IERpc3QoZVsyXSwgZVszXSwgcGFyYW1zLnBvaW50WzBdLCBwYXJhbXMucG9pbnRbMV0pO1xuICBsZXQgZGVsdGFYID0gMC42LFxuICAgIG1heFkgPSBpc01ldGFsKHBhcmFtcy5wTGVzc2VyKSA/IDAuNiA6IHBhcmFtcy5wb2ludFsxXSArIDAuNixcbiAgICBtaW5ZID0gaXNNZXRhbChwYXJhbXMucExlc3NlcikgPyAtMC4xIDogcGFyYW1zLnBvaW50WzFdIC0gMC42O1xuXG4gIGZ1bmN0aW9uIHNldEJvdW5kcyhkeE1pbl8sIGR4TWF4XywgZHlNaW5fLCBkeU1heF8pIHtcbiAgICBkeE1pbiA9IGR4TWluXztcbiAgICBkeE1heCA9IGR4TWF4XztcbiAgICBkeU1pbiA9IGR5TWluXztcbiAgICBkeU1heCA9IGR5TWF4XztcbiAgfVxuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9taWhhaWZtL2xpbnEsIG1hbnkgdGhhbmtzIHRvIHlvdSFcblxuICBwYXJhbXMuYWxsID0gRW51bWVyYWJsZS5mcm9tKGdldExpc3QocGFyYW1zLnBMZXNzZXIsIHBhcmFtcy50eXBlKSlcbiAgICAud2hlcmUoZSA9PiAoZVsyXSA+PSBwYXJhbXMucG9pbnRbMF0gLSBkZWx0YVggJiYgZVsyXSA8PSBwYXJhbXMucG9pbnRbMF0gKyBkZWx0YVggJiZcbiAgICAgIGVbM10gPD0gbWF4WSAmJiBlWzNdID49IG1pblkpKVxuICAgIC50b0FycmF5KCk7XG5cbiAgbGV0IHF1ZXJ5ID0gRW51bWVyYWJsZS5mcm9tKHBhcmFtcy5hbGwpXG4gICAgLndoZXJlKGUgPT4gKFxuICAgICAgKG1vZCA9PT0gLTEgfHwgaXNNZXRhbChwYXJhbXMucExlc3NlcikgfHwgbW9kID09PSBNb2QoZVswXSwgZVsxXSkpICYmXG4gICAgICBwYXJhbXMucG9pbnRbMF0gLSBlWzJdID49IGR4TWluICYmIHBhcmFtcy5wb2ludFswXSAtIGVbMl0gPD0gZHhNYXggJiZcbiAgICAgIHBhcmFtcy5wb2ludFsxXSAtIGVbM10gPj0gZHlNaW4gJiYgcGFyYW1zLnBvaW50WzFdIC0gZVszXSA8PSBkeU1heFxuICAgICkpO1xuXG4gIHNldEJvdW5kcygtdW5jZXJ0YWludHksIHVuY2VydGFpbnR5LCAtdW5jZXJ0YWludHksIHVuY2VydGFpbnR5KTtcbiAgbGV0IHVjID0gcXVlcnkudG9BcnJheSgpOyAvLyBxdWVyeSBvbmNlIHRvIGdldCB1bmNlcnRhaW50eSByYW5nZVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NPdXRwdXQoKSB7XG4gICAgcGFyYW1zLnJlc3VsdCA9IHF1ZXJ5Lm9yZGVyQnkoRGlzdF8pLnRvQXJyYXkoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5yZXN1bHQubGVuZ3RoOyBpKyspXG4gICAgICBwYXJhbXMucmVzdWx0U3RyaW5nICs9IGBcbiAgICAgICAgPGI+KCR7TWF0aC5yb3VuZChwYXJhbXMucmVzdWx0W2ldWzBdKX0sJHtNYXRoLnJvdW5kKHBhcmFtcy5yZXN1bHRbaV1bMV0pfSk8L2I+XG4gICAgICAgICR7aSAhPT0gcGFyYW1zLnJlc3VsdC5sZW5ndGggLSAxID8gJywgJyA6ICcnfWA7XG4gICAgcGFyYW1zLnJlc3VsdFN0cmluZyArPSAnPC9zcGFuPic7XG4gIH1cblxuICBpZiAocGFyYW1zLnBvaW50VHlwZSA9PT0gJ25vbmUnKSB7XG4gICAgcGFyYW1zLmFyID0gQXNzaWduUmVzdWx0LmVycm9yO1xuICAgIHBhcmFtcy5yZXN1bHQgPSBbXTtcbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgaWYgKHVuY2VydGFpbnR5ID4gMC4yKSB7XG4gICAgcGFyYW1zLnJlc3VsdFN0cmluZyA9ICdJbnB1dCB1bmNlcnRhaW50eSB0b28gbGFyZ2UuIFBsZWFzZSBnaXZlIG1vcmUgc2lnbmlmaWNhbnQgZmlndXJlcy4nO1xuICAgIHBhcmFtcy5hciA9IEFzc2lnblJlc3VsdC5lcnJvcjtcbiAgICBwYXJhbXMucmVzdWx0ID0gW107XG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfVxuXG4gIGlmIChwYXJhbXMucG9pbnRUeXBlID09PSAncmVkJykge1xuICAgIGlmIChwYXJhbXMuYmx1ZVBvaW50ICE9IG51bGwpIHtcbiAgICAgIGlmIChwYXJhbXMuYmx1ZVBvaW50WzBdIC0gcGFyYW1zLnBvaW50WzBdIDwgMC4wMikgc2V0Qm91bmRzKC0wLjAwOCwgMC4wMDgsIC0wLjAxNSwgMC4wMTUpO1xuICAgICAgZWxzZSBzZXRCb3VuZHMoLTAuMDMwLCAtMC4wMDUsIC0wLjAxNSwgMC4wMTUpOyAvLyBkb24ndCBjaGFuZ2UgYXQgdGhpcyBtb21lbnRcbiAgICB9IGVsc2Ugc2V0Qm91bmRzKC0wLjAyMCwgMC4wMDgsIC0wLjAxNSwgMC4wMTUpO1xuXG4gICAgaWYgKHF1ZXJ5LmNvdW50KCkgPT09IDEgJiYgdWMubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHBhcmFtcy5hciA9IEFzc2lnblJlc3VsdC5hY2N1cmF0ZTtcbiAgICAgIHBhcmFtcy5yZXN1bHRTdHJpbmcgKz0gJ1RoZSBhc3NpZ25tZW50IHJlc3VsdCBpczo8YnIgLz48c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogMjhweDtcIj4nO1xuICAgICAgcHJvY2Vzc091dHB1dCgpO1xuICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICB9XG4gICAgc2V0Qm91bmRzKC0wLjA0MCwgMC4wMTI2LCAtMC4wMzAsIDAuMDMwKTtcbiAgfSBlbHNlIHNldEJvdW5kcygtMC4wNzAsIDAuMDcwLCAtMC4wNDAsIDAuMDQwKTtcblxuICBxdWVyeS51bmlvbih1Yyk7XG5cbiAgaWYgKHF1ZXJ5LmNvdW50KCkgPiAwKSB7XG4gICAgcGFyYW1zLmFyID0gQXNzaWduUmVzdWx0LnBvc3NpYmxlO1xuICAgIHBhcmFtcy5yZXN1bHRTdHJpbmcgKz0gJ1RoZSBsaWtlbHkgYXNzaWdubWVudHMgaW5jbHVkZTo8YnIgLz48c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogMjhweDtcIj4nO1xuICAgIHByb2Nlc3NPdXRwdXQoKTtcbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgLy8gdXNlIHRoZSBncmVlbiBjcml0ZXJpYSBhbmQgcXVlcnkgYWdhaW4gZm9yIG5vIG1hdGNoLlxuICAvLyBhbmQgaXQncyBlYXN5IHRvIHNlZSB0aGF0IGdyZWVuIHBvaW50LCBpZiBub3QgcmV0dXJuZWQgaW4gdGhlIHByZXZpb3VzIHN0ZXAsXG4gIC8vIHdpbGwgbm90IGdpdmUgcmVzdWx0cyBpbiB0aGlzIHN0ZXAuXG5cbiAgc2V0Qm91bmRzKC0wLjA3MCwgMC4wNzAsIC0wLjA0MCwgMC4wNDApO1xuICBsZXQgdG1wID0gRW51bWVyYWJsZS5mcm9tKHBhcmFtcy5hbGwpLm9yZGVyQnkoRGlzdF8pLnRvQXJyYXkoKTtcbiAgaWYgKERpc3RfKHRtcFswXSkgLyBEaXN0Xyh0bXBbMV0pIDw9IDAuNSAmJiBxdWVyeS5jb3VudCgpICE9PSAwKSB7XG4gICAgcGFyYW1zLmFyID0gQXNzaWduUmVzdWx0LmltcG9zc2libGU7XG4gICAgcXVlcnkgPSBFbnVtZXJhYmxlLmZyb20oWyB0bXBbMF0gXSk7XG4gICAgcGFyYW1zLnJlc3VsdFN0cmluZyArPSAnTm8gbWF0Y2guIFRoZSBtb3N0IHBvc3NpYmxlIGFzc2lnbm1lbnQgcmVzdWx0IGlzOjxiciAvPjxzcGFuIHN0eWxlPVwiZm9udC1zaXplOiAyOHB4O1wiPic7XG4gICAgcHJvY2Vzc091dHB1dCgpO1xuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICBwYXJhbXMuYXIgPSBBc3NpZ25SZXN1bHQuZXJyb3I7XG4gIHBhcmFtcy5yZXN1bHRTdHJpbmcgPSAnSW52YWxpZCBpbnB1dDogb3V0IG9mIHJhbmdlLiBQbGVhc2UgY2hlY2sgeW91ciBpbnB1dC4nO1xuICBwYXJhbXMucmVzdWx0ID0gW107XG4gIHJldHVybiBwYXJhbXM7XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NPdXRwdXQocGFyYW1zKSB7XG5cbiAgLy8gcHJvY2VzcyBSQk1cblxuICBjb25zdCB5TWF4ID0gaXNNZXRhbChwYXJhbXMucExlc3NlcikgPyAwLjUxIDogcGFyYW1zLnBvaW50WzFdICsgMC40O1xuICBjb25zdCB4TWluID0gcGFyYW1zLnBvaW50WzBdIC0gMC41LCB4TWF4ID0gcGFyYW1zLnBvaW50WzBdICsgMC41O1xuICBsZXQgcyA9IGdldFJCTUFycmF5KHBhcmFtcy5wTGVzc2VyLCBwYXJhbXMudHlwZSk7IC8vIHtyYm0sIHJibUxhYmVsfVxuICBsZXQgcmJtID0gW107XG4gIGxldCByYm1MYWJlbCA9IFtdO1xuICBsZXQgcmJtUG9zID0gW107XG4gIGxldCBiZXR3ZWVuID0gKHh5LCByMSwgcjIpID0+ICh4eSA+PSByMSAmJiB4eSA8PSByMikgfHwgKHh5ID49IHIyICYmIHh5IDw9IHIxKTtcbiAgZm9yIChsZXQgaSA9IDAgOyBpIDwgcy5yYm0ubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgYSA9IHMucmJtW2ldO1xuICAgIGxldCB0O1xuICAgIGlmIChhLmxlbmd0aCA9PT0gMilcbiAgICAgIHQgPSAoYVswXVswXSAtIGFbMV1bMF0pICogKHlNYXggLSBhWzFdWzFdKSAvIChhWzBdWzFdIC0gYVsxXVsxXSkgKyBhWzFdWzBdO1xuICAgIGVsc2Uge1xuICAgICAgbGV0IHU7XG4gICAgICBpZiAoYmV0d2Vlbih5TWF4LCBhWzFdWzFdLCBhWzBdWzFdKSlcbiAgICAgICAgdSA9IDA7XG4gICAgICBlbHNlIC8vIGlmIGJldHdlZW4oYVsxXVsxXSwgYVsyXVsxXSlcbiAgICAgICAgdSA9IDI7XG4gICAgICB0ID0gKGFbdV1bMF0gLSBhWzFdWzBdKSAqICh5TWF4IC0gYVsxXVsxXSkgLyAoYVt1XVsxXSAtIGFbMV1bMV0pICsgYVsxXVswXTtcbiAgICB9XG4gICAgaWYgKGJldHdlZW4odCwgeE1heCwgeE1pbikpIHtcbiAgICAgIHJibS5wdXNoKHMucmJtW2ldKTtcbiAgICAgIHJibUxhYmVsLnB1c2gocy5yYm1MYWJlbFtpXSk7XG4gICAgICByYm1Qb3MucHVzaCh0KTtcbiAgICB9XG4gIH1cbiAgcGFyYW1zLnJibSA9IHJibTtcbiAgcGFyYW1zLnJibUxhYmVsID0gcmJtTGFiZWw7XG4gIHBhcmFtcy5yYm1Qb3MgPSByYm1Qb3M7XG5cbiAgLy8gcHJvY2VzcyBhbGxcblxuICBsZXQgYWxsID0gcGFyYW1zLmFsbDsgLy8geW91IGtub3csIGxhenkgZXZhbHVhdGlvblxuICBsZXQgcSA9IEVudW1lcmFibGUuZnJvbShhbGwpXG4gICAgLmdyb3VwQnkoXG4gICAgICBlID0+IDIgKiBlWzBdICsgZVsxXSwgLy8ga2V5XG4gICAgICBlID0+IGUsIC8vIGdyb3VwIGVsZW1lbnRcbiAgICAgIChrZXksIGdyb3VwKSA9PiAoeyBrZXk6IGtleSwgdmFsdWU6IGdyb3VwLm9yZGVyQnkoZSA9PiBlWzBdKS50b0FycmF5KCkgfSlcbiAgICApOyAvLyB1c2UgZGVmYXVsdCBjb21wYXJlIG1ldGhvZFxuXG4gIHBhcmFtcy5hbGwgPSBxLnNlbGVjdChlID0+IGUudmFsdWUubWFwKGVlID0+IFtlZVsyXSwgZWVbM11dKSkudG9BcnJheSgpO1xuICBwYXJhbXMuYWxsTGFiZWwgPSBxLnNlbGVjdChlID0+IGUudmFsdWUubWFwKGVlID0+IFtlZVswXSwgZWVbMV1dKSkudG9BcnJheSgpO1xuXG4gIC8vIHByb2Nlc3MgcmVzdWx0XG5cbiAgbGV0IHJlc3VsdCA9IHBhcmFtcy5yZXN1bHQ7XG4gIHBhcmFtcy5yZXN1bHQgPSByZXN1bHQubWFwKGUgPT4gW2VbMl0sIGVbM11dKTtcbiAgcGFyYW1zLnJlc3VsdExhYmVsID0gcmVzdWx0Lm1hcChlID0+IFtlWzBdLCBlWzFdXSk7XG5cbiAgcGFyYW1zLmlzTWV0YWwgPSBpc01ldGFsKHBhcmFtcy5wTGVzc2VyKTtcbiAgcGFyYW1zLnlBeGlzTGFiZWwgPSBgXFxcXCgke3AxQXJyX3Jhd1twYXJhbXMucDFMZXNzZXIgKyAxXX0tJHtwMUFycl9yYXdbcGFyYW1zLnAxTGVzc2VyXX1cXFxcIChcXFxcbWF0aHJte2VWfSlcXFxcKWA7XG4gIHBhcmFtcy54QXhpc0xhYmVsID0gYFxcXFwoKCR7cDFBcnJfcmF3W3BhcmFtcy5wMUxlc3NlciArIDFdfSske3AxQXJyX3Jhd1twYXJhbXMucDFMZXNzZXJdfSkvMlxcXFwgKFxcXFxtYXRocm17ZVZ9KVxcXFwpYDtcblxuXG4gIC8vIHNlbGVjdCBnLk9yZGVyQnkoZWxlbSA9PiBlbGVtWzBdKTtcbiAgLy8gbm90ZSB0aGF0IGF2ZXJhZ2UgZW5lcmd5IG1heSBub3QgaW5jcmVhc2UgbW9ub3Rvbm91c2x5IGFzIG4gaW4gKG4sbSkgaW5jcmVhc2VzLlxuICAvLyB0aHVzIGVsZW0gPT4gZWxlbVsyXSBpcyB3cm9uZy5cbiAgLy8gdGVzdDogUzExID0gMS40MjAsIFMyMiA9IDIuMTM0IGFzICg2LDQpLCBzZWUgYnJhbmNoIDJuICsgbSA9IDE2XG5cblxuICByZXR1cm4gcGFyYW1zO1xufVxuIl19\n\n\n'use strict';\n\nfunction drawPlot(placeholder, params) {\n\n  var defaultRadius = 4,xMin = params.point[0] - 0.5,xMax = params.point[0] + 0.5;\n  var yMin = params.isMetal ? -0.01 : params.point[1] - 0.4,yMax = params.isMetal ? 0.45 : params.point[1] + 0.4;\n  var font = {\n    size: 20,\n    lineHeight: 20,\n    family: 'serif' };\n\n  var options = {\n    xaxis: {\n      // aver\n      show: true,\n      position: 'bottom',\n      min: xMin,\n      max: xMax,\n      font: font,\n      tickLength: 10,\n      tickColor: 'rgb(255, 0, 0)',\n      color: 'rgb(255, 0, 0)' },\n\n    yaxis: {\n      show: true,\n      min: yMin,\n      max: yMax,\n      font: font,\n      tickLength: 10,\n      tickColor: 'rgb(0, 0, 0)',\n      color: 'rgb(0, 0, 0)' },\n\n    series: {\n      hoverable: true\n      // shadowSize: 0\n    },\n    grid: {\n      borderColor: {\n        top: 'rgb(0, 0, 255)',\n        bottom: 'rgb(255, 0, 0)',\n        left: 'rgb(0, 0, 0)',\n        right: 'rgb(0, 0, 0)' },\n\n      hoverable: true,\n      minBorderMargin: 0 } };\n\n\n\n  var series = [];\n  for (var i = 0; i < params.rbm.length; i++) {\n    series.push({\n      color: 'rgb(208, 208, 208)', // use the shadow\n      data: params.rbm[i],\n      shadowSize: 5,\n      hoverable: false });}\n\n  var laser = [1240 / 785, 1240 / 633, 1240 / 532];\n  var laser_color = ['rgb(136, 136, 136)', 'rgb(245, 0, 0)', 'rgb(12, 127, 15)'];\n\n  for (var _i = 0; _i < laser.length; _i++) {\n    series = series.concat([{\n      id: 'laser' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, 2 * (-10 - laser[_i])], [10, 2 * (10 - laser[_i])]],\n      shadowSize: 0 },\n    {\n      id: 'laser_minus' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, -2 * (-10 - laser[_i])], [10, -2 * (10 - laser[_i])]],\n      shadowSize: 0 },\n    {\n      fillBetween: 'laser' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, 2 * (-10 - (laser[_i] - 0.1))], [10, 2 * (10 - (laser[_i] - 0.1))]], // 100 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0 } },\n\n    {\n      fillBetween: 'laser_minus' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, -2 * (-10 - (laser[_i] - 0.1))], [10, -2 * (10 - (laser[_i] - 0.1))]], // 100 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0 } },\n\n    {\n      fillBetween: 'laser' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, 2 * (-10 - (laser[_i] + 0.1))], [10, 2 * (10 - (laser[_i] + 0.1))]], // 200 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0 } },\n\n    {\n      fillBetween: 'laser_minus' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, -2 * (-10 - (laser[_i] + 0.1))], [10, -2 * (10 - (laser[_i] + 0.1))]], // 200 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0 } }]);\n\n\n  }\n\n  for (var _i2 = 0; _i2 < params.all.length; _i2++) {\n    var mod_i = (params.allLabel[_i2][0][0] * 2 + params.allLabel[_i2][0][1]) % 3;\n    series.push({\n      color: params.isMetal || mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)',\n      data: params.all[_i2],\n      points: {\n        show: true,\n        radius: params.isMetal ? 78 / 0.1 * 0.015 / 2 : defaultRadius, //15 meV\n        symbol: params.isMetal ? 'circle' : mod_i === 2 ? 'square' : 'triangle' },\n\n      lines: {\n        show: true },\n\n      point_labels: params.allLabel[_i2],\n      hoverable: true });\n\n  }\n  for (var _i3 = 0; _i3 < params.result.length; _i3++) {\n    var _mod_i = (params.resultLabel[_i3][0] * 2 + params.resultLabel[_i3][1]) % 3;\n    series.push({\n      color: params.isMetal || _mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)',\n      data: [params.result[_i3]],\n      points: {\n        show: true,\n        radius: params.isMetal ? 78 / 0.1 * 0.015 / 2 : defaultRadius,\n        symbol: params.isMetal ? 'circle' : _mod_i === 2 ? 'square' : 'triangle',\n        fill: true,\n        fillColor: params.isMetal || _mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)' },\n\n      point_labels: [params.resultLabel[_i3]],\n      hoverable: true });\n\n  }\n\n\n  // blue point is diamond, otherwise square\n  if (params.pointType !== 'none') {\n    series.push({\n      color: params.pointType === 'green' ? 'rgb(12, 180, 15)' : 'rgb(255, 0, 0)',\n      data: [params.point],\n      points: {\n        show: true,\n        symbol: params.pointType === 'green' ? 'diamond' : 'square',\n        radius: defaultRadius,\n        fill: true,\n        fillColor: params.pointType === 'green' ? 'rgba(0, 0, 0, 0)' : 'rgb(255, 0, 0)' },\n\n      hoverable: false });\n\n  }\n  if (params.bluePoint !== null)\n  series.push({\n    color: 'rgb(0, 0, 255)',\n    data: [params.bluePoint],\n    points: {\n      show: true,\n      symbol: 'diamond',\n      radius: defaultRadius,\n      fill: true,\n      fillColor: 'rgba(0, 0, 0, 0)' },\n\n    hoverable: false,\n    shadowSize: 0 });\n\n\n  var $placeholder = $('#' + placeholder);\n  var plot = $.plot($placeholder, series, options);\n\n  var previousPoint = null;\n  $placeholder.bind('plothover', function (event, pos, item) {\n    if (item) {\n      if (previousPoint !== item.dataIndex) {\n        previousPoint = item.dataIndex;\n        $('#tooltip').remove();\n        showTooltip(item.pageX, item.pageY, '(' +\n        item.series.point_labels[item.dataIndex][0] + ', ' + item.series.point_labels[item.dataIndex][1] + ')');\n      }\n    } else {\n      $('#tooltip').remove();\n      previousPoint = null;\n    }\n  });\n\n  if (params.isMetal) {\n    for (var _i4 = 0; _i4 < params.all.length; _i4++) {\n      var s = Math.floor(params.all.length / 2);\n      var p = params.all[_i4][params.all[_i4].length - 1];\n      var p1 = params.allLabel[_i4][params.all[_i4].length - 1];\n      var o = plot.pointOffset({ x: p[0], y: p[1] });\n      var axes = plot.getAxes();\n      var xaxis = axes.xaxis,yaxis = axes.yaxis;\n      if (_i4 % 2 === s % 2 && p[0] <= xaxis.max && p[0] >= xaxis.min &&\n      p[1] <= yaxis.max - 0.05 && p[1] >= yaxis.min + 0.05)\n      $placeholder.append('\\n                    <div class=\"series_label\" style=\"left: ' + (\n      o.left - (_i4 === s ? 60 : 10)) + 'px; top: ' + (o.top - 30) + 'px;\">\\n                        <p>' + (\n      _i4 === s ? '2<i>n</i>+<i>m</i>=' : '') + (p1[0] * 2 + p1[1]) + '</p>\\n                    </div>\\n                ');\n\n\n    }\n  } else {\n    var mid = Math.round(params.all.length / 2);\n    var pMid = params.allLabel[mid][params.all[mid].length - 1];\n    var divMid = Math.floor((pMid[0] * 2 + pMid[1]) / 3); //use ceil, for right is scattered, left is dense\n\n    for (var _i5 = 0; _i5 < params.all.length; _i5++) {\n      var _p = params.all[_i5][params.all[_i5].length - 1];\n      var _p2 = params.allLabel[_i5][params.all[_i5].length - 1];\n      var _o = plot.pointOffset({ x: _p[0], y: _p[1] });\n      var _axes = plot.getAxes();\n      var _xaxis = _axes.xaxis,_yaxis = _axes.yaxis;\n      var div = Math.round((_p2[0] * 2 + _p2[1]) / 3);\n      var mod = (_p2[0] * 2 + _p2[1]) % 3;\n      if (divMid % 2 === div % 2) {\n        if (_p[0] <= _xaxis.max - 0.02 && _p[0] >= _xaxis.min + 0.02 && _p[1] <= _yaxis.max - 0.1 &&\n        _p[1] >= _yaxis.min + 0.1) {\n          var dA = {\n            color: mod === 1 ? '#FF0000' : '#000000',\n            left: _o.left - (divMid === div ? 60 : 10),\n            top: _o.top - (mod === 1 ? -15 :\n            divMid === div && _p[1] <= _yaxis.max - 0.15 && _p[1] >= _yaxis.min + 0.18 ? 60 : 30),\n\n\n            c1: divMid !== div ?\n            '' :\n            (mod === 2 && _p[1] <= _yaxis.max - 0.15 ?\n            '<b>MOD2</b><br/>' :\n            '') + '2<i>n</i>+<i>m</i>=',\n            c2: _p2[0] * 2 + _p2[1],\n            c3: divMid === div && mod === 1 && _p[1] >= _yaxis.min + 0.12 ?\n            '<br/><b>MOD1</b>' :\n            '' };\n\n          $placeholder.append('\\n                        <div class=\"series_label\" style=\"color:' +\n          dA.color + ';left:' + dA.left + 'px;top:' + (dA.top - 0) + 'px;\">\\n                            <p>' +\n          dA.c1 + dA.c2 + dA.c3 + '</p>\\n                        </div>\\n                    ');\n\n          // workaround to let editor know that dA.top is integer\n        }\n      }\n    }\n  }\n\n  for (var _i6 = 0; _i6 < params.rbm.length; _i6++) {\n    if (_i6 % 2 === 0 || params.rbm.length === 1) {\n      var o1 = plot.pointOffset({ x: params.rbmPos[_i6], y: yMax });\n      $placeholder.append('\\n                <div class=\"rbm_label\" style=\"left:' + (\n      o1.left - 15) + 'px;top:' + (o1.top - 30) + 'px;\">\\n                    <p>' +\n      params.rbmLabel[_i6] + '</p>\\n                </div>\\n            ');\n\n\n    }\n  }\n}\n\nfunction showTooltip(x, y, contents) {\n  $('\\n        <div id=\"tooltip\" class=\"tooltip right in\">\\n            <div class=\"tooltip-arrow\" style=\"top: 50%;\"></div>\\n            <div class=\"tooltip-inner\">' +\n\n\n  contents + '</div>\\n        </div>\\n    ').\n\n\n  css({\n    display: 'block',\n    top: y,\n    left: x }).\n  appendTo('body').fadeIn(200);\n}\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsb3QuanMiXSwibmFtZXMiOlsiZHJhd1Bsb3QiLCJwbGFjZWhvbGRlciIsInBhcmFtcyIsImRlZmF1bHRSYWRpdXMiLCJ4TWluIiwicG9pbnQiLCJ4TWF4IiwieU1pbiIsImlzTWV0YWwiLCJ5TWF4IiwiZm9udCIsInNpemUiLCJsaW5lSGVpZ2h0IiwiZmFtaWx5Iiwib3B0aW9ucyIsInhheGlzIiwic2hvdyIsInBvc2l0aW9uIiwibWluIiwibWF4IiwidGlja0xlbmd0aCIsInRpY2tDb2xvciIsImNvbG9yIiwieWF4aXMiLCJzZXJpZXMiLCJob3ZlcmFibGUiLCJncmlkIiwiYm9yZGVyQ29sb3IiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJtaW5Cb3JkZXJNYXJnaW4iLCJpIiwicmJtIiwibGVuZ3RoIiwicHVzaCIsImRhdGEiLCJzaGFkb3dTaXplIiwibGFzZXIiLCJsYXNlcl9jb2xvciIsImNvbmNhdCIsImlkIiwidG9TdHJpbmciLCJmaWxsQmV0d2VlbiIsImxpbmVzIiwiZmlsbCIsImxpbmVXaWR0aCIsImFsbCIsIm1vZF9pIiwiYWxsTGFiZWwiLCJwb2ludHMiLCJyYWRpdXMiLCJzeW1ib2wiLCJwb2ludF9sYWJlbHMiLCJyZXN1bHQiLCJyZXN1bHRMYWJlbCIsImZpbGxDb2xvciIsInBvaW50VHlwZSIsImJsdWVQb2ludCIsIiRwbGFjZWhvbGRlciIsIiQiLCJwbG90IiwicHJldmlvdXNQb2ludCIsImJpbmQiLCJldmVudCIsInBvcyIsIml0ZW0iLCJkYXRhSW5kZXgiLCJyZW1vdmUiLCJzaG93VG9vbHRpcCIsInBhZ2VYIiwicGFnZVkiLCJzIiwiTWF0aCIsImZsb29yIiwicCIsInAxIiwibyIsInBvaW50T2Zmc2V0IiwieCIsInkiLCJheGVzIiwiZ2V0QXhlcyIsImFwcGVuZCIsIm1pZCIsInJvdW5kIiwicE1pZCIsImRpdk1pZCIsImRpdiIsIm1vZCIsImRBIiwiYzEiLCJjMiIsImMzIiwibzEiLCJyYm1Qb3MiLCJyYm1MYWJl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QVdDLE1BQVgsS0FBc0IsQ0FBekMsRUFBNEM7QUFDMUMsVUFBSTRELEtBQUtqQyxLQUFLaUIsV0FBTCxDQUFpQixFQUFFQyxHQUFHOUUsT0FBTzhGLE1BQVAsQ0FBYy9ELEdBQWQsQ0FBTCxFQUF1QmdELEdBQUd4RSxJQUExQixFQUFqQixDQUFUO0FBQ0FtRCxtQkFBYXdCLE1BQWI7QUFDK0NXLFNBQUdqRSxJQUFILEdBQVUsRUFEekQsaUJBQ3FFaUUsR0FBR25FLEdBQUgsR0FBUyxFQUQ5RTtBQUVtQjFCLGFBQU8rRixRQUFQLENBQWdCaEUsR0FBaEIsQ0FGbkI7OztBQUtEO0FBQ0Y7QUFDRjs7QUFFRCxTQUFTcUMsV0FBVCxDQUFxQlUsQ0FBckIsRUFBd0JDLENBQXhCLEVBQTJCaUIsUUFBM0IsRUFBcUM7QUFDbkNyQzs7O0FBR3VDcUMsVUFIdkM7OztBQU1HQyxLQU5ILENBTU87QUFDSEMsYUFBUyxPQUROO0FBRUh4RSxTQUFLcUQsQ0FGRjtBQUdIbkQsVUFBTWtELENBSEgsRUFOUDtBQVVLcUIsVUFWTCxDQVVjLE1BVmQsRUFVc0JDLE1BVnRCLENBVTZCLEdBVjdCO0FBV0QiLCJmaWxlIjoiUGxvdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBkcmF3UGxvdChwbGFjZWhvbGRlciwgcGFyYW1zKSB7XG5cbiAgbGV0IGRlZmF1bHRSYWRpdXMgPSA0LCB4TWluID0gcGFyYW1zLnBvaW50WzBdIC0gMC41LCB4TWF4ID0gcGFyYW1zLnBvaW50WzBdICsgMC41O1xuICBsZXQgeU1pbiA9IHBhcmFtcy5pc01ldGFsID8gLTAuMDEgOiBwYXJhbXMucG9pbnRbMV0gLSAwLjQsIHlNYXggPSBwYXJhbXMuaXNNZXRhbCA/IDAuNDUgOiBwYXJhbXMucG9pbnRbMV0gKyAwLjQ7XG4gIGxldCBmb250ID0ge1xuICAgIHNpemU6IDIwLFxuICAgIGxpbmVIZWlnaHQ6IDIwLFxuICAgIGZhbWlseTogJ3NlcmlmJ1xuICB9O1xuICBsZXQgb3B0aW9ucyA9IHtcbiAgICB4YXhpczoge1xuICAgICAgLy8gYXZlclxuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICAgIG1pbjogeE1pbixcbiAgICAgIG1heDogeE1heCxcbiAgICAgIGZvbnQ6IGZvbnQsXG4gICAgICB0aWNrTGVuZ3RoOiAxMCxcbiAgICAgIHRpY2tDb2xvcjogJ3JnYigyNTUsIDAsIDApJyxcbiAgICAgIGNvbG9yOiAncmdiKDI1NSwgMCwgMCknXG4gICAgfSxcbiAgICB5YXhpczoge1xuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIG1pbjogeU1pbixcbiAgICAgIG1heDogeU1heCxcbiAgICAgIGZvbnQ6IGZvbnQsXG4gICAgICB0aWNrTGVuZ3RoOiAxMCxcbiAgICAgIHRpY2tDb2xvcjogJ3JnYigwLCAwLCAwKScsXG4gICAgICBjb2xvcjogJ3JnYigwLCAwLCAwKSdcbiAgICB9LFxuICAgIHNlcmllczoge1xuICAgICAgaG92ZXJhYmxlOiB0cnVlXG4gICAgICAvLyBzaGFkb3dTaXplOiAwXG4gICAgfSxcbiAgICBncmlkOiB7XG4gICAgICBib3JkZXJDb2xvcjoge1xuICAgICAgICB0b3A6ICdyZ2IoMCwgMCwgMjU1KScsXG4gICAgICAgIGJvdHRvbTogJ3JnYigyNTUsIDAsIDApJyxcbiAgICAgICAgbGVmdDogJ3JnYigwLCAwLCAwKScsXG4gICAgICAgIHJpZ2h0OiAncmdiKDAsIDAsIDApJ1xuICAgICAgfSxcbiAgICAgIGhvdmVyYWJsZTogdHJ1ZSxcbiAgICAgIG1pbkJvcmRlck1hcmdpbjogMFxuICAgIH1cbiAgfTtcblxuICBsZXQgc2VyaWVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLnJibS5sZW5ndGg7IGkrKylcbiAgICBzZXJpZXMucHVzaCh7XG4gICAgICBjb2xvcjogJ3JnYigyMDgsIDIwOCwgMjA4KScsIC8vIHVzZSB0aGUgc2hhZG93XG4gICAgICBkYXRhOiBwYXJhbXMucmJtW2ldLFxuICAgICAgc2hhZG93U2l6ZTogNSxcbiAgICAgIGhvdmVyYWJsZTogZmFsc2VcbiAgICB9KTtcbiAgbGV0IGxhc2VyID0gWzEyNDAgLyA3ODUsIDEyNDAgLyA2MzMsIDEyNDAgLyA1MzJdO1xuICBsZXQgbGFzZXJfY29sb3IgPSBbJ3JnYigxMzYsIDEzNiwgMTM2KScsICdyZ2IoMjQ1LCAwLCAwKScsICdyZ2IoMTIsIDEyNywgMTUpJ107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXNlci5sZW5ndGg7IGkrKykge1xuICAgIHNlcmllcyA9IHNlcmllcy5jb25jYXQoW3tcbiAgICAgIGlkOiBgbGFzZXIke2kudG9TdHJpbmcoKX1gLFxuICAgICAgY29sb3I6IGxhc2VyX2NvbG9yW2ldLFxuICAgICAgZGF0YTogW1stMTAsIDIgKiAoLTEwIC0gbGFzZXJbaV0pXSwgWzEwLCAyICogKDEwIC0gbGFzZXJbaV0pXV0sXG4gICAgICBzaGFkb3dTaXplOiAwXG4gICAgfSwge1xuICAgICAgaWQ6IGBsYXNlcl9taW51cyR7aS50b1N0cmluZygpfWAsXG4gICAgICBjb2xvcjogbGFzZXJfY29sb3JbaV0sXG4gICAgICBkYXRhOiBbWy0xMCwgLTIgKiAoLTEwIC0gbGFzZXJbaV0pXSwgWzEwLCAtMiAqICgxMCAtIGxhc2VyW2ldKV1dLFxuICAgICAgc2hhZG93U2l6ZTogMFxuICAgIH0sIHtcbiAgICAgIGZpbGxCZXR3ZWVuOiBgbGFzZXIke2kudG9TdHJpbmcoKX1gLFxuICAgICAgY29sb3I6IGxhc2VyX2NvbG9yW2ldLFxuICAgICAgZGF0YTogW1stMTAsIDIgKiAoLTEwIC0gKGxhc2VyW2ldIC0gMC4xKSldLCBbMTAsIDIgKiAoMTAgLSAobGFzZXJbaV0gLSAwLjEpKV1dLCAvLyAxMDAgbWVWXG4gICAgICBsaW5lczoge1xuICAgICAgICBmaWxsOiAwLjMsXG4gICAgICAgIGxpbmVXaWR0aDogMFxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpbGxCZXR3ZWVuOiBgbGFzZXJfbWludXMke2kudG9TdHJpbmcoKX1gLFxuICAgICAgY29sb3I6IGxhc2VyX2NvbG9yW2ldLFxuICAgICAgZGF0YTogW1stMTAsIC0yICogKC0xMCAtIChsYXNlcltpXSAtIDAuMSkpXSwgWzEwLCAtMiAqICgxMCAtIChsYXNlcltpXSAtIDAuMSkpXV0sIC8vIDEwMCBtZVZcbiAgICAgIGxpbmVzOiB7XG4gICAgICAgIGZpbGw6IDAuMyxcbiAgICAgICAgbGluZVdpZHRoOiAwXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmlsbEJldHdlZW46IGBsYXNlciR7aS50b1N0cmluZygpfWAsXG4gICAgICBjb2xvcjogbGFzZXJfY29sb3JbaV0sXG4gICAgICBkYXRhOiBbWy0xMCwgMiAqICgtMTAgLSAobGFzZXJbaV0gKyAwLjEpKV0sIFsxMCwgMiAqICgxMCAtIChsYXNlcltpXSArIDAuMSkpXV0sIC8vIDIwMCBtZVZcbiAgICAgIGxpbmVzOiB7XG4gICAgICAgIGZpbGw6IDAuMyxcbiAgICAgICAgbGluZVdpZHRoOiAwXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmlsbEJldHdlZW46IGBsYXNlcl9taW51cyR7aS50b1N0cmluZygpfWAsXG4gICAgICBjb2xvcjogbGFzZXJfY29sb3JbaV0sXG4gICAgICBkYXRhOiBbWy0xMCwgLTIgKiAoLTEwIC0gKGxhc2VyW2ldICsgMC4xKSldLCBbMTAsIC0yICogKDEwIC0gKGxhc2VyW2ldICsgMC4xKSldXSwgLy8gMjAwIG1lVlxuICAgICAgbGluZXM6IHtcbiAgICAgICAgZmlsbDogMC4zLFxuICAgICAgICBsaW5lV2lkdGg6IDBcbiAgICAgIH1cbiAgICB9XSk7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5hbGwubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbW9kX2kgPSAocGFyYW1zLmFsbExhYmVsW2ldWzBdWzBdICogMiArIHBhcmFtcy5hbGxMYWJlbFtpXVswXVsxXSkgJSAzO1xuICAgIHNlcmllcy5wdXNoKHtcbiAgICAgIGNvbG9yOiBwYXJhbXMuaXNNZXRhbCB8fCBtb2RfaSA9PT0gMiA/ICdyZ2IoMCwgMCwgMCknIDogJ3JnYigyNTUsIDAsIDApJyxcbiAgICAgIGRhdGE6IHBhcmFtcy5hbGxbaV0sXG4gICAgICBwb2ludHM6IHtcbiAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgcmFkaXVzOiBwYXJhbXMuaXNNZXRhbCA/IDc4IC8gMC4xICogMC4wMTUgLyAyICA6IGRlZmF1bHRSYWRpdXMsIC8vMTUgbWVWXG4gICAgICAgIHN5bWJvbDogcGFyYW1zLmlzTWV0YWwgPyAnY2lyY2xlJyA6IG1vZF9pID09PSAyID8gJ3NxdWFyZScgOiAndHJpYW5nbGUnXG4gICAgICB9LFxuICAgICAgbGluZXM6IHtcbiAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBvaW50X2xhYmVsczogcGFyYW1zLmFsbExhYmVsW2ldLFxuICAgICAgaG92ZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMucmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG1vZF9pID0gKHBhcmFtcy5yZXN1bHRMYWJlbFtpXVswXSAqIDIgKyBwYXJhbXMucmVzdWx0TGFiZWxbaV1bMV0pICUgMztcbiAgICBzZXJpZXMucHVzaCh7XG4gICAgICBjb2xvcjogcGFyYW1zLmlzTWV0YWwgfHwgbW9kX2kgPT09IDIgPyAncmdiKDAsIDAsIDApJyA6ICdyZ2IoMjU1LCAwLCAwKScsXG4gICAgICBkYXRhOiBbcGFyYW1zLnJlc3VsdFtpXV0sXG4gICAgICBwb2ludHM6IHtcbiAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgcmFkaXVzOiBwYXJhbXMuaXNNZXRhbCA/IDc4IC8gMC4xICogMC4wMTUgLyAyIDogZGVmYXVsdFJhZGl1cyxcbiAgICAgICAgc3ltYm9sOiBwYXJhbXMuaXNNZXRhbCA/ICdjaXJjbGUnIDogbW9kX2kgPT09IDIgPyAnc3F1YXJlJyA6ICd0cmlhbmdsZScsXG4gICAgICAgIGZpbGw6IHRydWUsXG4gICAgICAgIGZpbGxDb2xvcjogcGFyYW1zLmlzTWV0YWwgfHwgbW9kX2kgPT09IDIgPyAncmdiKDAsIDAsIDApJyA6ICdyZ2IoMjU1LCAwLCAwKSdcbiAgICAgIH0sXG4gICAgICBwb2ludF9sYWJlbHM6IFtwYXJhbXMucmVzdWx0TGFiZWxbaV1dLFxuICAgICAgaG92ZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuXG4gIC8vIGJsdWUgcG9pbnQgaXMgZGlhbW9uZCwgb3RoZXJ3aXNlIHNxdWFyZVxuICBpZiAocGFyYW1zLnBvaW50VHlwZSAhPT0gJ25vbmUnKSB7XG4gICAgc2VyaWVzLnB1c2goe1xuICAgICAgY29sb3I6IHBhcmFtcy5wb2ludFR5cGUgPT09ICdncmVlbicgPyAncmdiKDEyLCAxODAsIDE1KScgOiAncmdiKDI1NSwgMCwgMCknLFxuICAgICAgZGF0YTogW3BhcmFtcy5wb2ludF0sXG4gICAgICBwb2ludHM6IHtcbiAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgc3ltYm9sOiBwYXJhbXMucG9pbnRUeXBlID09PSAnZ3JlZW4nID8gJ2RpYW1vbmQnIDogJ3NxdWFyZScsXG4gICAgICAgIHJhZGl1czogZGVmYXVsdFJhZGl1cyxcbiAgICAgICAgZmlsbDogdHJ1ZSxcbiAgICAgICAgZmlsbENvbG9yOiBwYXJhbXMucG9pbnRUeXBlID09PSAnZ3JlZW4nID8gJ3JnYmEoMCwgMCwgMCwgMCknIDogJ3JnYigyNTUsIDAsIDApJ1xuICAgICAgfSxcbiAgICAgIGhvdmVyYWJsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBpZiAocGFyYW1zLmJsdWVQb2ludCAhPT0gbnVsbClcbiAgICBzZXJpZXMucHVzaCh7XG4gICAgICBjb2xvcjogJ3JnYigwLCAwLCAyNTUpJyxcbiAgICAgIGRhdGE6IFtwYXJhbXMuYmx1ZVBvaW50XSxcbiAgICAgIHBvaW50czoge1xuICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICBzeW1ib2w6ICdkaWFtb25kJyxcbiAgICAgICAgcmFkaXVzOiBkZWZhdWx0UmFkaXVzLFxuICAgICAgICBmaWxsOiB0cnVlLFxuICAgICAgICBmaWxsQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDApJ1xuICAgICAgfSxcbiAgICAgIGhvdmVyYWJsZTogZmFsc2UsXG4gICAgICBzaGFkb3dTaXplOiAwXG4gICAgfSk7XG5cbiAgbGV0ICRwbGFjZWhvbGRlciA9ICQoYCMke3BsYWNlaG9sZGVyfWApO1xuICBsZXQgcGxvdCA9ICQucGxvdCgkcGxhY2Vob2xkZXIsIHNlcmllcywgb3B0aW9ucyk7XG5cbiAgbGV0IHByZXZpb3VzUG9pbnQgPSBudWxsO1xuICAkcGxhY2Vob2xkZXIuYmluZCgncGxvdGhvdmVyJywgZnVuY3Rpb24oZXZlbnQsIHBvcywgaXRlbSkge1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBpZiAocHJldmlvdXNQb2ludCAhPT0gaXRlbS5kYXRhSW5kZXgpIHtcbiAgICAgICAgcHJldmlvdXNQb2ludCA9IGl0ZW0uZGF0YUluZGV4O1xuICAgICAgICAkKCcjdG9vbHRpcCcpLnJlbW92ZSgpO1xuICAgICAgICBzaG93VG9vbHRpcChpdGVtLnBhZ2VYLCBpdGVtLnBhZ2VZLFxuICAgICAgICAgIGAoJHtpdGVtLnNlcmllcy5wb2ludF9sYWJlbHNbaXRlbS5kYXRhSW5kZXhdWzBdfSwgJHtpdGVtLnNlcmllcy5wb2ludF9sYWJlbHNbaXRlbS5kYXRhSW5kZXhdWzFdfSlgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgJCgnI3Rvb2x0aXAnKS5yZW1vdmUoKTtcbiAgICAgIHByZXZpb3VzUG9pbnQgPSBudWxsO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHBhcmFtcy5pc01ldGFsKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMuYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcyA9IE1hdGguZmxvb3IocGFyYW1zLmFsbC5sZW5ndGggLyAyKTtcbiAgICAgIGxldCBwID0gcGFyYW1zLmFsbFtpXVtwYXJhbXMuYWxsW2ldLmxlbmd0aCAtIDFdO1xuICAgICAgbGV0IHAxID0gcGFyYW1zLmFsbExhYmVsW2ldW3BhcmFtcy5hbGxbaV0ubGVuZ3RoIC0gMV07XG4gICAgICBsZXQgbyA9IHBsb3QucG9pbnRPZmZzZXQoeyB4OiBwWzBdLCB5OiBwWzFdIH0pO1xuICAgICAgbGV0IGF4ZXMgPSBwbG90LmdldEF4ZXMoKTtcbiAgICAgIGxldCB4YXhpcyA9IGF4ZXMueGF4aXMsIHlheGlzID0gYXhlcy55YXhpcztcbiAgICAgIGlmIChpICUgMiA9PT0gcyAlIDIgJiYgcFswXSA8PSB4YXhpcy5tYXggJiYgcFswXSA+PSB4YXhpcy5taW4gJiZcbiAgICAgICAgcFsxXSA8PSB5YXhpcy5tYXggLSAwLjA1ICYmIHBbMV0gPj0geWF4aXMubWluICsgMC4wNSlcbiAgICAgICAgJHBsYWNlaG9sZGVyLmFwcGVuZChgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXJpZXNfbGFiZWxcIiBzdHlsZT1cImxlZnQ6ICR7by5sZWZ0IC0gKGkgPT09IHMgPyA2MCA6IDEwKX1weDsgdG9wOiAke28udG9wIC0gMzB9cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD4ke2kgPT09IHMgPyAnMjxpPm48L2k+KzxpPm08L2k+PScgOiAnJ30ke3AxWzBdICogMiArIHAxWzFdfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBtaWQgPSBNYXRoLnJvdW5kKHBhcmFtcy5hbGwubGVuZ3RoIC8gMik7XG4gICAgbGV0IHBNaWQgPSBwYXJhbXMuYWxsTGFiZWxbbWlkXVtwYXJhbXMuYWxsW21pZF0ubGVuZ3RoIC0gMV07XG4gICAgbGV0IGRpdk1pZCA9IE1hdGguZmxvb3IoKHBNaWRbMF0gKiAyICsgcE1pZFsxXSkgLyAzKTsgLy91c2UgY2VpbCwgZm9yIHJpZ2h0IGlzIHNjYXR0ZXJlZCwgbGVmdCBpcyBkZW5zZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMuYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcCA9IHBhcmFtcy5hbGxbaV1bcGFyYW1zLmFsbFtpXS5sZW5ndGggLSAxXTtcbiAgICAgIGxldCBwMSA9IHBhcmFtcy5hbGxMYWJlbFtpXVtwYXJhbXMuYWxsW2ldLmxlbmd0aCAtIDFdO1xuICAgICAgbGV0IG8gPSBwbG90LnBvaW50T2Zmc2V0KHsgeDogcFswXSwgeTogcFsxXSB9KTtcbiAgICAgIGxldCBheGVzID0gcGxvdC5nZXRBeGVzKCk7XG4gICAgICBsZXQgeGF4aXMgPSBheGVzLnhheGlzLCB5YXhpcyA9IGF4ZXMueWF4aXM7XG4gICAgICBsZXQgZGl2ID0gTWF0aC5yb3VuZCgocDFbMF0gKiAyICsgcDFbMV0pIC8gMyk7XG4gICAgICBsZXQgbW9kID0gKHAxWzBdICogMiArIHAxWzFdKSAlIDM7XG4gICAgICBpZiAoZGl2TWlkICUgMiA9PT0gZGl2ICUgMikge1xuICAgICAgICBpZiAocFswXSA8PSB4YXhpcy5tYXggLSAwLjAyICYmIHBbMF0gPj0geGF4aXMubWluICsgMC4wMiAmJiBwWzFdIDw9IHlheGlzLm1heCAtIDAuMSAmJlxuICAgICAgICAgIHBbMV0gPj0geWF4aXMubWluICsgMC4xKSB7XG4gICAgICAgICAgbGV0IGRBID0ge1xuICAgICAgICAgICAgY29sb3I6IG1vZCA9PT0gMSA/ICcjRkYwMDAwJyA6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIGxlZnQ6IG8ubGVmdCAtIChkaXZNaWQgPT09IGRpdiA/IDYwIDogMTApLFxuICAgICAgICAgICAgdG9wOiBvLnRvcCAtIChtb2QgPT09IDEgPyAtMTUgOiAoXG4gICAgICAgICAgICAgICAgZGl2TWlkID09PSBkaXYgJiYgcFsxXSA8PSB5YXhpcy5tYXggLSAwLjE1ICYmIHBbMV0gPj0geWF4aXMubWluICsgMC4xOCA/IDYwIDogMzBcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGMxOiBkaXZNaWQgIT09IGRpdlxuICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgIDogKChtb2QgPT09IDIgJiYgcFsxXSA8PSB5YXhpcy5tYXggLSAwLjE1XG4gICAgICAgICAgICAgICAgPyAnPGI+TU9EMjwvYj48YnIvPidcbiAgICAgICAgICAgICAgICA6ICcnKSArICcyPGk+bjwvaT4rPGk+bTwvaT49JyksXG4gICAgICAgICAgICBjMjogcDFbMF0gKiAyICsgcDFbMV0sXG4gICAgICAgICAgICBjMzogZGl2TWlkID09PSBkaXYgJiYgbW9kID09PSAxICYmIHBbMV0gPj0geWF4aXMubWluICsgMC4xMlxuICAgICAgICAgICAgICA/ICc8YnIvPjxiPk1PRDE8L2I+J1xuICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgfTtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuYXBwZW5kKGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXJpZXNfbGFiZWxcIiBzdHlsZT1cImNvbG9yOiR7ZEEuY29sb3J9O2xlZnQ6JHtkQS5sZWZ0fXB4O3RvcDoke2RBLnRvcCAtIDB9cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHtkQS5jMX0ke2RBLmMyfSR7ZEEuYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIGApOyAvLyB3b3JrYXJvdW5kIHRvIGxldCBlZGl0b3Iga25vdyB0aGF0IGRBLnRvcCBpcyBpbnRlZ2VyXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5yYm0ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSAlIDIgPT09IDAgfHwgcGFyYW1zLnJibS5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxldCBvMSA9IHBsb3QucG9pbnRPZmZzZXQoeyB4OiBwYXJhbXMucmJtUG9zW2ldLCB5OiB5TWF4IH0pO1xuICAgICAgJHBsYWNlaG9sZGVyLmFwcGVuZChgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJibV9sYWJlbFwiIHN0eWxlPVwibGVmdDoke28xLmxlZnQgLSAxNX1weDt0b3A6JHtvMS50b3AgLSAzMH1weDtcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+JHtwYXJhbXMucmJtTGFiZWxbaV19PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNob3dUb29sdGlwKHgsIHksIGNvbnRlbnRzKSB7XG4gICQoYFxuICAgICAgICA8ZGl2IGlkPVwidG9vbHRpcFwiIGNsYXNzPVwidG9vbHRpcCByaWdodCBpblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIiBzdHlsZT1cInRvcDogNTAlO1wiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvb2x0aXAtaW5uZXJcIj4ke2NvbnRlbnRzfTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICBgKVxuICAgIC5jc3Moe1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIHRvcDogeSxcbiAgICAgIGxlZnQ6IHhcbiAgICB9KS5hcHBlbmRUbygnYm9keScpLmZhZGVJbigyMDApO1xufVxuXG4iXX0=\n\n\n'use strict';\n\nvar timeLoad = performance.now(); // before load\nvar timeStartup = void 0;\n\n$.getScript(navigator.language.substr(0, 2).toLowerCase() !== \"zh\" ?\n\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js\" :\n\"https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js\" +\n\"?config=TeX-AMS_SVG-full,Safe&locale=en\", function () {\n  timeStartup = performance.now();\n  console.log(\"MathJax load takes \" + (timeStartup - timeLoad).toFixed(2));\n});\n\nvar urlParams = {};\n(window.onpopstate = function () {\n  var match = void 0,\n  pl = /\\+/g, // Regex for replacing addition symbol with a space\n  search = /([^&=]+)=?([^&]*)/g,\n  decode = function decode(s) {return decodeURIComponent(s.replace(pl, \" \"));},\n  query = window.location.search.substring(1);\n\n  urlParams = {};\n  while (match = search.exec(query)) {\n    urlParams[decode(match[1])] = decode(match[2]);}\n})();\n\nif (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)) {\n  $('.selectpicker').selectpicker('mobile');\n}\n\nvar $body = $(\"body\");\n\n/*\n                        * Step 1\n                        */\n\nif ($body.hasClass(\"Step1\")) {\n\n  var $selectType = $(\"#slType\");\n  for (var i = 0; i < typeArr.length; i++) {\n    $selectType.append(\"<option value=\\\"\" + i + \"\\\">\" + typeArr[i] + \"</option>\");}\n\n  $selectType.selectpicker('val', 0).\n  selectpicker('refresh').\n  on(\"loaded.bs.select\", clearTitle).\n  on('changed.bs.select', clearTitle);\n\n}\n\n/*\n   * Step 2\n   */\n\nif ($body.hasClass('Step2')) {\n\n  var type = parseInt(urlParams['Type']); // '', ' ' will be converted to NaN in this process.\n  if (isNaN(type) || type > 5 || type < 0)\n  location.href = 'Step1.html';\n\n  var $selectP1 = $('#slP1'),$selectP2 = $('#slP2'),_$selectType = $('#slType');\n  var $selectP1P2 = $('#slP1, #slP2');\n\n  $('#title')[0].innerHTML += ' <small>' + typeArr[type] + '</small>';\n\n  $('#dataTables').find(\".type\" + type).removeClass('hidden');\n\n  // generate options\n\n  for (var _i = 0; _i < p1Arr.length; _i++) {\n    if (type >= 3) {\n      var threshold = type === 3 ? 8 : 2;\n      if (_i >= threshold) break;\n    }\n    $selectP1P2.append(\"<option value=\\\"\" + _i + \"\\\">\" + p1Arr[_i] + \"</option>\");\n  }\n  for (var _i2 = 0; _i2 < typeArr.length; _i2++) {\n    _$selectType.append(\"<option value=\\\"\" + _i2 + \"\\\">\" + typeArr[_i2] + \"</option>\");}\n\n  // start recovering\n\n  if (['P1', 'P2', 'Val1', 'Val2', 'RBM'].every(function (e) {return urlParams[e] !== undefined;})) {\n\n    var params = {\n      p1: parseInt(urlParams['P1']), // int\n      p2: parseInt(urlParams['P2']), // int\n      val1: urlParams['Val1'], // empty-able str\n      val2: urlParams['Val2'], // empty-able str\n      rbm: urlParams['RBM'] // empty-able str\n    };\n\n    var valueBetween = function valueBetween(xy, a, b) {return xy >= a && xy <= b;};\n    var val1_ = parseFloat(params.val1),val2_ = parseFloat(params.val2),rbm_ = parseFloat(params.rbm);\n\n    var emptyNum = Number(isNaN(val1_)) + Number(isNaN(val2_)) + Number(isNaN(rbm_));\n    if (emptyNum >= 2 || isNaN(params.p1) || isNaN(params.p2) ||\n    !isNaN(val1_) && !valueBetween(val1_, 0, 4) || !isNaN(val2_) && !valueBetween(val2_, 0, 4) ||\n    !isNaN(rbm_) && !valueBetween(rbm_, 30, 500) ||\n    !valueBetween(params.p1, 0, 11) || !valueBetween(params.p2, 0, 11))\n\n    location.href = 'Step1.html';\n\n    $selectP1.selectpicker('val', params.p1);\n    $selectP2.selectpicker('val', params.p2);\n    $('#edVal1').val(params.val1);\n    $('#edVal2').val(params.val2);\n    $('#edRBM').val(params.rbm);\n\n\n  } else if (['P1', 'P2', 'Val1', 'Val2', 'RBM'].every(function (e) {return urlParams[e] !== undefined;}))\n  location.href = 'Step1.html';\n\n  // end validation and recovering\n\n  _$selectType.selectpicker('val', type);\n  $('.selectpicker').selectpicker('refresh');\n\n  $('select').on('loaded.bs.select', clearTitle);\n  $selectP1.on('changed.bs.select', function (e, index) {\n    var i = index - 1;\n    clearTitle(); // only when slP1 changes the title have to be cleared; only active select\n    $selectP2.find('option').each(function () {\n      var value = parseInt($(this).val());\n      if (i % 2 === 0 && value === i + 1 || i % 2 === 1 && value === i - 1)\n      $selectP2.selectpicker('val', value);\n    });\n  });\n\n}\n\n\n/*\n   * Step 3\n   */\n\nif ($body.hasClass('Step3')) {\n\n  // check integrity\n  if (!['Type', 'P1', 'P2', 'Val1', 'Val2', 'RBM'].every(function (e) {return urlParams[e] !== undefined;}))\n  location.href = 'Step1.html';\n\n  var inputParams = {\n    type: parseInt(urlParams['Type']), // int\n    p1: parseInt(urlParams['P1']), // int\n    p2: parseInt(urlParams['P2']), // int\n    val1: urlParams['Val1'], // empty-able str\n    val2: urlParams['Val2'], // empty-able str\n    rbm: urlParams['RBM'] // empty-able str\n  };\n\n  var _valueBetween = function _valueBetween(xy, a, b) {return xy >= a && xy <= b;};\n  var _val1_ = parseFloat(inputParams.val1),_val2_ = parseFloat(inputParams.val2),_rbm_ = parseFloat(inputParams.rbm);\n  // also, '' and ' ' will be converted to NaN in this process.\n\n  var _emptyNum = Number(isNaN(_val1_)) + Number(isNaN(_val2_)) + Number(isNaN(_rbm_));\n  if (_emptyNum >= 2 || isNaN(inputParams.type) || isNaN(inputParams.p1) || isNaN(inputParams.p2) ||\n  !isNaN(_val1_) && !_valueBetween(_val1_, 0, 4) || !isNaN(_val2_) && !_valueBetween(_val2_, 0, 4) ||\n  !isNaN(_rbm_) && !_valueBetween(_rbm_, 30, 500) || !_valueBetween(inputParams.type, 0, 5) ||\n  !_valueBetween(inputParams.p1, 0, 11) || !_valueBetween(inputParams.p2, 0, 11))\n\n  location.href = 'Step1.html';\n\n\n  $('#title')[0].innerHTML += ' <small>' + typeArr[inputParams.type] + '</small>';\n\n  var plotParams = processOutput(getPlotParams(inputParams));\n\n  $('#resultDiv').\n  addClass(plotParams.ar !== AssignResult.error ? 'alert-success' : 'alert-danger').\n  html(plotParams.resultString);\n  $('#yAxisLabel').html(plotParams.yAxisLabel);\n  $('#xAxisLabel').html(plotParams.xAxisLabel);\n  $('#' + plotParams.pointType + 'Legend').css('display', '');\n  if (plotParams.bluePoint !== null)\n  $('#blueLegend').css('display', '');\n\n  $(drawPlot('plot-placeholder', plotParams));\n\n}\n\n// functions\n\nfunction clearTitle() {// used in Step1 and Step2\n\n  $('.bootstrap-select').find('button').removeAttr('title');\n}\n\nfunction validate(form) {// used in Step2\n\n  var $hint = $('#hint');\n  var invokeError = function invokeError(msg) {\n    $hint.addClass('alert-danger').\n    html(\"<span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> \" + msg);\n    return false;\n  };\n  var val1_ = parseFloat(form.Val1.value);\n  var val2_ = parseFloat(form.Val2.value);\n  var rbm_ = parseInt(form.RBM.value);\n  var emptyNum = Number(isNaN(val1_)) + Number(isNaN(val2_)) + Number(isNaN(rbm_));\n  if (emptyNum >= 2) return invokeError('At least 2 values are required.');else\n  {\n    if (!isNaN(val1_) && (val1_ < 0 || val1_ > 4) ||\n    !isNaN(val2_) && (val2_ < 0 || val2_ > 4) ||\n    !isNaN(rbm_) && (rbm_ < 30 || rbm_ > 500))\n    return invokeError('Please input valid value.');\n    if ($(\"#slP1\").selectpicker('val') === '')\n    return invokeError('Please select the type of transition energy.');\n\n    $(\".selectpicker\").removeAttr('disabled');\n\n    history.replaceState(null, null,\n    'Step2.html?' + ['Type', 'P1', 'Val1', 'P2', 'Val2', 'RBM'].map(function (e) {return e + '=' + form[e].value;}).join('&'));\n    return true;\n  }\n}\n\nfunction changeEdit(p1_lesser, val1, val2) {// used in Step2\n  $(\"#slP1\").selectpicker('val', p1_lesser);\n  $(\"#slP2\").selectpicker('val', p1_lesser + 1);\n  $(\"#edVal1\").val(val1);\n  $(\"#edVal2\").val(val2);\n}\n\nfunction calculate(form) {// used in Step2\n\n  var $calcHint = $('#calculatorHint');\n  var $calcResult = $('#calcResult');\n\n  var invokeError = function invokeError() {\n    $calcHint.html(\"\\n      <div class=\\\"alert-danger hint\\\">\\n        <span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span>\\n        No valid result.\\n      </div>\\n    \");\n\n\n\n\n\n    $calcResult.html('');\n  };\n\n  var n = parseInt(form.NCalc.value),m = parseInt(form.MCalc.value),t = parseInt(urlParams['Type']);\n  if (n < m) {;var _ref = [m, n];n = _ref[0];m = _ref[1];}\n  if (isNaN(n) || isNaN(m) || n <= 6 || m <= 0 || 2 * n + m > seriesThreshold) {\n    invokeError();\n    return false;\n  }\n\n  $calcHint.html('');\n  var $resultList = $(\"<tbody></tbody>\");\n  var $plotList = $('<div></div>'); // empty wrapper\n  $calcResult.html('').\n  append($('<table class=\"table table-striped math\" id=\"calcResultList\"></table>').append($resultList)).\n  append($plotList);\n\n  $resultList.append(\"<tr><td>\\\\(d_t\\\\)</td><td>\\\\( \" + Dt(n, m, t).toFixed(3).toString() + \" \\\\ \\\\mathrm{nm}\\\\)</td></tr>\");\n\n  // generate d_t and RBM information\n\n  generateRBMCalculationResult(n, m, t, $resultList);\n\n  // do energy calculation\n\n  var calculatedEnergy = new Array(12);\n  for (var p1 = 0; p1 < 12; p1++) {\n    if (isMetal(p1ToP[p1]) !== isMetal(n, m)) {\n      calculatedEnergy[p1] = -1;\n      continue;\n    }\n    try {\n      calculatedEnergy[p1] = getEnergy(Dt(n, m, t), Theta(n, m), p1ToP[p1], t, isMetal(n, m) ? p1 % 2 - 1 : Mod(n, m)).\n      toFixed(3).toString();\n    }\n    catch (err) {\n      calculatedEnergy[p1] = -1;\n    }\n  }\n\n  // apply results to plot\n\n  var validResultNumber = 0;var _loop = function _loop(\n\n  _p) {\n\n    // assert that there are results for both P1 = 2k and (2k + 1).\n    // note that for (9,7) the S66 doesn't work due to too small d_t which\n    // caused 1st derivative issue, but S55 is valid.\n\n    if (calculatedEnergy[_p] === -1 || calculatedEnergy[_p + 1] === -1)\n      return \"continue\";\n\n    validResultNumber++;\n\n    $resultList.append(\n    $(\"<tr><td>\" + p1Arr[_p] + \"</td><td>\\\\(\" + calculatedEnergy[_p] + \"\\\\ \\\\mathrm{eV}\\\\)</td></tr>\").\n    click(function () {return changeEdit(_p, calculatedEnergy[_p], calculatedEnergy[_p + 1]);}).\n    css('cursor', 'pointer')).\n    append(\n    $(\"<tr><td>\" + p1Arr[_p + 1] + \"</td><td>\\\\(\" + calculatedEnergy[_p + 1] + \"\\\\ \\\\mathrm{eV}\\\\)</td></tr>\").\n    click(function () {return changeEdit(_p, calculatedEnergy[_p], calculatedEnergy[_p + 1]);}).\n    css('cursor', 'pointer'));\n\n\n    var inputParams = {\n      type: t, // int\n      p1: _p, // int\n      p2: _p + 1, // int\n      val1: calculatedEnergy[_p], // empty-able str\n      val2: calculatedEnergy[_p + 1], // empty-able str\n      rbm: '' // empty-able str\n    };\n\n    var plotParams = processOutput(getPlotParams(inputParams));\n    var plotId = \"calcPlot\" + Math.round(_p / 2);\n\n    var $plot = $(\"\\n      <div class=\\\"math calc-plot-container\\\" \\n           oncontextmenu=\\\"return false\\\" onmousedown=\\\"return false\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-lg-offset-2 col-md-offset-6 rbmAxisLabel\\\">\\n            \\\\(\\\\omega_{\\\\mathrm{RBM}}\\\\ (\\\\mathrm{cm^{-1}})\\\\)\\n          </div>\\n        </div>\\n        <br />\\n        <div class=\\\"row\\\" style=\\\"position: relative;\\\">\\n          <div class=\\\"yAxisLabel\\\">\" +\n\n\n\n\n\n\n\n\n\n    plotParams.yAxisLabel + \"</div>\\n          <div id=\\\"\" +\n    plotId + \"\\\" style=\\\"width: 400px; height: 290px; font-family: 'Times New Roman', serif;\\\"\\n               class=\\\"col-md-offset-1 col-xs-offset-1\\\"></div>\\n        </div>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-lg-offset-2 col-md-offset-5 xAxisLabel\\\">\\n               \" +\n\n\n\n\n    plotParams.xAxisLabel + \"\\n          </div>\\n        </div>\\n      </div>\\n    \");\n\n\n\n\n\n    $plotList.append($plot);\n    drawPlot(plotId, plotParams);};for (var _p = 0; _p < 12; _p += 2) {var _ret = _loop(_p);if (_ret === \"continue\") continue;\n  }\n\n  if (validResultNumber === 0) {\n    invokeError();\n  }\n\n  MathJax.Hub.Queue(['Typeset', MathJax.Hub]);\n  return false;\n}\n\nfunction generateRBMCalculationResult(n, m, t, $resultList) {// separated function to reduce complexity\n\n  var isAirSuspended = t === 0;\n  var editRBM = function editRBM(e) {return $('#edRBM').val(e);};\n  if (isAirSuspended) {\n    var rbmAS = dt2RBM(Dt(n, m, t), isMetal(n, m) ? 2 : 0, t).toFixed(1).toString();\n    $resultList.append(\n    $(\"\\n        <tr>\\n            <td>\\\\(\\\\omega_\\\\mathrm{RBM}\\\\ \" + (\n\n    isMetal(n, m) ? \"(p=3)\" : \"(p=1,2)\") + \" \\\\)</td>\\n            <td>\\\\( \" +\n    rbmAS + \" \\\\ \\\\mathrm{cm^{-1}}\\\\)</td>\\n        </tr>\\n      \").\n\n\n    click(function () {return editRBM(rbmAS);}).\n    css('cursor', 'pointer'));\n\n  }\n\n  var rbmGeneral = dt2RBM(Dt(n, m, t), isAirSuspended ? 3 : 0, t).toFixed(1).toString();\n  $resultList.append(\n  $(\"\\n      <tr>\\n          <td>\\\\(\\\\omega_\\\\mathrm{RBM}\\\\ \" + (\n\n  isAirSuspended ? \"(p>3)\" : \"\") + \" \\\\)</td>\\n          <td>\\\\( \" +\n  rbmGeneral + \" \\\\ \\\\mathrm{cm^{-1}}\\\\)</td>\\n      </tr>\\n    \").\n\n\n  click(function () {return editRBM(rbmGeneral);}).\n  css('cursor', 'pointer'));\n\n}\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidGltZUxvYWQiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInRpbWVTdGFydHVwIiwiJCIsImdldFNjcmlwdCIsIm5hdmlnYXRvciIsImxhbmd1YWdlIiwic3Vic3RyIiwidG9Mb3dlckNhc2UiLCJjb25zb2xlIiwibG9nIiwidG9GaXhlZCIsInVybFBhcmFtcyIsIndpbmRvdyIsIm9ucG9wc3RhdGUiLCJtYXRjaCIsInBsIiwic2VhcmNoIiwiZGVjb2RlIiwicyIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2UiLCJxdWVyeSIsImxvY2F0aW9uIiwic3Vic3RyaW5nIiwiZXhlYyIsInRlc3QiLCJ1c2VyQWdlbnQiLCJzZWxlY3RwaWNrZXIiLCIkYm9keSIsImhhc0NsYXNzIiwiJHNlbGVjdFR5cGUiLCJpIiwidHlwZUFyciIsImxlbmd0aCIsImFwcGVuZCIsIm9uIiwiY2xlYXJUaXRsZSIsInR5cGUiLCJwYXJzZUludCIsImlzTmFOIiwiaHJlZiIsIiRzZWxlY3RQMSIsIiRzZWxlY3RQMiIsIiRzZWxlY3RQMVAyIiwiaW5uZXJIVE1MIiwiZmluZCIsInJlbW92ZUNsYXNzIiwicDFBcnIiLCJ0aHJlc2hvbGQiLCJldmVyeSIsImUiLCJ1bmRlZmluZWQiLCJwYXJhbXMiLCJwMSIsInAyIiwidmFsMSIsInZhbDIiLCJyYm0iLCJ2YWx1ZUJldHdlZW4iLCJ4eSIsImEiLCJiIiwidmFsMV8iLCJwYXJzZUZsb2F0IiwidmFsMl8iLCJyYm1fIiwiZW1wdHlOdW0iLCJOdW1iZXIiLCJ2YWwiLCJpbmRleCIsImVhY2giLCJ2YWx1ZSIsImlucHV0UGFyYW1zIiwicGxvdFBhcmFtcyIsInByb2Nlc3NPdXRwdXQiLCJnZXRQbG90UGFyYW1zIiwiYWRkQ2xhc3MiLCJhciIsIkFzc2lnblJlc3VsdCIsImVycm9yIiwiaHRtbCIsInJlc3VsdFN0cmluZyIsInlBeGlzTGFiZWwiLCJ4QXhpc0xhYmVsIiwicG9pbnRUeXBlIiwiY3NzIiwiYmx1ZVBvaW50IiwiZHJhd1Bsb3QiLCJyZW1vdmVBdHRyIiwidmFsaWRhdGUiLCJmb3JtIiwiJGhpbnQiLCJpbnZva2VFcnJvciIsIm1zZyIsIlZhbDEiLCJWYWwyIiwiUkJNIiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsIm1hcCIsImpvaW4iLCJjaGFuZ2VFZGl0IiwicDFfbGVzc2VyIiwiY2FsY3VsYXRlIiwiJGNhbGNIaW50IiwiJGNhbGNSZXN1bHQiLCJuIiwiTkNhbGMiLCJtIiwiTUNhbGMiLCJ0Iiwic2VyaWVzVGhyZXNob2xkIiwiJHJlc3VsdExpc3QiLCIkcGxvdExpc3QiLCJEdCIsInRvU3RyaW5nIiwiZ2VuZXJhdGVSQk1DYWxjdWxhdGlvblJlc3VsdCIsImNhbGN1bGF0ZWRFbmVyZ3kiLCJBcnJheSIsImlzTWV0YWwiLCJwMVRvUCIsImdldEVuZXJneSIsIlRoZXRhIiwiTW9kIiwiZXJyIiwidmFsaWRSZXN1bHROdW1iZXIiLCJjbGljayIsInBsb3RJZCIsIk1hdGgiLCJyb3VuZCIsIiRwbG90IiwiTWF0aEpheCIsIkh1YiIsIlF1ZXVlIiwiaXNBaXJTdXNwZW5kZWQiLCJlZGl0UkJNIiwicmJtQVMiLCJkdDJSQk0iLCJyYm1HZW5lcmFsIl0sIm1hcHBpbmdzIjoiO0FBQ0E7O0FBRUEsSUFBSUEsV0FBV0MsWUFBWUMsR0FBWixFQUFmLEMsQ0FBa0M7QUFDbEMsSUFBSUMsb0JBQUo7O0FBRUFDLEVBQUVDLFNBQUYsQ0FBWUMsVUFBVUMsUUFBVixDQUFtQkMsTUFBbkIsQ0FBMEIsQ0FBMUIsRUFBNkIsQ0FBN0IsRUFBZ0NDLFdBQWhDLE9BQWtELElBQWxEO0FBQ1IsaUVBRFE7QUFFUjtBQUNBLHlDQUhKLEVBRytDLFlBQVk7QUFDekROLGdCQUFjRixZQUFZQyxHQUFaLEVBQWQ7QUFDQVEsVUFBUUMsR0FBUixDQUFZLHdCQUF3QixDQUFDUixjQUFjSCxRQUFmLEVBQXlCWSxPQUF6QixDQUFpQyxDQUFqQyxDQUFwQztBQUNELENBTkQ7O0FBUUEsSUFBSUMsWUFBWSxFQUFoQjtBQUNBLENBQUND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LEVBQTJDRSxDQUEzQyxFQUE4Q3BHLE9BQTlDLENBQXNELENBQXRELEVBQXlEeUcsUUFBekQsRUFBWjtBQUNBSCxnQkFBWTlFLE1BQVo7QUFDRWhDOztBQUV1Q3FILFlBQVFiLENBQVIsRUFBV0UsQ0FBWCxJQUFnQixPQUFoQixHQUEwQixTQUZqRTtBQUdnQjRCLFNBSGhCOzs7QUFNR1YsU0FOSCxDQU1TLG9CQUFNUyxRQUFRQyxLQUFSLENBQU4sRUFOVDtBQU9HbkQsT0FQSCxDQU9PLFFBUFAsRUFPaUIsU0FQakIsQ0FERjs7QUFVRDs7QUFFRCxNQUFJcUQsYUFBYUQsT0FBT3ZCLEdBQUdSLENBQUgsRUFBTUUsQ0FBTixFQUFTRSxDQUFULENBQVAsRUFBb0J3QixpQkFBaUIsQ0FBakIsR0FBcUIsQ0FBekMsRUFBNEN4QixDQUE1QyxFQUErQ3BHLE9BQS9DLENBQXVELENBQXZELEVBQTBEeUcsUUFBMUQsRUFBakI7QUFDQUgsY0FBWTlFLE1BQVo7QUFDRWhDOztBQUV1Q29JLG1CQUFpQixPQUFqQixHQUEyQixFQUZsRTtBQUdnQkksWUFIaEI7OztBQU1HWixPQU5ILENBTVMsb0JBQU1TLFFBQVFHLFVBQVIsQ0FBTixFQU5UO0FBT0dyRCxLQVBILENBT08sUUFQUCxFQU9pQixTQVBqQixDQURGOztBQVVEIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2Ugc3RyaWN0JztcblxubGV0IHRpbWVMb2FkID0gcGVyZm9ybWFuY2Uubm93KCk7IC8vIGJlZm9yZSBsb2FkXG5sZXQgdGltZVN0YXJ0dXA7XG5cbiQuZ2V0U2NyaXB0KG5hdmlnYXRvci5sYW5ndWFnZS5zdWJzdHIoMCwgMikudG9Mb3dlckNhc2UoKSAhPT0gXCJ6aFwiXG4gID8gXCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tYXRoamF4LzIuNy4zL01hdGhKYXguanNcIlxuICA6IFwiaHR0cHM6Ly9jZG4uYm9vdGNzcy5jb20vbWF0aGpheC8yLjcuMy9NYXRoSmF4LmpzXCJcbiAgKyBcIj9jb25maWc9VGVYLUFNU19TVkctZnVsbCxTYWZlJmxvY2FsZT1lblwiLCBmdW5jdGlvbiAoKSB7XG4gIHRpbWVTdGFydHVwID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gIGNvbnNvbGUubG9nKFwiTWF0aEpheCBsb2FkIHRha2VzIFwiICsgKHRpbWVTdGFydHVwIC0gdGltZUxvYWQpLnRvRml4ZWQoMikpO1xufSk7XG5cbmxldCB1cmxQYXJhbXMgPSB7fTtcbih3aW5kb3cub25wb3BzdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IG1hdGNoLFxuICAgIHBsICAgICA9IC9cXCsvZywgIC8vIFJlZ2V4IGZvciByZXBsYWNpbmcgYWRkaXRpb24gc3ltYm9sIHdpdGggYSBzcGFjZVxuICAgIHNlYXJjaCA9IC8oW14mPV0rKT0/KFteJl0qKS9nLFxuICAgIGRlY29kZSA9IGZ1bmN0aW9uIChzKSB7IHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocy5yZXBsYWNlKHBsLCBcIiBcIikpOyB9LFxuICAgIHF1ZXJ5ICA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpO1xuXG4gIHVybFBhcmFtcyA9IHt9O1xuICB3aGlsZSAobWF0Y2ggPSBzZWFyY2guZXhlYyhxdWVyeSkpXG4gICAgdXJsUGFyYW1zW2RlY29kZShtYXRjaFsxXSldID0gZGVjb2RlKG1hdGNoWzJdKTtcbn0pKCk7XG5cbmlmKCAvQW5kcm9pZHx3ZWJPU3xpUGhvbmV8aVBhZHxpUG9kfEJsYWNrQmVycnkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICkge1xuICAkKCcuc2VsZWN0cGlja2VyJykuc2VsZWN0cGlja2VyKCdtb2JpbGUnKTtcbn1cblxubGV0ICRib2R5ID0gJChcImJvZHlcIik7XG5cbi8qXG4gKiBTdGVwIDFcbiAqL1xuXG5pZiAoJGJvZHkuaGFzQ2xhc3MoXCJTdGVwMVwiKSkge1xuXG4gIGxldCAkc2VsZWN0VHlwZSA9ICQoXCIjc2xUeXBlXCIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVBcnIubGVuZ3RoOyBpKyspXG4gICAgJHNlbGVjdFR5cGUuYXBwZW5kKGA8b3B0aW9uIHZhbHVlPVwiJHtpfVwiPiR7dHlwZUFycltpXX08L29wdGlvbj5gKTtcblxuICAkc2VsZWN0VHlwZS5zZWxlY3RwaWNrZXIoJ3ZhbCcsIDApXG4gICAgLnNlbGVjdHBpY2tlcigncmVmcmVzaCcpXG4gICAgLm9uKFwibG9hZGVkLmJzLnNlbGVjdFwiLCBjbGVhclRpdGxlKVxuICAgIC5vbignY2hhbmdlZC5icy5zZWxlY3QnLCBjbGVhclRpdGxlKTtcblxufVxuXG4vKlxuICogU3RlcCAyXG4gKi9cblxuaWYgKCRib2R5Lmhhc0NsYXNzKCdTdGVwMicpKSB7XG5cbiAgbGV0IHR5cGUgPSBwYXJzZUludCh1cmxQYXJhbXNbJ1R5cGUnXSk7IC8vICcnLCAnICcgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gTmFOIGluIHRoaXMgcHJvY2Vzcy5cbiAgaWYgKGlzTmFOKHR5cGUpIHx8IHR5cGUgPiA1IHx8IHR5cGUgPCAwKVxuICAgIGxvY2F0aW9uLmhyZWYgPSAnU3RlcDEuaHRtbCc7XG5cbiAgbGV0ICRzZWxlY3RQMSA9ICQoJyNzbFAxJyksICRzZWxlY3RQMiA9ICQoJyNzbFAyJyksICRzZWxlY3RUeXBlID0gJCgnI3NsVHlwZScpO1xuICBsZXQgJHNlbGVjdFAxUDIgPSAkKCcjc2xQMSwgI3NsUDInKTtcblxuICAkKCcjdGl0bGUnKVswXS5pbm5lckhUTUwgKz0gJyA8c21hbGw+JyArIHR5cGVBcnJbdHlwZV0gKyAnPC9zbWFsbD4nO1xuXG4gICQoJyNkYXRhVGFibGVzJykuZmluZChgLnR5cGUke3R5cGV9YCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuXG4gIC8vIGdlbmVyYXRlIG9wdGlvbnNcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHAxQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGUgPj0gMykge1xuICAgICAgbGV0IHRocmVzaG9sZCA9ICh0eXBlID09PSAzID8gOCA6IDIpO1xuICAgICAgaWYgKGkgPj0gdGhyZXNob2xkKSBicmVhaztcbiAgICB9XG4gICAgJHNlbGVjdFAxUDIuYXBwZW5kKGA8b3B0aW9uIHZhbHVlPVwiJHtpfVwiPiR7cDFBcnJbaV19PC9vcHRpb24+YCk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlQXJyLmxlbmd0aDsgaSsrKVxuICAgICRzZWxlY3RUeXBlLmFwcGVuZChgPG9wdGlvbiB2YWx1ZT1cIiR7aX1cIj4ke3R5cGVBcnJbaV19PC9vcHRpb24+YCk7XG5cbiAgLy8gc3RhcnQgcmVjb3ZlcmluZ1xuXG4gIGlmICgoWydQMScsICdQMicsICdWYWwxJywgJ1ZhbDInLCAnUkJNJ10uZXZlcnkoKGUpID0+IHVybFBhcmFtc1tlXSAhPT0gdW5kZWZpbmVkICkpKSB7XG5cbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgcDE6IHBhcnNlSW50KHVybFBhcmFtc1snUDEnXSksIC8vIGludFxuICAgICAgcDI6IHBhcnNlSW50KHVybFBhcmFtc1snUDInXSksIC8vIGludFxuICAgICAgdmFsMTogdXJsUGFyYW1zWydWYWwxJ10sIC8vIGVtcHR5LWFibGUgc3RyXG4gICAgICB2YWwyOiB1cmxQYXJhbXNbJ1ZhbDInXSwgLy8gZW1wdHktYWJsZSBzdHJcbiAgICAgIHJibTogdXJsUGFyYW1zWydSQk0nXSAvLyBlbXB0eS1hYmxlIHN0clxuICAgIH07XG5cbiAgICBsZXQgdmFsdWVCZXR3ZWVuID0gKHh5LCBhLCBiKSA9PiAoeHkgPj0gYSAmJiB4eSA8PSBiKTtcbiAgICBsZXQgdmFsMV8gPSBwYXJzZUZsb2F0KHBhcmFtcy52YWwxKSwgdmFsMl8gPSBwYXJzZUZsb2F0KHBhcmFtcy52YWwyKSwgcmJtXyA9IHBhcnNlRmxvYXQocGFyYW1zLnJibSk7XG5cbiAgICBsZXQgZW1wdHlOdW0gPSBOdW1iZXIoaXNOYU4odmFsMV8pKSArIE51bWJlcihpc05hTih2YWwyXykpICsgTnVtYmVyKGlzTmFOKHJibV8pKTtcbiAgICBpZiAoZW1wdHlOdW0gPj0gMiB8fCBpc05hTihwYXJhbXMucDEpIHx8IGlzTmFOKHBhcmFtcy5wMikgfHxcbiAgICAgICFpc05hTih2YWwxXykgJiYgIXZhbHVlQmV0d2Vlbih2YWwxXywgMCwgNCkgfHwgIWlzTmFOKHZhbDJfKSAmJiAhdmFsdWVCZXR3ZWVuKHZhbDJfLCAwLCA0KSB8fFxuICAgICAgIWlzTmFOKHJibV8pICYmICF2YWx1ZUJldHdlZW4ocmJtXywgMzAsIDUwMCkgfHxcbiAgICAgICF2YWx1ZUJldHdlZW4ocGFyYW1zLnAxLCAwLCAxMSkgfHwgIXZhbHVlQmV0d2VlbihwYXJhbXMucDIsIDAsIDExKVxuICAgIClcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSAnU3RlcDEuaHRtbCc7XG5cbiAgICAkc2VsZWN0UDEuc2VsZWN0cGlja2VyKCd2YWwnLCBwYXJhbXMucDEpO1xuICAgICRzZWxlY3RQMi5zZWxlY3RwaWNrZXIoJ3ZhbCcsIHBhcmFtcy5wMik7XG4gICAgJCgnI2VkVmFsMScpLnZhbChwYXJhbXMudmFsMSk7XG4gICAgJCgnI2VkVmFsMicpLnZhbChwYXJhbXMudmFsMik7XG4gICAgJCgnI2VkUkJNJykudmFsKHBhcmFtcy5yYm0pO1xuXG5cbiAgfSBlbHNlIGlmICgoWydQMScsICdQMicsICdWYWwxJywgJ1ZhbDInLCAnUkJNJ10uZXZlcnkoKGUpID0+IHVybFBhcmFtc1tlXSAhPT0gdW5kZWZpbmVkICkpKVxuICAgIGxvY2F0aW9uLmhyZWYgPSAnU3RlcDEuaHRtbCc7XG5cbiAgLy8gZW5kIHZhbGlkYXRpb24gYW5kIHJlY292ZXJpbmdcblxuICAkc2VsZWN0VHlwZS5zZWxlY3RwaWNrZXIoJ3ZhbCcsIHR5cGUpO1xuICAkKCcuc2VsZWN0cGlja2VyJykuc2VsZWN0cGlja2VyKCdyZWZyZXNoJyk7XG5cbiAgJCgnc2VsZWN0Jykub24oJ2xvYWRlZC5icy5zZWxlY3QnLCBjbGVhclRpdGxlKTtcbiAgJHNlbGVjdFAxLm9uKCdjaGFuZ2VkLmJzLnNlbGVjdCcsIGZ1bmN0aW9uIChlLCBpbmRleCkge1xuICAgIGxldCBpID0gaW5kZXggLSAxO1xuICAgIGNsZWFyVGl0bGUoKTsgLy8gb25seSB3aGVuIHNsUDEgY2hhbmdlcyB0aGUgdGl0bGUgaGF2ZSB0byBiZSBjbGVhcmVkOyBvbmx5IGFjdGl2ZSBzZWxlY3RcbiAgICAkc2VsZWN0UDIuZmluZCgnb3B0aW9uJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgdmFsdWUgPSBwYXJzZUludCgkKHRoaXMpLnZhbCgpKTtcbiAgICAgIGlmIChpICUgMiA9PT0gMCAmJiB2YWx1ZSA9PT0gaSArIDEgfHwgaSAlIDIgPT09IDEgJiYgdmFsdWUgPT09IGkgLSAxKVxuICAgICAgICAkc2VsZWN0UDIuc2VsZWN0cGlja2VyKCd2YWwnLCB2YWx1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG59XG5cblxuLypcbiAqIFN0ZXAgM1xuICovXG5cbmlmICgkYm9keS5oYXNDbGFzcygnU3RlcDMnKSkge1xuXG4gIC8vIGNoZWNrIGludGVncml0eVxuICBpZiAoIShbJ1R5cGUnLCAnUDEnLCAnUDInLCAnVmFsMScsICdWYWwyJywgJ1JCTSddLmV2ZXJ5KChlKSA9PiB1cmxQYXJhbXNbZV0gIT09IHVuZGVmaW5lZCApKSlcbiAgICBsb2NhdGlvbi5ocmVmID0gJ1N0ZXAxLmh0bWwnO1xuXG4gIGxldCBpbnB1dFBhcmFtcyA9IHtcbiAgICB0eXBlOiBwYXJzZUludCh1cmxQYXJhbXNbJ1R5cGUnXSksIC8vIGludFxuICAgIHAxOiBwYXJzZUludCh1cmxQYXJhbXNbJ1AxJ10pLCAvLyBpbnRcbiAgICBwMjogcGFyc2VJbnQodXJsUGFyYW1zWydQMiddKSwgLy8gaW50XG4gICAgdmFsMTogdXJsUGFyYW1zWydWYWwxJ10sIC8vIGVtcHR5LWFibGUgc3RyXG4gICAgdmFsMjogdXJsUGFyYW1zWydWYWwyJ10sIC8vIGVtcHR5LWFibGUgc3RyXG4gICAgcmJtOiB1cmxQYXJhbXNbJ1JCTSddIC8vIGVtcHR5LWFibGUgc3RyXG4gIH07XG5cbiAgbGV0IHZhbHVlQmV0d2VlbiA9ICh4eSwgYSwgYikgPT4gKHh5ID49IGEgJiYgeHkgPD0gYik7XG4gIGxldCB2YWwxXyA9IHBhcnNlRmxvYXQoaW5wdXRQYXJhbXMudmFsMSksIHZhbDJfID0gcGFyc2VGbG9hdChpbnB1dFBhcmFtcy52YWwyKSwgcmJtXyA9IHBhcnNlRmxvYXQoaW5wdXRQYXJhbXMucmJtKTtcbiAgLy8gYWxzbywgJycgYW5kICcgJyB3aWxsIGJlIGNvbnZlcnRlZCB0byBOYU4gaW4gdGhpcyBwcm9jZXNzLlxuXG4gIGxldCBlbXB0eU51bSA9IE51bWJlcihpc05hTih2YWwxXykpICsgTnVtYmVyKGlzTmFOKHZhbDJfKSkgKyBOdW1iZXIoaXNOYU4ocmJtXykpO1xuICBpZiAoZW1wdHlOdW0gPj0gMiB8fCBpc05hTihpbnB1dFBhcmFtcy50eXBlKSB8fCBpc05hTihpbnB1dFBhcmFtcy5wMSkgfHwgaXNOYU4oaW5wdXRQYXJhbXMucDIpIHx8XG4gICAgIWlzTmFOKHZhbDFfKSAmJiAhdmFsdWVCZXR3ZWVuKHZhbDFfLCAwLCA0KSB8fCAhaXNOYU4odmFsMl8pICYmICF2YWx1ZUJldHdlZW4odmFsMl8sIDAsIDQpIHx8XG4gICAgIWlzTmFOKHJibV8pICYmICF2YWx1ZUJldHdlZW4ocmJtXywgMzAsIDUwMCkgfHwgIXZhbHVlQmV0d2VlbihpbnB1dFBhcmFtcy50eXBlLCAwLCA1KSB8fFxuICAgICF2YWx1ZUJldHdlZW4oaW5wdXRQYXJhbXMucDEsIDAsIDExKSB8fCAhdmFsdWVCZXR3ZWVuKGlucHV0UGFyYW1zLnAyLCAwLCAxMSlcbiAgKVxuICAgIGxvY2F0aW9uLmhyZWYgPSAnU3RlcDEuaHRtbCc7XG5cblxuICAkKCcjdGl0bGUnKVswXS5pbm5lckhUTUwgKz0gJyA8c21hbGw+JyArIHR5cGVBcnJbaW5wdXRQYXJhbXMudHlwZV0gKyAnPC9zbWFsbD4nO1xuXG4gIGxldCBwbG90UGFyYW1zID0gcHJvY2Vzc091dHB1dChnZXRQbG90UGFyYW1zKGlucHV0UGFyYW1zKSk7XG5cbiAgJCgnI3Jlc3VsdERpdicpXG4gICAgLmFkZENsYXNzKHBsb3RQYXJhbXMuYXIgIT09IEFzc2lnblJlc3VsdC5lcnJvciA/ICdhbGVydC1zdWNjZXNzJyA6ICdhbGVydC1kYW5nZXInKVxuICAgIC5odG1sKHBsb3RQYXJhbXMucmVzdWx0U3RyaW5nKTtcbiAgJCgnI3lBeGlzTGFiZWwnKS5odG1sKHBsb3RQYXJhbXMueUF4aXNMYWJlbCk7XG4gICQoJyN4QXhpc0xhYmVsJykuaHRtbChwbG90UGFyYW1zLnhBeGlzTGFiZWwpO1xuICAkKCcjJyArIHBsb3RQYXJhbXMucG9pbnRUeXBlICsgJ0xlZ2VuZCcpLmNzcygnZGlzcGxheScsICcnKTtcbiAgaWYgKHBsb3RQYXJhbXMuYmx1ZVBvaW50ICE9PSBudWxsKVxuICAgICQoJyNibHVlTGVnZW5kJykuY3NzKCdkaXNwbGF5JywgJycpO1xuXG4gICQoZHJhd1Bsb3QoJ3Bsb3QtcGxhY2Vob2xkZXInLCBwbG90UGFyYW1zKSk7XG5cbn1cblxuLy8gZnVuY3Rpb25zXG5cbmZ1bmN0aW9uIGNsZWFyVGl0bGUoKSB7IC8vIHVzZWQgaW4gU3RlcDEgYW5kIFN0ZXAyXG5cbiAgJCgnLmJvb3RzdHJhcC1zZWxlY3QnKS5maW5kKCdidXR0b24nKS5yZW1vdmVBdHRyKCd0aXRsZScpO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZShmb3JtKSB7IC8vIHVzZWQgaW4gU3RlcDJcblxuICBsZXQgJGhpbnQgPSAkKCcjaGludCcpO1xuICBsZXQgaW52b2tlRXJyb3IgPSAobXNnKSA9PiB7XG4gICAgJGhpbnQuYWRkQ2xhc3MoJ2FsZXJ0LWRhbmdlcicpXG4gICAgICAuaHRtbChgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWV4Y2xhbWF0aW9uLXNpZ25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+ICR7bXNnfWApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbiAgbGV0IHZhbDFfID0gcGFyc2VGbG9hdChmb3JtLlZhbDEudmFsdWUpO1xuICBsZXQgdmFsMl8gPSBwYXJzZUZsb2F0KGZvcm0uVmFsMi52YWx1ZSk7XG4gIGxldCByYm1fID0gcGFyc2VJbnQoZm9ybS5SQk0udmFsdWUpO1xuICBsZXQgZW1wdHlOdW0gPSBOdW1iZXIoaXNOYU4odmFsMV8pKSArIE51bWJlcihpc05hTih2YWwyXykpICsgTnVtYmVyKGlzTmFOKHJibV8pKTtcbiAgaWYgKGVtcHR5TnVtID49IDIpIHJldHVybiBpbnZva2VFcnJvcignQXQgbGVhc3QgMiB2YWx1ZXMgYXJlIHJlcXVpcmVkLicpO1xuICBlbHNlIHtcbiAgICBpZiAoIWlzTmFOKHZhbDFfKSAmJiAodmFsMV8gPCAwIHx8IHZhbDFfID4gNCkgfHxcbiAgICAgICFpc05hTih2YWwyXykgJiYgKHZhbDJfIDwgMCB8fCB2YWwyXyA+IDQpIHx8XG4gICAgICAhaXNOYU4ocmJtXykgJiYgKHJibV8gPCAzMCB8fCByYm1fID4gNTAwKSlcbiAgICAgIHJldHVybiBpbnZva2VFcnJvcignUGxlYXNlIGlucHV0IHZhbGlkIHZhbHVlLicpO1xuICAgIGlmICgkKFwiI3NsUDFcIikuc2VsZWN0cGlja2VyKCd2YWwnKSA9PT0gJycpXG4gICAgICByZXR1cm4gaW52b2tlRXJyb3IoJ1BsZWFzZSBzZWxlY3QgdGhlIHR5cGUgb2YgdHJhbnNpdGlvbiBlbmVyZ3kuJyk7XG5cbiAgICAkKFwiLnNlbGVjdHBpY2tlclwiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuXG4gICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgbnVsbCxcbiAgICAgICdTdGVwMi5odG1sPycgKyBbJ1R5cGUnLCAnUDEnLCAnVmFsMScsICdQMicsICdWYWwyJywgJ1JCTSddLm1hcCgoZSkgPT4gZSArICc9JyArIGZvcm1bZV0udmFsdWUpLmpvaW4oJyYnKSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hhbmdlRWRpdChwMV9sZXNzZXIsIHZhbDEsIHZhbDIpIHsgLy8gdXNlZCBpbiBTdGVwMlxuICAkKFwiI3NsUDFcIikuc2VsZWN0cGlja2VyKCd2YWwnLCBwMV9sZXNzZXIpO1xuICAkKFwiI3NsUDJcIikuc2VsZWN0cGlja2VyKCd2YWwnLCBwMV9sZXNzZXIgKyAxKTtcbiAgJChcIiNlZFZhbDFcIikudmFsKHZhbDEpO1xuICAkKFwiI2VkVmFsMlwiKS52YWwodmFsMik7XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZShmb3JtKSB7IC8vIHVzZWQgaW4gU3RlcDJcblxuICBsZXQgJGNhbGNIaW50ID0gJCgnI2NhbGN1bGF0b3JIaW50Jyk7XG4gIGxldCAkY2FsY1Jlc3VsdCA9ICQoJyNjYWxjUmVzdWx0Jyk7XG5cbiAgbGV0IGludm9rZUVycm9yID0gKCkgPT4ge1xuICAgICRjYWxjSGludC5odG1sKGBcbiAgICAgIDxkaXYgY2xhc3M9XCJhbGVydC1kYW5nZXIgaGludFwiPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tZXhjbGFtYXRpb24tc2lnblwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj5cbiAgICAgICAgTm8gdmFsaWQgcmVzdWx0LlxuICAgICAgPC9kaXY+XG4gICAgYCk7XG4gICAgJGNhbGNSZXN1bHQuaHRtbCgnJyk7XG4gIH07XG5cbiAgbGV0IG4gPSBwYXJzZUludChmb3JtLk5DYWxjLnZhbHVlKSwgbSA9IHBhcnNlSW50KGZvcm0uTUNhbGMudmFsdWUpLCB0ID0gcGFyc2VJbnQodXJsUGFyYW1zWydUeXBlJ10pO1xuICBpZiAobiA8IG0pIFtuLCBtXSA9IFttLCBuXTtcbiAgaWYgKGlzTmFOKG4pIHx8IGlzTmFOKG0pIHx8IG4gPD0gNiB8fCBtIDw9IDAgfHwgMiAqIG4gKyBtID4gc2VyaWVzVGhyZXNob2xkKSB7XG4gICAgaW52b2tlRXJyb3IoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAkY2FsY0hpbnQuaHRtbCgnJyk7XG4gIGxldCAkcmVzdWx0TGlzdCA9ICQoYDx0Ym9keT48L3Rib2R5PmApO1xuICBsZXQgJHBsb3RMaXN0ID0gJCgnPGRpdj48L2Rpdj4nKTsgLy8gZW1wdHkgd3JhcHBlclxuICAkY2FsY1Jlc3VsdC5odG1sKCcnKVxuICAgIC5hcHBlbmQoJCgnPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtc3RyaXBlZCBtYXRoXCIgaWQ9XCJjYWxjUmVzdWx0TGlzdFwiPjwvdGFibGU+JykuYXBwZW5kKCRyZXN1bHRMaXN0KSlcbiAgICAuYXBwZW5kKCRwbG90TGlzdCk7XG5cbiAgJHJlc3VsdExpc3QuYXBwZW5kKGA8dHI+PHRkPlxcXFwoZF90XFxcXCk8L3RkPjx0ZD5cXFxcKCAke0R0KG4sIG0sIHQpLnRvRml4ZWQoMykudG9TdHJpbmcoKX0gXFxcXCBcXFxcbWF0aHJte25tfVxcXFwpPC90ZD48L3RyPmApO1xuXG4gIC8vIGdlbmVyYXRlIGRfdCBhbmQgUkJNIGluZm9ybWF0aW9uXG5cbiAgZ2VuZXJhdGVSQk1DYWxjdWxhdGlvblJlc3VsdChuLCBtLCB0LCAkcmVzdWx0TGlzdCk7XG5cbiAgLy8gZG8gZW5lcmd5IGNhbGN1bGF0aW9uXG5cbiAgbGV0IGNhbGN1bGF0ZWRFbmVyZ3kgPSBuZXcgQXJyYXkoMTIpO1xuICBmb3IgKGxldCBwMSA9IDA7IHAxIDwgMTI7IHAxKyspIHtcbiAgICBpZiAoaXNNZXRhbChwMVRvUFtwMV0pICE9PSBpc01ldGFsKG4sIG0pKSB7XG4gICAgICBjYWxjdWxhdGVkRW5lcmd5W3AxXSA9IC0xO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjYWxjdWxhdGVkRW5lcmd5W3AxXSA9IGdldEVuZXJneShEdChuLCBtLCB0KSwgVGhldGEobiwgbSksIHAxVG9QW3AxXSwgdCwgaXNNZXRhbChuLCBtKSA/IHAxICUgMiAtIDEgOiBNb2QobiwgbSkpXG4gICAgICAgIC50b0ZpeGVkKDMpLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgIGNhbGN1bGF0ZWRFbmVyZ3lbcDFdID0gLTE7XG4gICAgfVxuICB9XG5cbiAgLy8gYXBwbHkgcmVzdWx0cyB0byBwbG90XG5cbiAgbGV0IHZhbGlkUmVzdWx0TnVtYmVyID0gMDtcblxuICBmb3IgKGxldCBwMSA9IDA7IHAxIDwgMTI7IHAxICs9IDIpIHtcblxuICAgIC8vIGFzc2VydCB0aGF0IHRoZXJlIGFyZSByZXN1bHRzIGZvciBib3RoIFAxID0gMmsgYW5kICgyayArIDEpLlxuICAgIC8vIG5vdGUgdGhhdCBmb3IgKDksNykgdGhlIFM2NiBkb2Vzbid0IHdvcmsgZHVlIHRvIHRvbyBzbWFsbCBkX3Qgd2hpY2hcbiAgICAvLyBjYXVzZWQgMXN0IGRlcml2YXRpdmUgaXNzdWUsIGJ1dCBTNTUgaXMgdmFsaWQuXG5cbiAgICBpZiAoY2FsY3VsYXRlZEVuZXJneVtwMV0gPT09IC0xIHx8IGNhbGN1bGF0ZWRFbmVyZ3lbcDEgKyAxXSA9PT0gLTEpXG4gICAgICBjb250aW51ZTtcblxuICAgIHZhbGlkUmVzdWx0TnVtYmVyKys7XG5cbiAgICAkcmVzdWx0TGlzdC5hcHBlbmQoXG4gICAgICAkKGA8dHI+PHRkPiR7cDFBcnJbcDFdfTwvdGQ+PHRkPlxcXFwoJHtjYWxjdWxhdGVkRW5lcmd5W3AxXX1cXFxcIFxcXFxtYXRocm17ZVZ9XFxcXCk8L3RkPjwvdHI+YClcbiAgICAgICAgLmNsaWNrKCgpID0+IGNoYW5nZUVkaXQocDEsIGNhbGN1bGF0ZWRFbmVyZ3lbcDFdLCBjYWxjdWxhdGVkRW5lcmd5W3AxICsgMV0pKVxuICAgICAgICAuY3NzKCdjdXJzb3InLCAncG9pbnRlcicpXG4gICAgKS5hcHBlbmQoXG4gICAgICAkKGA8dHI+PHRkPiR7cDFBcnJbcDEgKyAxXX08L3RkPjx0ZD5cXFxcKCR7Y2FsY3VsYXRlZEVuZXJneVtwMSArIDFdfVxcXFwgXFxcXG1hdGhybXtlVn1cXFxcKTwvdGQ+PC90cj5gKVxuICAgICAgICAuY2xpY2soKCkgPT4gY2hhbmdlRWRpdChwMSwgY2FsY3VsYXRlZEVuZXJneVtwMV0sIGNhbGN1bGF0ZWRFbmVyZ3lbcDEgKyAxXSkpXG4gICAgICAgIC5jc3MoJ2N1cnNvcicsICdwb2ludGVyJylcbiAgICApO1xuXG4gICAgbGV0IGlucHV0UGFyYW1zID0ge1xuICAgICAgdHlwZTogdCwgLy8gaW50XG4gICAgICBwMTogcDEsIC8vIGludFxuICAgICAgcDI6IHAxICsgMSwgLy8gaW50XG4gICAgICB2YWwxOiBjYWxjdWxhdGVkRW5lcmd5W3AxXSwgLy8gZW1wdHktYWJsZSBzdHJcbiAgICAgIHZhbDI6IGNhbGN1bGF0ZWRFbmVyZ3lbcDEgKyAxXSwgLy8gZW1wdHktYWJsZSBzdHJcbiAgICAgIHJibTogJycgLy8gZW1wdHktYWJsZSBzdHJcbiAgICB9O1xuXG4gICAgbGV0IHBsb3RQYXJhbXMgPSBwcm9jZXNzT3V0cHV0KGdldFBsb3RQYXJhbXMoaW5wdXRQYXJhbXMpKTtcbiAgICBsZXQgcGxvdElkID0gYGNhbGNQbG90JHtNYXRoLnJvdW5kKHAxIC8gMil9YDtcblxuICAgIGxldCAkcGxvdCA9ICQoYFxuICAgICAgPGRpdiBjbGFzcz1cIm1hdGggY2FsYy1wbG90LWNvbnRhaW5lclwiIFxuICAgICAgICAgICBvbmNvbnRleHRtZW51PVwicmV0dXJuIGZhbHNlXCIgb25tb3VzZWRvd249XCJyZXR1cm4gZmFsc2VcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctb2Zmc2V0LTIgY29sLW1kLW9mZnNldC02IHJibUF4aXNMYWJlbFwiPlxuICAgICAgICAgICAgXFxcXChcXFxcb21lZ2Ffe1xcXFxtYXRocm17UkJNfX1cXFxcIChcXFxcbWF0aHJte2NtXnstMX19KVxcXFwpXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiIHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlO1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ5QXhpc0xhYmVsXCI+JHtwbG90UGFyYW1zLnlBeGlzTGFiZWx9PC9kaXY+XG4gICAgICAgICAgPGRpdiBpZD1cIiR7cGxvdElkfVwiIHN0eWxlPVwid2lkdGg6IDQwMHB4OyBoZWlnaHQ6IDI5MHB4OyBmb250LWZhbWlseTogJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmO1wiXG4gICAgICAgICAgICAgICBjbGFzcz1cImNvbC1tZC1vZmZzZXQtMSBjb2wteHMtb2Zmc2V0LTFcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLW9mZnNldC0yIGNvbC1tZC1vZmZzZXQtNSB4QXhpc0xhYmVsXCI+XG4gICAgICAgICAgICAgICAke3Bsb3RQYXJhbXMueEF4aXNMYWJlbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgKTtcblxuICAgICRwbG90TGlzdC5hcHBlbmQoJHBsb3QpO1xuICAgIGRyYXdQbG90KHBsb3RJZCwgcGxvdFBhcmFtcyk7XG4gIH1cblxuICBpZiAodmFsaWRSZXN1bHROdW1iZXIgPT09IDApIHtcbiAgICBpbnZva2VFcnJvcigpO1xuICB9XG5cbiAgTWF0aEpheC5IdWIuUXVldWUoWydUeXBlc2V0JywgTWF0aEpheC5IdWJdKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVJCTUNhbGN1bGF0aW9uUmVzdWx0KG4sIG0sIHQsICRyZXN1bHRMaXN0KSB7IC8vIHNlcGFyYXRlZCBmdW5jdGlvbiB0byByZWR1Y2UgY29tcGxleGl0eVxuXG4gIGxldCBpc0FpclN1c3BlbmRlZCA9ICh0ID09PSAwKTtcbiAgbGV0IGVkaXRSQk0gPSAoZSkgPT4gJCgnI2VkUkJNJykudmFsKGUpO1xuICBpZiAoaXNBaXJTdXNwZW5kZWQpIHtcbiAgICBsZXQgcmJtQVMgPSBkdDJSQk0oRHQobiwgbSwgdCksIGlzTWV0YWwobiwgbSkgPyAyIDogMCwgdCkudG9GaXhlZCgxKS50b1N0cmluZygpO1xuICAgICRyZXN1bHRMaXN0LmFwcGVuZChcbiAgICAgICQoYFxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XFxcXChcXFxcb21lZ2FfXFxcXG1hdGhybXtSQk19XFxcXCAke2lzTWV0YWwobiwgbSkgPyBcIihwPTMpXCIgOiBcIihwPTEsMilcIn0gXFxcXCk8L3RkPlxuICAgICAgICAgICAgPHRkPlxcXFwoICR7cmJtQVN9IFxcXFwgXFxcXG1hdGhybXtjbV57LTF9fVxcXFwpPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgIGApXG4gICAgICAgIC5jbGljaygoKSA9PiBlZGl0UkJNKHJibUFTKSlcbiAgICAgICAgLmNzcygnY3Vyc29yJywgJ3BvaW50ZXInKVxuICAgICk7XG4gIH1cblxuICBsZXQgcmJtR2VuZXJhbCA9IGR0MlJCTShEdChuLCBtLCB0KSwgaXNBaXJTdXNwZW5kZWQgPyAzIDogMCwgdCkudG9GaXhlZCgxKS50b1N0cmluZygpO1xuICAkcmVzdWx0TGlzdC5hcHBlbmQoXG4gICAgJChgXG4gICAgICA8dHI+XG4gICAgICAgICAgPHRkPlxcXFwoXFxcXG9tZWdhX1xcXFxtYXRocm17UkJNfVxcXFwgJHtpc0FpclN1c3BlbmRlZCA/IFwiKHA+MylcIiA6IFwiXCJ9IFxcXFwpPC90ZD5cbiAgICAgICAgICA8dGQ+XFxcXCggJHtyYm1HZW5lcmFsfSBcXFxcIFxcXFxtYXRocm17Y21eey0xfX1cXFxcKTwvdGQ+XG4gICAgICA8L3RyPlxuICAgIGApXG4gICAgICAuY2xpY2soKCkgPT4gZWRpdFJCTShyYm1HZW5lcmFsKSlcbiAgICAgIC5jc3MoJ2N1cnNvcicsICdwb2ludGVyJylcbiAgKTtcbn1cbiJdfQ==\n","\n'use strict';\n\nlet isUnparsable = e => isNaN(parseFloat(e));\n\nfunction getPlotParams(inputParams) {\n  let decimalDigits = (d) => d.split('.')[1].length;\n\n  if (isUnparsable(inputParams.val1) && isUnparsable(inputParams.val2)) {\n    throw new Error('Unauthorized Access');\n  } else if (isUnparsable(inputParams.val1) || isUnparsable(inputParams.val2)) {\n    if (isUnparsable(inputParams.rbm)) throw new Error('Unauthorized Access');\n    inputParams.uncertainty = 2.0 / Math.pow(10, decimalDigits(isUnparsable(inputParams.val1) ? inputParams.val2 : inputParams.val1 ));\n    return E1R1(inputParams);\n  } else {\n    inputParams.uncertainty = 2.0 / Math.pow(10,\n      Math.min(decimalDigits(inputParams.val1), decimalDigits(inputParams.val2))\n    );\n    return E2(inputParams);\n  }\n}\n\nfunction E1R1(inputParams) {\n\n  let p1 = (isUnparsable(inputParams.val1) ? inputParams.p2 : inputParams.p1), type = inputParams.type, p = p1ToP[p1]; // int\n  let val = parseFloat(isUnparsable(inputParams.val1) ? inputParams.val2 : inputParams.val1); // float\n  let wRBM = parseFloat(inputParams.rbm); // float, integrity checked in getPlotParam\n\n  let dt = wRBM2Dt(wRBM, p, type);\n  let cos = getCos3Theta(val, dt, p, type);\n  let resultString = '';\n  let error = () => Assign({\n    bluePoint: null,\n    point: [ val, 0.23 ],\n    pLesser: pToLesser[p],\n    type: type,\n    pointType: 'none',\n    p1Lesser: p1ToLesser(p1),\n    resultString: resultString\n  });\n\n  if (cos[0] === -1 && cos[1] === -1) {\n    resultString += 'Invalid input: out of range.';\n    return error();\n  }\n\n  let pAnother, modAnother;\n  if (isMetal(p)) {\n    if (p1 % 4 - 3 !== (cos[0] === -1 ? 0 : -1)) {\n      resultString += `Invalid input: You may have mistaken ${p1Arr[p1 + 5 - (p1 % 4) * 2]} for ${p1Arr[p1]}.`;\n      return error();\n    }\n    pAnother = p;\n    modAnother = cos[0] === -1 ? -1 : 0;\n  }\n  else {\n    pAnother = isMetal(p + 1) ? p - 1 : p + 1;\n    modAnother = cos[0] === -1 ? 2 : 1; // === mod1\n  }\n\n  let valAnother;\n  try {\n    valAnother = getEnergyFromCos3Theta(dt, cos[0] === -1 ? cos[1] : cos[0], pAnother, type, modAnother);\n  }\n  catch (err) {\n    if (err.message === 'dt') {\n      resultString += 'Invalid input: out of range, diameter too small.';\n      return error();\n    }\n    throw err;\n  }\n  if ((isMetal(p) && (modAnother === -1)) || (!isMetal(p) && (p > pAnother))) {\n    [p, pAnother] = [pAnother, p];\n    [val, valAnother] = [valAnother, val];\n  }\n  let x = (val + valAnother) / 2, y = valAnother - val;\n  return Assign({\n    bluePoint: null,\n    point: [x, y],\n    pLesser: p,\n    type: type,\n    pointType: 'green',\n    p1Lesser: p1ToLesser(p1),\n    resultString: resultString\n  }, modAnother);\n\n}\n\n\nfunction E2(inputParams) {\n\n  let resultString = '';\n  let p1 = inputParams.p1, p2 = inputParams.p2, type = inputParams.type; // int\n  let val1 = parseFloat(inputParams.val1), val2 = parseFloat(inputParams.val2); // float, integrity checked in getPlotParams\n  let p_1 = p1ToP[p1], p_2 = p1ToP[p2]; // int\n  let rbm = inputParams.rbm; // string\n\n  // don't use 'with' block\n  if (p1 > p2) {\n    [p_1, p_2] = [p_2, p_1];\n    [val1, val2] = [val2, val1];\n    [p1, p2] = [p2, p1];\n  }\n\n  if (isMetal(p_2) !== isMetal(p_1)) {\n    throw new Error('invalid form submission');\n  }\n\n  if (p2 - p1 === 1) {\n    let bluePoint = null;\n    if (!isUnparsable(rbm)) {\n      let average = getAverage(val2 - val1, parseFloat(rbm), p_1, type);\n      if (average !== null) {\n        bluePoint = [average, val2 - val1];\n      }\n      else {\n        resultString += 'Invalid input: RBM value out of range. Only transition energies are processed. <br/ >';\n      }\n    }\n    return Assign({\n      point: [ (val1 + val2) / 2, val2 - val1 ],\n      pLesser: p_1,\n      type: type,\n      pointType: 'red',\n      bluePoint: bluePoint,\n      p1Lesser: p1,\n      resultString: resultString\n    });\n  }\n\n}\n\nfunction Assign(params, mod = -1) {\n\n  // params: plotParams\n  // x: average y: splitting\n\n  let uncertainty = params.uncertainty;\n  let dxMin = -1, dxMax = -1, dyMin = -1, dyMax = -1;\n  let Dist = (x1, y1, x2, y2) => Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2) * 25);\n  let Dist_ = (e) => Dist(e[2], e[3], params.point[0], params.point[1]);\n  let deltaX = 0.6,\n    maxY = isMetal(params.pLesser) ? 0.6 : params.point[1] + 0.6,\n    minY = isMetal(params.pLesser) ? -0.1 : params.point[1] - 0.6;\n\n  function setBounds(dxMin_, dxMax_, dyMin_, dyMax_) {\n    dxMin = dxMin_;\n    dxMax = dxMax_;\n    dyMin = dyMin_;\n    dyMax = dyMax_;\n  }\n\n  // https://github.com/mihaifm/linq, many thanks to you!\n\n  params.all = Enumerable.from(getList(params.pLesser, params.type))\n    .where(e => (e[2] >= params.point[0] - deltaX && e[2] <= params.point[0] + deltaX &&\n      e[3] <= maxY && e[3] >= minY))\n    .toArray();\n\n  let query = Enumerable.from(params.all)\n    .where(e => (\n      (mod === -1 || isMetal(params.pLesser) || mod === Mod(e[0], e[1])) &&\n      params.point[0] - e[2] >= dxMin && params.point[0] - e[2] <= dxMax &&\n      params.point[1] - e[3] >= dyMin && params.point[1] - e[3] <= dyMax\n    ));\n\n  setBounds(-uncertainty, uncertainty, -uncertainty, uncertainty);\n  let uc = query.toArray(); // query once to get uncertainty range\n\n  function processOutput() {\n    params.result = query.orderBy(Dist_).toArray();\n    for (let i = 0; i < params.result.length; i++)\n      params.resultString += `\n        <b>(${Math.round(params.result[i][0])},${Math.round(params.result[i][1])})</b>\n        ${i !== params.result.length - 1 ? ', ' : ''}`;\n    params.resultString += '</span>';\n  }\n\n  if (params.pointType === 'none') {\n    params.ar = AssignResult.error;\n    params.result = [];\n    return params;\n  }\n\n  if (uncertainty > 0.2) {\n    params.resultString = 'Input uncertainty too large. Please give more significant figures.';\n    params.ar = AssignResult.error;\n    params.result = [];\n    return params;\n  }\n\n  if (params.pointType === 'red') {\n    if (params.bluePoint != null) {\n      if (params.bluePoint[0] - params.point[0] < 0.02) setBounds(-0.008, 0.008, -0.015, 0.015);\n      else setBounds(-0.030, -0.005, -0.015, 0.015); // don't change at this moment\n    } else setBounds(-0.020, 0.008, -0.015, 0.015);\n\n    if (query.count() === 1 && uc.length <= 1) {\n      params.ar = AssignResult.accurate;\n      params.resultString += 'The assignment result is:<br /><span style=\"font-size: 28px;\">';\n      processOutput();\n      return params;\n    }\n    setBounds(-0.040, 0.0126, -0.030, 0.030);\n  } else setBounds(-0.070, 0.070, -0.040, 0.040);\n\n  query.union(uc);\n\n  if (query.count() > 0) {\n    params.ar = AssignResult.possible;\n    params.resultString += 'The likely assignments include:<br /><span style=\"font-size: 28px;\">';\n    processOutput();\n    return params;\n  }\n\n  // use the green criteria and query again for no match.\n  // and it's easy to see that green point, if not returned in the previous step,\n  // will not give results in this step.\n\n  setBounds(-0.070, 0.070, -0.040, 0.040);\n  let tmp = Enumerable.from(params.all).orderBy(Dist_).toArray();\n  if (Dist_(tmp[0]) / Dist_(tmp[1]) <= 0.5 && query.count() !== 0) {\n    params.ar = AssignResult.impossible;\n    query = Enumerable.from([ tmp[0] ]);\n    params.resultString += 'No match. The most possible assignment result is:<br /><span style=\"font-size: 28px;\">';\n    processOutput();\n    return params;\n  }\n\n  params.ar = AssignResult.error;\n  params.resultString = 'Invalid input: out of range. Please check your input.';\n  params.result = [];\n  return params;\n}\n\nfunction processOutput(params) {\n\n  // process RBM\n\n  const yMax = isMetal(params.pLesser) ? 0.51 : params.point[1] + 0.4;\n  const xMin = params.point[0] - 0.5, xMax = params.point[0] + 0.5;\n  let s = getRBMArray(params.pLesser, params.type); // {rbm, rbmLabel}\n  let rbm = [];\n  let rbmLabel = [];\n  let rbmPos = [];\n  let between = (xy, r1, r2) => (xy >= r1 && xy <= r2) || (xy >= r2 && xy <= r1);\n  for (let i = 0 ; i < s.rbm.length; i++) {\n    let a = s.rbm[i];\n    let t;\n    if (a.length === 2)\n      t = (a[0][0] - a[1][0]) * (yMax - a[1][1]) / (a[0][1] - a[1][1]) + a[1][0];\n    else {\n      let u;\n      if (between(yMax, a[1][1], a[0][1]))\n        u = 0;\n      else // if between(a[1][1], a[2][1])\n        u = 2;\n      t = (a[u][0] - a[1][0]) * (yMax - a[1][1]) / (a[u][1] - a[1][1]) + a[1][0];\n    }\n    if (between(t, xMax, xMin)) {\n      rbm.push(s.rbm[i]);\n      rbmLabel.push(s.rbmLabel[i]);\n      rbmPos.push(t);\n    }\n  }\n  params.rbm = rbm;\n  params.rbmLabel = rbmLabel;\n  params.rbmPos = rbmPos;\n\n  // process all\n\n  let all = params.all; // you know, lazy evaluation\n  let q = Enumerable.from(all)\n    .groupBy(\n      e => 2 * e[0] + e[1], // key\n      e => e, // group element\n      (key, group) => ({ key: key, value: group.orderBy(e => e[0]).toArray() })\n    ); // use default compare method\n\n  params.all = q.select(e => e.value.map(ee => [ee[2], ee[3]])).toArray();\n  params.allLabel = q.select(e => e.value.map(ee => [ee[0], ee[1]])).toArray();\n\n  // process result\n\n  let result = params.result;\n  params.result = result.map(e => [e[2], e[3]]);\n  params.resultLabel = result.map(e => [e[0], e[1]]);\n\n  params.isMetal = isMetal(params.pLesser);\n  params.yAxisLabel = `\\\\(${p1Arr_raw[params.p1Lesser + 1]}-${p1Arr_raw[params.p1Lesser]}\\\\ (\\\\mathrm{eV})\\\\)`;\n  params.xAxisLabel = `\\\\((${p1Arr_raw[params.p1Lesser + 1]}+${p1Arr_raw[params.p1Lesser]})/2\\\\ (\\\\mathrm{eV})\\\\)`;\n\n\n  // select g.OrderBy(elem => elem[0]);\n  // note that average energy may not increase monotonously as n in (n,m) increases.\n  // thus elem => elem[2] is wrong.\n  // test: S11 = 1.420, S22 = 2.134 as (6,4), see branch 2n + m = 16\n\n\n  return params;\n}\n","\n'use strict';\n\nfunction drawPlot(placeholder, params) {\n\n  let defaultRadius = 4, xMin = params.point[0] - 0.5, xMax = params.point[0] + 0.5;\n  let yMin = params.isMetal ? -0.01 : params.point[1] - 0.4, yMax = params.isMetal ? 0.45 : params.point[1] + 0.4;\n  let font = {\n    size: 20,\n    lineHeight: 20,\n    family: 'serif'\n  };\n  let options = {\n    xaxis: {\n      // aver\n      show: true,\n      position: 'bottom',\n      min: xMin,\n      max: xMax,\n      font: font,\n      tickLength: 10,\n      tickColor: 'rgb(255, 0, 0)',\n      color: 'rgb(255, 0, 0)'\n    },\n    yaxis: {\n      show: true,\n      min: yMin,\n      max: yMax,\n      font: font,\n      tickLength: 10,\n      tickColor: 'rgb(0, 0, 0)',\n      color: 'rgb(0, 0, 0)'\n    },\n    series: {\n      hoverable: true\n      // shadowSize: 0\n    },\n    grid: {\n      borderColor: {\n        top: 'rgb(0, 0, 255)',\n        bottom: 'rgb(255, 0, 0)',\n        left: 'rgb(0, 0, 0)',\n        right: 'rgb(0, 0, 0)'\n      },\n      hoverable: true,\n      minBorderMargin: 0\n    }\n  };\n\n  let series = [];\n  for (let i = 0; i < params.rbm.length; i++)\n    series.push({\n      color: 'rgb(208, 208, 208)', // use the shadow\n      data: params.rbm[i],\n      shadowSize: 5,\n      hoverable: false\n    });\n  let laser = [1240 / 785, 1240 / 633, 1240 / 532];\n  let laser_color = ['rgb(136, 136, 136)', 'rgb(245, 0, 0)', 'rgb(12, 127, 15)'];\n\n  for (let i = 0; i < laser.length; i++) {\n    series = series.concat([{\n      id: `laser${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, 2 * (-10 - laser[i])], [10, 2 * (10 - laser[i])]],\n      shadowSize: 0\n    }, {\n      id: `laser_minus${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, -2 * (-10 - laser[i])], [10, -2 * (10 - laser[i])]],\n      shadowSize: 0\n    }, {\n      fillBetween: `laser${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, 2 * (-10 - (laser[i] - 0.1))], [10, 2 * (10 - (laser[i] - 0.1))]], // 100 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0\n      }\n    }, {\n      fillBetween: `laser_minus${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, -2 * (-10 - (laser[i] - 0.1))], [10, -2 * (10 - (laser[i] - 0.1))]], // 100 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0\n      }\n    }, {\n      fillBetween: `laser${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, 2 * (-10 - (laser[i] + 0.1))], [10, 2 * (10 - (laser[i] + 0.1))]], // 200 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0\n      }\n    }, {\n      fillBetween: `laser_minus${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, -2 * (-10 - (laser[i] + 0.1))], [10, -2 * (10 - (laser[i] + 0.1))]], // 200 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0\n      }\n    }]);\n  }\n\n  for (let i = 0; i < params.all.length; i++) {\n    let mod_i = (params.allLabel[i][0][0] * 2 + params.allLabel[i][0][1]) % 3;\n    series.push({\n      color: params.isMetal || mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)',\n      data: params.all[i],\n      points: {\n        show: true,\n        radius: params.isMetal ? 78 / 0.1 * 0.015 / 2  : defaultRadius, //15 meV\n        symbol: params.isMetal ? 'circle' : mod_i === 2 ? 'square' : 'triangle'\n      },\n      lines: {\n        show: true\n      },\n      point_labels: params.allLabel[i],\n      hoverable: true\n    });\n  }\n  for (let i = 0; i < params.result.length; i++) {\n    let mod_i = (params.resultLabel[i][0] * 2 + params.resultLabel[i][1]) % 3;\n    series.push({\n      color: params.isMetal || mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)',\n      data: [params.result[i]],\n      points: {\n        show: true,\n        radius: params.isMetal ? 78 / 0.1 * 0.015 / 2 : defaultRadius,\n        symbol: params.isMetal ? 'circle' : mod_i === 2 ? 'square' : 'triangle',\n        fill: true,\n        fillColor: params.isMetal || mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)'\n      },\n      point_labels: [params.resultLabel[i]],\n      hoverable: true\n    });\n  }\n\n\n  // blue point is diamond, otherwise square\n  if (params.pointType !== 'none') {\n    series.push({\n      color: params.pointType === 'green' ? 'rgb(12, 180, 15)' : 'rgb(255, 0, 0)',\n      data: [params.point],\n      points: {\n        show: true,\n        symbol: params.pointType === 'green' ? 'diamond' : 'square',\n        radius: defaultRadius,\n        fill: true,\n        fillColor: params.pointType === 'green' ? 'rgba(0, 0, 0, 0)' : 'rgb(255, 0, 0)'\n      },\n      hoverable: false\n    });\n  }\n  if (params.bluePoint !== null)\n    series.push({\n      color: 'rgb(0, 0, 255)',\n      data: [params.bluePoint],\n      points: {\n        show: true,\n        symbol: 'diamond',\n        radius: defaultRadius,\n        fill: true,\n        fillColor: 'rgba(0, 0, 0, 0)'\n      },\n      hoverable: false,\n      shadowSize: 0\n    });\n\n  let $placeholder = $(`#${placeholder}`);\n  let plot = $.plot($placeholder, series, options);\n\n  let previousPoint = null;\n  $placeholder.bind('plothover', function(event, pos, item) {\n    if (item) {\n      if (previousPoint !== item.dataIndex) {\n        previousPoint = item.dataIndex;\n        $('#tooltip').remove();\n        showTooltip(item.pageX, item.pageY,\n          `(${item.series.point_labels[item.dataIndex][0]}, ${item.series.point_labels[item.dataIndex][1]})`);\n      }\n    } else {\n      $('#tooltip').remove();\n      previousPoint = null;\n    }\n  });\n\n  if (params.isMetal) {\n    for (let i = 0; i < params.all.length; i++) {\n      let s = Math.floor(params.all.length / 2);\n      let p = params.all[i][params.all[i].length - 1];\n      let p1 = params.allLabel[i][params.all[i].length - 1];\n      let o = plot.pointOffset({ x: p[0], y: p[1] });\n      let axes = plot.getAxes();\n      let xaxis = axes.xaxis, yaxis = axes.yaxis;\n      if (i % 2 === s % 2 && p[0] <= xaxis.max && p[0] >= xaxis.min &&\n        p[1] <= yaxis.max - 0.05 && p[1] >= yaxis.min + 0.05)\n        $placeholder.append(`\n                    <div class=\"series_label\" style=\"left: ${o.left - (i === s ? 60 : 10)}px; top: ${o.top - 30}px;\">\n                        <p>${i === s ? '2<i>n</i>+<i>m</i>=' : ''}${p1[0] * 2 + p1[1]}</p>\n                    </div>\n                `);\n    }\n  } else {\n    let mid = Math.round(params.all.length / 2);\n    let pMid = params.allLabel[mid][params.all[mid].length - 1];\n    let divMid = Math.floor((pMid[0] * 2 + pMid[1]) / 3); //use ceil, for right is scattered, left is dense\n\n    for (let i = 0; i < params.all.length; i++) {\n      let p = params.all[i][params.all[i].length - 1];\n      let p1 = params.allLabel[i][params.all[i].length - 1];\n      let o = plot.pointOffset({ x: p[0], y: p[1] });\n      let axes = plot.getAxes();\n      let xaxis = axes.xaxis, yaxis = axes.yaxis;\n      let div = Math.round((p1[0] * 2 + p1[1]) / 3);\n      let mod = (p1[0] * 2 + p1[1]) % 3;\n      if (divMid % 2 === div % 2) {\n        if (p[0] <= xaxis.max - 0.02 && p[0] >= xaxis.min + 0.02 && p[1] <= yaxis.max - 0.1 &&\n          p[1] >= yaxis.min + 0.1) {\n          let dA = {\n            color: mod === 1 ? '#FF0000' : '#000000',\n            left: o.left - (divMid === div ? 60 : 10),\n            top: o.top - (mod === 1 ? -15 : (\n                divMid === div && p[1] <= yaxis.max - 0.15 && p[1] >= yaxis.min + 0.18 ? 60 : 30\n              )\n            ),\n            c1: divMid !== div\n              ? ''\n              : ((mod === 2 && p[1] <= yaxis.max - 0.15\n                ? '<b>MOD2</b><br/>'\n                : '') + '2<i>n</i>+<i>m</i>='),\n            c2: p1[0] * 2 + p1[1],\n            c3: divMid === div && mod === 1 && p[1] >= yaxis.min + 0.12\n              ? '<br/><b>MOD1</b>'\n              : ''\n          };\n          $placeholder.append(`\n                        <div class=\"series_label\" style=\"color:${dA.color};left:${dA.left}px;top:${dA.top - 0}px;\">\n                            <p>${dA.c1}${dA.c2}${dA.c3}</p>\n                        </div>\n                    `); // workaround to let editor know that dA.top is integer\n        }\n      }\n    }\n  }\n\n  for (let i = 0; i < params.rbm.length; i++) {\n    if (i % 2 === 0 || params.rbm.length === 1) {\n      let o1 = plot.pointOffset({ x: params.rbmPos[i], y: yMax });\n      $placeholder.append(`\n                <div class=\"rbm_label\" style=\"left:${o1.left - 15}px;top:${o1.top - 30}px;\">\n                    <p>${params.rbmLabel[i]}</p>\n                </div>\n            `);\n    }\n  }\n}\n\nfunction showTooltip(x, y, contents) {\n  $(`\n        <div id=\"tooltip\" class=\"tooltip right in\">\n            <div class=\"tooltip-arrow\" style=\"top: 50%;\"></div>\n            <div class=\"tooltip-inner\">${contents}</div>\n        </div>\n    `)\n    .css({\n      display: 'block',\n      top: y,\n      left: x\n    }).appendTo('body').fadeIn(200);\n}\n\n","\n'use strict';\n\nlet timeLoad = performance.now(); // before load\nlet timeStartup;\n\n$.getScript(navigator.language.substr(0, 2).toLowerCase() !== \"zh\"\n  ? \"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js\"\n  : \"https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js\"\n  + \"?config=TeX-AMS_SVG-full,Safe&locale=en\", function () {\n  timeStartup = performance.now();\n  console.log(\"MathJax load takes \" + (timeStartup - timeLoad).toFixed(2));\n});\n\nlet urlParams = {};\n(window.onpopstate = function () {\n  let match,\n    pl     = /\\+/g,  // Regex for replacing addition symbol with a space\n    search = /([^&=]+)=?([^&]*)/g,\n    decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n    query  = window.location.search.substring(1);\n\n  urlParams = {};\n  while (match = search.exec(query))\n    urlParams[decode(match[1])] = decode(match[2]);\n})();\n\nif( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ) {\n  $('.selectpicker').selectpicker('mobile');\n}\n\nlet $body = $(\"body\");\n\n/*\n * Step 1\n */\n\nif ($body.hasClass(\"Step1\")) {\n\n  let $selectType = $(\"#slType\");\n  for (let i = 0; i < typeArr.length; i++)\n    $selectType.append(`<option value=\"${i}\">${typeArr[i]}</option>`);\n\n  $selectType.selectpicker('val', 0)\n    .selectpicker('refresh')\n    .on(\"loaded.bs.select\", clearTitle)\n    .on('changed.bs.select', clearTitle);\n\n}\n\n/*\n * Step 2\n */\n\nif ($body.hasClass('Step2')) {\n\n  let type = parseInt(urlParams['Type']); // '', ' ' will be converted to NaN in this process.\n  if (isNaN(type) || type > 5 || type < 0)\n    location.href = 'Step1.html';\n\n  let $selectP1 = $('#slP1'), $selectP2 = $('#slP2'), $selectType = $('#slType');\n  let $selectP1P2 = $('#slP1, #slP2');\n\n  $('#title')[0].innerHTML += ' <small>' + typeArr[type] + '</small>';\n\n  $('#dataTables').find(`.type${type}`).removeClass('hidden');\n\n  // generate options\n\n  for (let i = 0; i < p1Arr.length; i++) {\n    if (type >= 3) {\n      let threshold = (type === 3 ? 8 : 2);\n      if (i >= threshold) break;\n    }\n    $selectP1P2.append(`<option value=\"${i}\">${p1Arr[i]}</option>`);\n  }\n  for (let i = 0; i < typeArr.length; i++)\n    $selectType.append(`<option value=\"${i}\">${typeArr[i]}</option>`);\n\n  // start recovering\n\n  if ((['P1', 'P2', 'Val1', 'Val2', 'RBM'].every((e) => urlParams[e] !== undefined ))) {\n\n    let params = {\n      p1: parseInt(urlParams['P1']), // int\n      p2: parseInt(urlParams['P2']), // int\n      val1: urlParams['Val1'], // empty-able str\n      val2: urlParams['Val2'], // empty-able str\n      rbm: urlParams['RBM'] // empty-able str\n    };\n\n    let valueBetween = (xy, a, b) => (xy >= a && xy <= b);\n    let val1_ = parseFloat(params.val1), val2_ = parseFloat(params.val2), rbm_ = parseFloat(params.rbm);\n\n    let emptyNum = Number(isNaN(val1_)) + Number(isNaN(val2_)) + Number(isNaN(rbm_));\n    if (emptyNum >= 2 || isNaN(params.p1) || isNaN(params.p2) ||\n      !isNaN(val1_) && !valueBetween(val1_, 0, 4) || !isNaN(val2_) && !valueBetween(val2_, 0, 4) ||\n      !isNaN(rbm_) && !valueBetween(rbm_, 30, 500) ||\n      !valueBetween(params.p1, 0, 11) || !valueBetween(params.p2, 0, 11)\n    )\n      location.href = 'Step1.html';\n\n    $selectP1.selectpicker('val', params.p1);\n    $selectP2.selectpicker('val', params.p2);\n    $('#edVal1').val(params.val1);\n    $('#edVal2').val(params.val2);\n    $('#edRBM').val(params.rbm);\n\n\n  } else if ((['P1', 'P2', 'Val1', 'Val2', 'RBM'].every((e) => urlParams[e] !== undefined )))\n    location.href = 'Step1.html';\n\n  // end validation and recovering\n\n  $selectType.selectpicker('val', type);\n  $('.selectpicker').selectpicker('refresh');\n\n  $('select').on('loaded.bs.select', clearTitle);\n  $selectP1.on('changed.bs.select', function (e, index) {\n    let i = index - 1;\n    clearTitle(); // only when slP1 changes the title have to be cleared; only active select\n    $selectP2.find('option').each(function () {\n      let value = parseInt($(this).val());\n      if (i % 2 === 0 && value === i + 1 || i % 2 === 1 && value === i - 1)\n        $selectP2.selectpicker('val', value);\n    });\n  });\n\n}\n\n\n/*\n * Step 3\n */\n\nif ($body.hasClass('Step3')) {\n\n  // check integrity\n  if (!(['Type', 'P1', 'P2', 'Val1', 'Val2', 'RBM'].every((e) => urlParams[e] !== undefined )))\n    location.href = 'Step1.html';\n\n  let inputParams = {\n    type: parseInt(urlParams['Type']), // int\n    p1: parseInt(urlParams['P1']), // int\n    p2: parseInt(urlParams['P2']), // int\n    val1: urlParams['Val1'], // empty-able str\n    val2: urlParams['Val2'], // empty-able str\n    rbm: urlParams['RBM'] // empty-able str\n  };\n\n  let valueBetween = (xy, a, b) => (xy >= a && xy <= b);\n  let val1_ = parseFloat(inputParams.val1), val2_ = parseFloat(inputParams.val2), rbm_ = parseFloat(inputParams.rbm);\n  // also, '' and ' ' will be converted to NaN in this process.\n\n  let emptyNum = Number(isNaN(val1_)) + Number(isNaN(val2_)) + Number(isNaN(rbm_));\n  if (emptyNum >= 2 || isNaN(inputParams.type) || isNaN(inputParams.p1) || isNaN(inputParams.p2) ||\n    !isNaN(val1_) && !valueBetween(val1_, 0, 4) || !isNaN(val2_) && !valueBetween(val2_, 0, 4) ||\n    !isNaN(rbm_) && !valueBetween(rbm_, 30, 500) || !valueBetween(inputParams.type, 0, 5) ||\n    !valueBetween(inputParams.p1, 0, 11) || !valueBetween(inputParams.p2, 0, 11)\n  )\n    location.href = 'Step1.html';\n\n\n  $('#title')[0].innerHTML += ' <small>' + typeArr[inputParams.type] + '</small>';\n\n  let plotParams = processOutput(getPlotParams(inputParams));\n\n  $('#resultDiv')\n    .addClass(plotParams.ar !== AssignResult.error ? 'alert-success' : 'alert-danger')\n    .html(plotParams.resultString);\n  $('#yAxisLabel').html(plotParams.yAxisLabel);\n  $('#xAxisLabel').html(plotParams.xAxisLabel);\n  $('#' + plotParams.pointType + 'Legend').css('display', '');\n  if (plotParams.bluePoint !== null)\n    $('#blueLegend').css('display', '');\n\n  $(drawPlot('plot-placeholder', plotParams));\n\n}\n\n// functions\n\nfunction clearTitle() { // used in Step1 and Step2\n\n  $('.bootstrap-select').find('button').removeAttr('title');\n}\n\nfunction validate(form) { // used in Step2\n\n  let $hint = $('#hint');\n  let invokeError = (msg) => {\n    $hint.addClass('alert-danger')\n      .html(`<span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span> ${msg}`);\n    return false;\n  };\n  let val1_ = parseFloat(form.Val1.value);\n  let val2_ = parseFloat(form.Val2.value);\n  let rbm_ = parseInt(form.RBM.value);\n  let emptyNum = Number(isNaN(val1_)) + Number(isNaN(val2_)) + Number(isNaN(rbm_));\n  if (emptyNum >= 2) return invokeError('At least 2 values are required.');\n  else {\n    if (!isNaN(val1_) && (val1_ < 0 || val1_ > 4) ||\n      !isNaN(val2_) && (val2_ < 0 || val2_ > 4) ||\n      !isNaN(rbm_) && (rbm_ < 30 || rbm_ > 500))\n      return invokeError('Please input valid value.');\n    if ($(\"#slP1\").selectpicker('val') === '')\n      return invokeError('Please select the type of transition energy.');\n\n    $(\".selectpicker\").removeAttr('disabled');\n\n    history.replaceState(null, null,\n      'Step2.html?' + ['Type', 'P1', 'Val1', 'P2', 'Val2', 'RBM'].map((e) => e + '=' + form[e].value).join('&'));\n    return true;\n  }\n}\n\nfunction changeEdit(p1_lesser, val1, val2) { // used in Step2\n  $(\"#slP1\").selectpicker('val', p1_lesser);\n  $(\"#slP2\").selectpicker('val', p1_lesser + 1);\n  $(\"#edVal1\").val(val1);\n  $(\"#edVal2\").val(val2);\n}\n\nfunction calculate(form) { // used in Step2\n\n  let $calcHint = $('#calculatorHint');\n  let $calcResult = $('#calcResult');\n\n  let invokeError = () => {\n    $calcHint.html(`\n      <div class=\"alert-danger hint\">\n        <span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span>\n        No valid result.\n      </div>\n    `);\n    $calcResult.html('');\n  };\n\n  let n = parseInt(form.NCalc.value), m = parseInt(form.MCalc.value), t = parseInt(urlParams['Type']);\n  if (n < m) [n, m] = [m, n];\n  if (isNaN(n) || isNaN(m) || n <= 6 || m <= 0 || 2 * n + m > seriesThreshold) {\n    invokeError();\n    return false;\n  }\n\n  $calcHint.html('');\n  let $resultList = $(`<tbody></tbody>`);\n  let $plotList = $('<div></div>'); // empty wrapper\n  $calcResult.html('')\n    .append($('<table class=\"table table-striped math\" id=\"calcResultList\"></table>').append($resultList))\n    .append($plotList);\n\n  $resultList.append(`<tr><td>\\\\(d_t\\\\)</td><td>\\\\( ${Dt(n, m, t).toFixed(3).toString()} \\\\ \\\\mathrm{nm}\\\\)</td></tr>`);\n\n  // generate d_t and RBM information\n\n  generateRBMCalculationResult(n, m, t, $resultList);\n\n  // do energy calculation\n\n  let calculatedEnergy = new Array(12);\n  for (let p1 = 0; p1 < 12; p1++) {\n    if (isMetal(p1ToP[p1]) !== isMetal(n, m)) {\n      calculatedEnergy[p1] = -1;\n      continue;\n    }\n    try {\n      calculatedEnergy[p1] = getEnergy(Dt(n, m, t), Theta(n, m), p1ToP[p1], t, isMetal(n, m) ? p1 % 2 - 1 : Mod(n, m))\n        .toFixed(3).toString();\n    }\n    catch (err) {\n      calculatedEnergy[p1] = -1;\n    }\n  }\n\n  // apply results to plot\n\n  let validResultNumber = 0;\n\n  for (let p1 = 0; p1 < 12; p1 += 2) {\n\n    // assert that there are results for both P1 = 2k and (2k + 1).\n    // note that for (9,7) the S66 doesn't work due to too small d_t which\n    // caused 1st derivative issue, but S55 is valid.\n\n    if (calculatedEnergy[p1] === -1 || calculatedEnergy[p1 + 1] === -1)\n      continue;\n\n    validResultNumber++;\n\n    $resultList.append(\n      $(`<tr><td>${p1Arr[p1]}</td><td>\\\\(${calculatedEnergy[p1]}\\\\ \\\\mathrm{eV}\\\\)</td></tr>`)\n        .click(() => changeEdit(p1, calculatedEnergy[p1], calculatedEnergy[p1 + 1]))\n        .css('cursor', 'pointer')\n    ).append(\n      $(`<tr><td>${p1Arr[p1 + 1]}</td><td>\\\\(${calculatedEnergy[p1 + 1]}\\\\ \\\\mathrm{eV}\\\\)</td></tr>`)\n        .click(() => changeEdit(p1, calculatedEnergy[p1], calculatedEnergy[p1 + 1]))\n        .css('cursor', 'pointer')\n    );\n\n    let inputParams = {\n      type: t, // int\n      p1: p1, // int\n      p2: p1 + 1, // int\n      val1: calculatedEnergy[p1], // empty-able str\n      val2: calculatedEnergy[p1 + 1], // empty-able str\n      rbm: '' // empty-able str\n    };\n\n    let plotParams = processOutput(getPlotParams(inputParams));\n    let plotId = `calcPlot${Math.round(p1 / 2)}`;\n\n    let $plot = $(`\n      <div class=\"math calc-plot-container\" \n           oncontextmenu=\"return false\" onmousedown=\"return false\">\n        <div class=\"row\">\n          <div class=\"col-lg-offset-2 col-md-offset-6 rbmAxisLabel\">\n            \\\\(\\\\omega_{\\\\mathrm{RBM}}\\\\ (\\\\mathrm{cm^{-1}})\\\\)\n          </div>\n        </div>\n        <br />\n        <div class=\"row\" style=\"position: relative;\">\n          <div class=\"yAxisLabel\">${plotParams.yAxisLabel}</div>\n          <div id=\"${plotId}\" style=\"width: 400px; height: 290px; font-family: 'Times New Roman', serif;\"\n               class=\"col-md-offset-1 col-xs-offset-1\"></div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-offset-2 col-md-offset-5 xAxisLabel\">\n               ${plotParams.xAxisLabel}\n          </div>\n        </div>\n      </div>\n    `);\n\n    $plotList.append($plot);\n    drawPlot(plotId, plotParams);\n  }\n\n  if (validResultNumber === 0) {\n    invokeError();\n  }\n\n  MathJax.Hub.Queue(['Typeset', MathJax.Hub]);\n  return false;\n}\n\nfunction generateRBMCalculationResult(n, m, t, $resultList) { // separated function to reduce complexity\n\n  let isAirSuspended = (t === 0);\n  let editRBM = (e) => $('#edRBM').val(e);\n  if (isAirSuspended) {\n    let rbmAS = dt2RBM(Dt(n, m, t), isMetal(n, m) ? 2 : 0, t).toFixed(1).toString();\n    $resultList.append(\n      $(`\n        <tr>\n            <td>\\\\(\\\\omega_\\\\mathrm{RBM}\\\\ ${isMetal(n, m) ? \"(p=3)\" : \"(p=1,2)\"} \\\\)</td>\n            <td>\\\\( ${rbmAS} \\\\ \\\\mathrm{cm^{-1}}\\\\)</td>\n        </tr>\n      `)\n        .click(() => editRBM(rbmAS))\n        .css('cursor', 'pointer')\n    );\n  }\n\n  let rbmGeneral = dt2RBM(Dt(n, m, t), isAirSuspended ? 3 : 0, t).toFixed(1).toString();\n  $resultList.append(\n    $(`\n      <tr>\n          <td>\\\\(\\\\omega_\\\\mathrm{RBM}\\\\ ${isAirSuspended ? \"(p>3)\" : \"\"} \\\\)</td>\n          <td>\\\\( ${rbmGeneral} \\\\ \\\\mathrm{cm^{-1}}\\\\)</td>\n      </tr>\n    `)\n      .click(() => editRBM(rbmGeneral))\n      .css('cursor', 'pointer')\n  );\n}\n"]}