{"version":3,"sources":["Energy.js","app.min.js","Assign.js","Plot.js","main.js"],"names":["_classCallCheck","instance","Constructor","TypeError","getRBMParameters","p","type","Param","a","b","this","Error","wRBM2Dt","wRBM","ab","dt2RBM","dt","getEnergyFromCos3Theta","cos3Theta","mod","r","isMetal","derivative","type0Params","c","sgE","extMod","Math","log10","type3Params","getCos3Theta","val","calc","parseFloat","toFixed","getAverage","splitting","pLesser","cos3ThetaMax","pLarger","err","message","delta","x","getList","li","nMin","nMax","n","m","seriesThreshold","dl","getEnergy","Dt","Theta","dh","push","Mod","getRBMArray","d","rbmLabel","rbm","wRBMMin","wRBMMax","rbmFreq","t","plus","minus","getPlotParams","inputParams","decimalDigits","split","length","isUnparsable","val1","val2","uncertainty","pow","E1R1","min","E2","p1","p2","p1ToP","cos","resultString","error","Assign","bluePoint","point","pToLesser","pointType","p1Lesser","p1ToLesser","pAnother","modAnother","p1Name","valAnother","_ref","_ref2","y","p_1","p_2","_ref3","_ref4","_ref5","average","params","setBounds","dxMin_","dxMax_","dyMin_","dyMax_","dxMin","dxMax","dyMin","dyMax","processOutput","result","query","orderBy","Dist_","toArray","i","round","arguments","undefined","Dist","x1","y1","x2","y2","sqrt","e","deltaX","maxY","minY","all","Enumerable","from","where","uc","ar","AssignResult","count","accurate","union","possible","tmp","impossible","yMax","xMin","xMax","s","rbmPos","between","xy","r1","r2","u","q","groupBy","key","group","value","select","map","ee","allLabel","resultLabel","yAxisLabel","p1Name_raw","xAxisLabel","drawPlot","placeholder","defaultRadius","yMin","font","size","lineHeight","family","options","xaxis","show","position","max","tickLength","tickColor","color","yaxis","series","hoverable","grid","borderColor","top","bottom","left","right","minBorderMargin","data","shadowSize","laser","laser_color","concat","id","toString","fillBetween","lines","fill","lineWidth","mod_i","points","radius","symbol","point_labels","fillColor","$placeholder","$","plot","previousPoint","bind","event","pos","item","dataIndex","remove","showTooltip","pageX","pageY","floor","o","pointOffset","axes","getAxes","append","mid","pMid","divMid","div","dA","c1","c2","c3","o1","contents","css","display","appendTo","fadeIn","clearTitle","find","removeAttr","validate","form","$hint","invokeError","msg","addClass","html","val1_","Val1","val2_","Val2","rbm_","parseInt","RBM","emptyNum","Number","isNaN","selectpicker","history","replaceState","join","changeEdit","p1_lesser","calculate","$calcHint","$calcResult","NCalc","MCalc","urlParams","$resultList","$plotList","generateRBMCalculationResult","calculatedEnergy","Array","validResultNumber","_loop","click","plotParams","plotId","$plot","MathJax","Hub","Queue","isAirSuspended","editRBM","rbmAS","rbmGeneral","typeName","PI","atan","isMetalP","isMetalNM","theta","timeLoad","performance","now","timeStartup","getScript","navigator","language","substr","toLowerCase","console","log","window","onpopstate","match","pl","search","decode","decodeURIComponent","replace","location","substring","exec","test","userAgent","$body","hasClass","$selectType","on","href","$selectP1","$selectP2","$selectP1P2","innerHTML","$dataTables","removeClass","threshold","every","valueBetween","index","each"],"mappings":"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","file":"app.min.js","sourcesContent":["\n'use strict';\n\n/**\n * @const max processable (2n + m) limit\n * @type int\n */\nconst seriesThreshold = 90;\n\nconst AssignResult = {\n  accurate : 0,\n  possible : 1,\n  impossible : 2,\n  error : 3\n};\n\n/**\n * @const names of environments\n * @type {string[]}\n */\nconst typeName = [\n  'Air-suspended SWNTs', 'SWNTs on \\\\(\\\\mathrm{SiO_2}/\\\\mathrm{Si}\\\\) substrates', 'SWNT arrays on quartz substrates',\n  '\"Super-growth\" SWNTs', 'SDS-dispersed SWNTs', 'ssDNA-dispersed SWNTs'\n];\n\n\n/**\n * @const parameters of air-suspended-like environments: (a, b, c)\n * @type {number[][]}\n */\nconst type0Params = [\n  [ 1.194, 0.179, 0.053 ],\n  [ 2.110, 0.388, 0.154 ],\n  [ 3.170, 0.764, 0.286 ], //M11\n  [ 4.286, 1.230, 0.412 ],\n  [ 5.380, 1.922, 0.644 ],\n  [ 6.508, 2.768, 0.928 ], //M22\n  [ 7.624, 3.768, 1.024 ], //S55\n  [ 8.734, 4.921, 1.479 ], //S66\n  [ 9.857, 6.228, 1.692 ]  //M33\n];\n\n/**\n * @const parameters of super-growth environments: (beta_mod1, beta_mod2) or (beta_-, beta_+)\n * @type {number[][]}\n */\nconst type3Params =[\n  [ 0.09, -0.07 ],\n  [ -0.18, 0.14 ],\n  [ -0.19, 0.29 ],\n  [ 0.49, -0.33 ],\n  [ -0.43, 0.59 ],\n  [ -0.6, 0.57 ]\n];\n\nconst p1Name = [\n  '\\\\(S_{11}\\\\)', '\\\\(S_{22}\\\\)', '\\\\(M_{11}^-\\\\)', '\\\\(M_{11}^+\\\\)', '\\\\(S_{33}\\\\)', '\\\\(S_{44}\\\\)',\n  '\\\\(M_{22}^-\\\\)', '\\\\(M_{22}^+\\\\)', '\\\\(S_{55}\\\\)', '\\\\(S_{66}\\\\)', '\\\\(M_{33}^-\\\\)', '\\\\(M_{33}^+\\\\)'\n];\n\n/**\n * @const name of p1 without delimiters\n * @type {string[]}\n */\nconst p1Name_raw = [\n  'S_{11}', 'S_{22}', 'M_{11}^-', 'M_{11}^+', 'S_{33}', 'S_{44}', 'M_{22}^-', 'M_{22}^+', 'S_{55}', 'S_{66}',\n  'M_{33}^-', 'M_{33}^+'\n];\n\n/**\n * converts p1 (p with + or - for metallic tubes) to correlated p.\n * @param {int} p1 - input p1\n * @returns {int} p\n */\nconst p1ToP = (p1) => [ 0, 1, 2, 2, 3, 4, 5, 5, 6, 7, 8, 8 ][p1];\n\n/**\n * converts p to its lesser value in a pair (S11 and S22 will be converted to S11, etc.).\n * @param {int} p - input p\n * @returns {int} lesser p\n */\nconst pToLesser = (p) => [ 0, 0, 2, 3, 3, 5, 6, 6, 9 ][p];\n\n/**\n * converts p1 to its lesser value in a pair (M11+ and M11- will be converted to M11-, etc.).\n * @param {int} p1 - input p1\n * @returns {int} lesser p1\n */\nconst p1ToLesser = (p1) => p1 % 2 === 0 ? p1 : p1 - 1;\n\n\nconst Dt = (n, m, type) => ((type !== 4) ? 0.142 : 0.144) * Math.sqrt(3 * (n * n + n * m + m * m)) / Math.PI;\nconst Theta = (n, m) => Math.atan(Math.sqrt(3) * m / (2 * n + m));\nconst Mod = (n, m) => (2 * n + m) % 3;\n\n/**\n * get if a p value or a pair of (n, m) value is associated to a metallic tube.\n * @returns {boolean} if it is metallic\n */\nconst isMetal = function () {\n  const isMetalP = (p) => (p + 1) % 3 === 0;\n  const isMetalNM = (n, m) => Mod(n, m) === 0;\n  return arguments.length === 2 ?\n    isMetalNM(arguments[0], arguments[1]) :\n    isMetalP(arguments[0]);\n};\n\n/**\n * get RBM parameters (A, B) in the formula wRBM = A / dt + B of specific p and type of environment.\n * @param {int} p - specific p\n * @param {int} type - specific type of environment\n * @returns {Object} object of {a: number, b: number}\n */\nfunction getRBMParameters(p, type) {\n  class Param {\n    constructor(a, b) { this.a = a; this.b = b; }\n  }\n  switch (type) {\n    case 0: switch (p) {\n      case 0: case 1: return new Param(204, 27);\n      case 2: return new Param(200, 26);\n      default: return new Param(228, 0);\n    }\n    case 1: return new Param(235.9, 5.5);\n    case 2: return new Param(217.8, 15.7);\n    case 3: return new Param(227.0, 0.3);\n    case 4: return new Param(223.5, 12.5);\n    case 5: return new Param(218, 18.3);\n    default: throw new Error('invalid type');\n  }\n}\n\nfunction wRBM2Dt(wRBM, p, type) {\n  let ab = getRBMParameters(p, type);\n  return ab.a / (wRBM - ab.b);\n}\n\nfunction dt2RBM(dt, p, type) {\n  let ab = getRBMParameters(p, type);\n  return ab.a / dt + ab.b;\n}\n\nconst getEnergy = (dt, theta, p, type, mod) => getEnergyFromCos3Theta(dt, Math.cos(3 * theta), p, type, mod);\n\n/**\n * inverse of getCos3Theta, calculates transition energy from tube diameter and Math.cos(3 * chiral_angle)\n * @param {number} dt - tube diameter\n * @param {number} cos3Theta - Math.cos(3 * chiral_angle)\n * @param {int} p - p of transition type\n * @param {int} type - code of environment\n * @param {int} mod - mod of the tube, -1/0 for metallic -/+, 1/2 for semiconducting MOD1/MOD2\n * @returns {number} transition energy\n */\nfunction getEnergyFromCos3Theta(dt, cos3Theta, p, type, mod) {\n  let r; // return value\n  if (isMetal(p) && mod > 0)\n    throw new Error('mod should be in accordance with p');\n  if (type <= 2) {\n\n    if (p >= 9)\n      throw new Error('higher than S66 not available');\n    let derivative = -type0Params[p][0] / (dt * dt) + 2 * type0Params[p][1] / (dt * dt * dt);\n    if (derivative > 0) // 1st derivative\n      throw new Error('dt');\n    if (isMetal(p))\n      r = type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) +\n        type0Params[p][2] / (dt * dt) * cos3Theta * (mod * 2 + 1);\n    // mod * 2 + 1 <==> mod === 0 ? 1 : -1\n    else\n      r = type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) +\n        type0Params[p][2] / (dt * dt) * cos3Theta * (((p % 3) === (mod % 2)) ? -1 : 1);\n    r -= (type === 1) ? 0.04 : ((type === 2) ? 0.1 : 0);\n\n  } else if (type === 3) {\n\n    if (p >= 6)\n      throw new Error('higher than M22 not available for Super-Growth');\n    let a = 1.074, b = 0.467, c = 0.812;\n    let sgE = (extMod) => a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt)))\n      + type3Params[p][extMod] / (dt * dt) * cos3Theta\n      + ((p > 2) ? 0.059 * (p + 1) / dt : 0); // extra for larger than M11; warning: p + 1\n    if (isMetal(p))\n      r = sgE(mod + 1); // 0(Mii+) -> 1, -1(Mii-) -> 0\n    else\n      r = sgE(mod - 1); // 1(MOD1) -> 0, 2(MOD2) -> 1\n\n  } else if (type === 4 || type === 5) {\n\n    if (p === 0)\n      r = 1 / (0.1270 + 0.8606 * dt) + ((mod === 1) ? 0.04575 : -0.08802) / (dt * dt) * cos3Theta;\n    else if (p === 1)\n      r = 1 / (0.1174 + 0.4644 * dt) + ((mod === 1) ? -0.1829 : 0.1705) / (dt * dt) * cos3Theta;\n    else\n      throw new Error('only S11 and S22 are available for SDS-dispersed or ssDNA dispersed');\n    r -= (type === 5) ? 0.02 : 0;\n\n  } else throw new Error('invalid type');\n\n  return r;\n}\n\n/**\n * inverse of getEnergyFromCos3Theta(), get Math.cos(3 * chiral_angle) from transition energy and tube diameter.\n * @param {number} dt - tube diameter\n * @param {number} val - transition energy\n * @param {int} p - p of transition type\n * @param {int} type - code of environment\n * @returns {number[]} cos3Theta as [val_MOD1, val_MOD2] or [val_-, val_+]\n */\nfunction getCos3Theta(val, dt, p, type) {\n\n  let r = [-1, -1];\n\n  if (type <= 2) {\n\n    if (p >= 9)\n      throw new Error('higher than S66 not available');\n    val += (type === 1) ? 0.04 : ((type === 2) ? 0.1 : 0);\n    if (isMetal(p)) {\n      r[0] = (type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) - val) / type0Params[p][2] * (dt * dt);\n      r[1] = (-(type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) - val)) / type0Params[p][2] * (dt * dt);\n    } else {\n      r[0] = (-(type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) - val))\n        / type0Params[p][2] * (dt * dt) * (((p % 3) === (1 % 2)) ? -1 : 1);\n      r[1] = (-(type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) - val))\n        / type0Params[p][2] * (dt * dt) * (((p % 3) === (2 % 2)) ? -1 : 1);\n    }\n\n  } else if (type === 3) {\n\n    if (p >= 6)\n      throw new Error('higher than M22 not available for Super-Growth');\n    let a = 1.074, b = 0.467, c = 0.812;\n    let calc = (extMod) => (val - a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt))) -\n      ((p > 2) ? 0.059 * (p + 1) / dt : 0)) / type3Params[p][extMod] * (dt * dt);\n    r[0] = calc(0); //Mii- or MOD1\n    r[1] = calc(1);\n\n  } else if (type === 4 || type === 5) {\n\n    val += (type === 5) ? 0.02 : 0;\n    if (p === 0) {\n      r[0] = (val - 1 / (0.1270 + 0.8606 * dt)) / 0.04575 * (dt * dt); // MOD1\n      r[1] = (val - 1 / (0.1270 + 0.8606 * dt)) / (-0.08802) * (dt * dt);\n    } else if (p === 1) {\n      r[0] = (val - 1 / (0.1174 + 0.4644 * dt)) / (-0.1829) * (dt * dt); // MOD1\n      r[1] = (val - 1 / (0.1174 + 0.4644 * dt)) / 0.1705 * (dt * dt);\n    } else throw new Error('only S11 and S22 are available for SDS-disp. or ssDNA disp.');\n\n  } else throw new Error('invalid type');\n\n  r[0] = parseFloat(r[0].toFixed(4)); // 4 digits\n  r[1] = parseFloat(r[1].toFixed(4));\n  if (r[0] > 1 || r[0] < 0)\n    r[0] = -1;\n  if (r[1] > 1 || r[1] < 0)\n    r[1] = -1;\n  return r;\n\n}\n\n/**\n * get sum of paired transition energies from their splitting and RBM frequency.\n * @param {number} splitting - (S22 - S11) or (M11+ - M11-), or something similar\n * @param {number} wRBM - RBM frequency\n * @param {int} pLesser - the smaller one of the p value of the 2 transition energies\n * @param {int} type - environment\n * @returns {(number|null)} average or null if invalid\n */\nfunction getAverage(splitting, wRBM, pLesser, type) {\n\n  let cos3ThetaMax = 1.5;\n\n  let dt = wRBM2Dt(wRBM, pLesser, type);\n\n  if (isMetal(pLesser + 1)) throw new Error('p should be the smaller one');\n  if (type <= 2) {\n    if (pLesser >= 9)\n      throw new Error('higher than S66 not available');\n\n    if (isMetal(pLesser)) {\n\n      let cos3Theta = dt * dt * splitting / 2 * type0Params[pLesser][2];\n      if (cos3Theta < 0 || cos3Theta > cos3ThetaMax) return null;\n      try {\n        return (\n          getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, -1) +\n          getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, 0)\n        ) / 2;\n      } catch (err) {\n        if (err.message === 'dt')\n          return null;\n        else throw err;\n      }\n    } else {\n      let pLarger = pLesser + 1;\n      let delta = (x) => type0Params[pLarger][x] - type0Params[pLesser][x];\n      let mod = 1;\n      let cos3Theta = (splitting * dt * dt - delta(0) * dt + delta(1)) / (\n        type0Params[pLarger][2] * (((pLarger % 3) === (mod % 2)) ? -1 : 1) -\n        type0Params[pLesser][2] * (((pLesser % 3) === (mod % 2)) ? -1 : 1)\n      );\n      if (cos3Theta < 0) {\n        mod = 2;\n        cos3Theta = -cos3Theta;\n      }\n      if (cos3Theta > cos3ThetaMax) return null;\n      try {\n        return (\n          getEnergyFromCos3Theta(dt, cos3Theta, pLarger, type, mod) +\n          getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, mod)\n        ) / 2;\n      } catch (err) {\n        if (err.message === 'dt')\n          return null;\n        else throw err;\n      }\n    }\n  } else if (type === 3) {\n    let a = 1.074, b = 0.467, c = 0.812;\n    let sgE = (p) => a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt))) +\n      ((p > 2) ? 0.059 * (p + 1) / dt : 0);\n\n    if (isMetal(pLesser)) {\n\n      let cos3Theta = (splitting) * dt * dt / (type3Params[pLesser][1] - type3Params[pLesser][0]);\n      if (cos3Theta < 0 || cos3Theta > cos3ThetaMax)\n        return null;\n      return (\n        getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, -1) +\n        getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, 0)\n      ) / 2;\n\n    } else {\n\n      let pLarger = pLesser + 1;\n      let mod = 1;\n      if (pLesser >= 6)\n        throw new Error('higher than M22 not available for Super-Growth');\n      let cos3Theta = (splitting + sgE(pLesser) - sgE(pLarger)) * dt * dt / (\n        type3Params[pLarger][mod - 1] - type3Params[pLesser][mod - 1]\n      );\n      if (cos3Theta < 0 || cos3Theta > cos3ThetaMax) {\n        mod = 2;\n        cos3Theta = (splitting + sgE(pLesser) - sgE(pLarger)) * dt * dt / (\n          type3Params[pLarger][mod - 1] - type3Params[pLesser][mod - 1]);\n      }\n      if (cos3Theta < 0 || cos3Theta > cos3ThetaMax)\n        return null;\n      return (\n        getEnergyFromCos3Theta(dt, cos3Theta, pLarger, type, mod) +\n        getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, mod)\n      ) / 2;\n    }\n\n  } else if (type === 4 || type === 5) {\n\n    if (pLesser !== 0)\n      throw new Error('only S11 and S22 are available for SDS-disp. or ssDNA disp.');\n    let mod = 1;\n    let cos3Theta = (splitting - (1 / (0.1174 + 0.4644 * dt) - 1 / (0.1270 + 0.8606 * dt)))\n      * dt * dt / (-0.1829 - 0.04575);\n\n    if (cos3Theta > cos3ThetaMax || cos3Theta < 0) {\n      mod = 2;\n      cos3Theta = (splitting - (1 / (0.1174 + 0.4644 * dt) - 1 / (0.1270 + 0.8606 * dt)))\n        * dt * dt / (0.1705 - -0.08802);\n    }\n    if (cos3Theta > cos3ThetaMax || cos3Theta < 0)\n      return null;\n\n    return (\n      getEnergyFromCos3Theta(dt, cos3Theta, 1, type, mod) +\n      getEnergyFromCos3Theta(dt, cos3Theta, 0, type, mod)\n    ) / 2;\n  }\n  else throw new Error('invalid type');\n}\n\n/**\n * get a list of standard dots in a plot of a certain p (the smaller in a pair) and type\n * @param {int} pLesser - the smaller p in a pair\n * @param {int} type - type of the environment\n * @returns {number[][]} array of [n, m, x, y] where (n, m) is the chiral index and (x, y) is the coordinates\n */\nfunction getList(pLesser, type) {\n\n  let li = [];\n  const nMin = 5, nMax = 50;\n\n  if (!isMetal(pLesser)) {\n    if (isMetal(pLesser + 1)) throw new Error('p should be the smaller one, e.g. S11 rather than S22');\n    for (let n = nMin; n < nMax; n++)\n      for (let m = 0; m <= n; m++) {\n\n        if (2 * n + m > seriesThreshold) break;\n        try {\n          if (!isMetal(n, m)) {\n            let dl = getEnergy(Dt(n, m, type), Theta(n, m), pLesser, type, Mod(n, m));\n            let dh = getEnergy(Dt(n, m, type), Theta(n, m), pLesser + 1, type, Mod(n, m));\n            li.push([ n, m, (dh + dl) / 2, (dh - dl) ]);\n          }\n        } catch (err) {\n          if (err.message !== 'dt') throw err;\n        }\n      }\n  } else {\n    for (let n = nMin; n < nMax; n++)\n      for (let m = 0; m <= n; m++) {\n\n        if (2 * n + m > seriesThreshold) break;\n        try {\n          if (isMetal(n, m)) {\n            let dl = getEnergy(Dt(n, m, type), Theta(n, m), pLesser, type, -1);\n            let dh = getEnergy(Dt(n, m, type), Theta(n, m), pLesser, type, 0);\n            li.push([ n, m, (dh + dl) / 2, (dh - dl) ]);\n          }\n        } catch (err) {\n          if (err.message !== 'dt') throw err;\n        }\n      }\n  }\n  return li;\n}\n\n/**\n * get an parameter array used to plot RBM contour lines\n * @param {int} pLesser - the smaller p in a pair\n * @param {int} type - type of the environment\n * @return {{rbmLabel: number[], rbm: number[][][]}} rbm: RBM points array, rbmLabel: associated RBM value array\n */\nfunction getRBMArray(pLesser, type) {\n\n  let d = { rbmLabel: [], rbm: [] }; // return\n\n  const cos3ThetaMax = 60;\n  const wRBMMin = 70, wRBMMax = 350;\n  if (!isMetal(pLesser) && isMetal(pLesser + 1))\n    throw new Error('p should be the smaller one, e.g. S11 rather than S22');\n\n  for (let rbmFreq = wRBMMin; rbmFreq <= wRBMMax; rbmFreq += 10) {\n\n    let dt = wRBM2Dt(rbmFreq, pLesser, type);\n    let t = [];\n    try {\n      if (isMetal(pLesser)) {\n        let plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 0);\n        let minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, -1);\n        t.push([ (plus + minus) / 2, plus - minus ]);\n        plus = getEnergyFromCos3Theta(dt, -cos3ThetaMax, pLesser, type, 0);\n        minus = getEnergyFromCos3Theta(dt, -cos3ThetaMax, pLesser, type, -1);\n        t.push([ (plus + minus) / 2, plus - minus ]);\n        d.rbmLabel.push(rbmFreq);\n        d.rbm.push(t);\n      } else {\n        let plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser + 1, type, 1); //should it be higher?\n        let minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 1);\n        t.push([ (plus + minus) / 2, plus - minus ]);\n        plus = getEnergyFromCos3Theta(dt, 0, pLesser + 1, type, 2);\n        minus = getEnergyFromCos3Theta(dt, 0, pLesser, type, 2);\n        t.push([ (plus + minus) / 2, plus - minus ]);\n        plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser + 1, type, 2);\n        minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 2);\n        t.push([ (plus + minus) / 2, plus - minus ]);\n        d.rbmLabel.push(rbmFreq);\n        d.rbm.push(t);\n      }\n    }\n    catch (err)\n    {\n      if (err.message === 'dt') break;\n      else throw err;\n    }\n  }\n\n  return d;\n}\n","\n'use strict';\n\n/**\n               * @const max processable (2n + m) limit\n               * @type int\n               */function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError(\"Cannot call a class as a function\");}}\nvar seriesThreshold = 90;\n\nvar AssignResult = {\n  accurate: 0,\n  possible: 1,\n  impossible: 2,\n  error: 3 };\n\n\n/**\n               * @const names of environments\n               * @type {string[]}\n               */\nvar typeName = [\n'Air-suspended SWNTs', 'SWNTs on \\\\(\\\\mathrm{SiO_2}/\\\\mathrm{Si}\\\\) substrates', 'SWNT arrays on quartz substrates',\n'\"Super-growth\" SWNTs', 'SDS-dispersed SWNTs', 'ssDNA-dispersed SWNTs'];\n\n\n\n/**\n                                                                          * @const parameters of air-suspended-like environments: (a, b, c)\n                                                                          * @type {number[][]}\n                                                                          */\nvar type0Params = [\n[1.194, 0.179, 0.053],\n[2.110, 0.388, 0.154],\n[3.170, 0.764, 0.286], //M11\n[4.286, 1.230, 0.412],\n[5.380, 1.922, 0.644],\n[6.508, 2.768, 0.928], //M22\n[7.624, 3.768, 1.024], //S55\n[8.734, 4.921, 1.479], //S66\n[9.857, 6.228, 1.692] //M33\n];\n\n/**\n    * @const parameters of super-growth environments: (beta_mod1, beta_mod2) or (beta_-, beta_+)\n    * @type {number[][]}\n    */\nvar type3Params = [\n[0.09, -0.07],\n[-0.18, 0.14],\n[-0.19, 0.29],\n[0.49, -0.33],\n[-0.43, 0.59],\n[-0.6, 0.57]];\n\n\nvar p1Name = [\n'\\\\(S_{11}\\\\)', '\\\\(S_{22}\\\\)', '\\\\(M_{11}^-\\\\)', '\\\\(M_{11}^+\\\\)', '\\\\(S_{33}\\\\)', '\\\\(S_{44}\\\\)',\n'\\\\(M_{22}^-\\\\)', '\\\\(M_{22}^+\\\\)', '\\\\(S_{55}\\\\)', '\\\\(S_{66}\\\\)', '\\\\(M_{33}^-\\\\)', '\\\\(M_{33}^+\\\\)'];\n\n\n/**\n                                                                                                          * @const name of p1 without delimiters\n                                                                                                          * @type {string[]}\n                                                                                                          */\nvar p1Name_raw = [\n'S_{11}', 'S_{22}', 'M_{11}^-', 'M_{11}^+', 'S_{33}', 'S_{44}', 'M_{22}^-', 'M_{22}^+', 'S_{55}', 'S_{66}',\n'M_{33}^-', 'M_{33}^+'];\n\n\n/**\n                          * converts p1 (p with + or - for metallic tubes) to correlated p.\n                          * @param {int} p1 - input p1\n                          * @returns {int} p\n                          */\nvar p1ToP = function p1ToP(p1) {return [0, 1, 2, 2, 3, 4, 5, 5, 6, 7, 8, 8][p1];};\n\n/**\n                                                                                    * converts p to its lesser value in a pair (S11 and S22 will be converted to S11, etc.).\n                                                                                    * @param {int} p - input p\n                                                                                    * @returns {int} lesser p\n                                                                                    */\nvar pToLesser = function pToLesser(p) {return [0, 0, 2, 3, 3, 5, 6, 6, 9][p];};\n\n/**\n                                                                                 * converts p1 to its lesser value in a pair (M11+ and M11- will be converted to M11-, etc.).\n                                                                                 * @param {int} p1 - input p1\n                                                                                 * @returns {int} lesser p1\n                                                                                 */\nvar p1ToLesser = function p1ToLesser(p1) {return p1 % 2 === 0 ? p1 : p1 - 1;};\n\n\nvar Dt = function Dt(n, m, type) {return (type !== 4 ? 0.142 : 0.144) * Math.sqrt(3 * (n * n + n * m + m * m)) / Math.PI;};\nvar Theta = function Theta(n, m) {return Math.atan(Math.sqrt(3) * m / (2 * n + m));};\nvar Mod = function Mod(n, m) {return (2 * n + m) % 3;};\n\n/**\n                                                         * get if a p value or a pair of (n, m) value is associated to a metallic tube.\n                                                         * @returns {boolean} if it is metallic\n                                                         */\nvar isMetal = function isMetal() {\n  var isMetalP = function isMetalP(p) {return (p + 1) % 3 === 0;};\n  var isMetalNM = function isMetalNM(n, m) {return Mod(n, m) === 0;};\n  return arguments.length === 2 ?\n  isMetalNM(arguments[0], arguments[1]) :\n  isMetalP(arguments[0]);\n};\n\n/**\n    * get RBM parameters (A, B) in the formula wRBM = A / dt + B of specific p and type of environment.\n    * @param {int} p - specific p\n    * @param {int} type - specific type of environment\n    * @returns {Object} object of {a: number, b: number}\n    */\nfunction getRBMParameters(p, type) {var\n  Param =\n  function Param(a, b) {_classCallCheck(this, Param);this.a = a;this.b = b;};\n\n  switch (type) {\n    case 0:switch (p) {\n        case 0:case 1:return new Param(204, 27);\n        case 2:return new Param(200, 26);\n        default:return new Param(228, 0);}\n\n    case 1:return new Param(235.9, 5.5);\n    case 2:return new Param(217.8, 15.7);\n    case 3:return new Param(227.0, 0.3);\n    case 4:return new Param(223.5, 12.5);\n    case 5:return new Param(218, 18.3);\n    default:throw new Error('invalid type');}\n\n}\n\nfunction wRBM2Dt(wRBM, p, type) {\n  var ab = getRBMParameters(p, type);\n  return ab.a / (wRBM - ab.b);\n}\n\nfunction dt2RBM(dt, p, type) {\n  var ab = getRBMParameters(p, type);\n  return ab.a / dt + ab.b;\n}\n\nvar getEnergy = function getEnergy(dt, theta, p, type, mod) {return getEnergyFromCos3Theta(dt, Math.cos(3 * theta), p, type, mod);};\n\n/**\n                                                                                                                                      * inverse of getCos3Theta, calculates transition energy from tube diameter and Math.cos(3 * chiral_angle)\n                                                                                                                                      * @param {number} dt - tube diameter\n                                                                                                                                      * @param {number} cos3Theta - Math.cos(3 * chiral_angle)\n                                                                                                                                      * @param {int} p - p of transition type\n                                                                                                                                      * @param {int} type - code of environment\n                                                                                                                                      * @param {int} mod - mod of the tube, -1/0 for metallic -/+, 1/2 for semiconducting MOD1/MOD2\n                                                                                                                                      * @returns {number} transition energy\n                                                                                                                                      */\nfunction getEnergyFromCos3Theta(dt, cos3Theta, p, type, mod) {\n  var r = void 0; // return value\n  if (isMetal(p) && mod > 0)\n  throw new Error('mod should be in accordance with p');\n  if (type <= 2) {\n\n    if (p >= 9)\n    throw new Error('higher than S66 not available');\n    var derivative = -type0Params[p][0] / (dt * dt) + 2 * type0Params[p][1] / (dt * dt * dt);\n    if (derivative > 0) // 1st derivative\n      throw new Error('dt');\n    if (isMetal(p))\n    r = type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) +\n    type0Params[p][2] / (dt * dt) * cos3Theta * (mod * 2 + 1);\n    // mod * 2 + 1 <==> mod === 0 ? 1 : -1\n    else\n      r = type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) +\n      type0Params[p][2] / (dt * dt) * cos3Theta * (p % 3 === mod % 2 ? -1 : 1);\n    r -= type === 1 ? 0.04 : type === 2 ? 0.1 : 0;\n\n  } else if (type === 3) {\n\n    if (p >= 6)\n    throw new Error('higher than M22 not available for Super-Growth');\n    var a = 1.074,b = 0.467,c = 0.812;\n    var sgE = function sgE(extMod) {return a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt))) +\n      type3Params[p][extMod] / (dt * dt) * cos3Theta + (\n      p > 2 ? 0.059 * (p + 1) / dt : 0);}; // extra for larger than M11; warning: p + 1\n    if (isMetal(p))\n    r = sgE(mod + 1); // 0(Mii+) -> 1, -1(Mii-) -> 0\n    else\n      r = sgE(mod - 1); // 1(MOD1) -> 0, 2(MOD2) -> 1\n\n  } else if (type === 4 || type === 5) {\n\n    if (p === 0)\n    r = 1 / (0.1270 + 0.8606 * dt) + (mod === 1 ? 0.04575 : -0.08802) / (dt * dt) * cos3Theta;else\n    if (p === 1)\n    r = 1 / (0.1174 + 0.4644 * dt) + (mod === 1 ? -0.1829 : 0.1705) / (dt * dt) * cos3Theta;else\n\n    throw new Error('only S11 and S22 are available for SDS-dispersed or ssDNA dispersed');\n    r -= type === 5 ? 0.02 : 0;\n\n  } else throw new Error('invalid type');\n\n  return r;\n}\n\n/**\n   * inverse of getEnergyFromCos3Theta(), get Math.cos(3 * chiral_angle) from transition energy and tube diameter.\n   * @param {number} dt - tube diameter\n   * @param {number} val - transition energy\n   * @param {int} p - p of transition type\n   * @param {int} type - code of environment\n   * @returns {number[]} cos3Theta as [val_MOD1, val_MOD2] or [val_-, val_+]\n   */\nfunction getCos3Theta(val, dt, p, type) {\n\n  var r = [-1, -1];\n\n  if (type <= 2) {\n\n    if (p >= 9)\n    throw new Error('higher than S66 not available');\n    val += type === 1 ? 0.04 : type === 2 ? 0.1 : 0;\n    if (isMetal(p)) {\n      r[0] = (type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) - val) / type0Params[p][2] * (dt * dt);\n      r[1] = -(type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) - val) / type0Params[p][2] * (dt * dt);\n    } else {\n      r[0] = -(type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) - val) /\n      type0Params[p][2] * (dt * dt) * (p % 3 === 1 % 2 ? -1 : 1);\n      r[1] = -(type0Params[p][0] / dt - type0Params[p][1] / (dt * dt) - val) /\n      type0Params[p][2] * (dt * dt) * (p % 3 === 2 % 2 ? -1 : 1);\n    }\n\n  } else if (type === 3) {\n\n    if (p >= 6)\n    throw new Error('higher than M22 not available for Super-Growth');\n    var a = 1.074,b = 0.467,c = 0.812;\n    var calc = function calc(extMod) {return (val - a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt))) - (\n      p > 2 ? 0.059 * (p + 1) / dt : 0)) / type3Params[p][extMod] * (dt * dt);};\n    r[0] = calc(0); //Mii- or MOD1\n    r[1] = calc(1);\n\n  } else if (type === 4 || type === 5) {\n\n    val += type === 5 ? 0.02 : 0;\n    if (p === 0) {\n      r[0] = (val - 1 / (0.1270 + 0.8606 * dt)) / 0.04575 * (dt * dt); // MOD1\n      r[1] = (val - 1 / (0.1270 + 0.8606 * dt)) / -0.08802 * (dt * dt);\n    } else if (p === 1) {\n      r[0] = (val - 1 / (0.1174 + 0.4644 * dt)) / -0.1829 * (dt * dt); // MOD1\n      r[1] = (val - 1 / (0.1174 + 0.4644 * dt)) / 0.1705 * (dt * dt);\n    } else throw new Error('only S11 and S22 are available for SDS-disp. or ssDNA disp.');\n\n  } else throw new Error('invalid type');\n\n  r[0] = parseFloat(r[0].toFixed(4)); // 4 digits\n  r[1] = parseFloat(r[1].toFixed(4));\n  if (r[0] > 1 || r[0] < 0)\n  r[0] = -1;\n  if (r[1] > 1 || r[1] < 0)\n  r[1] = -1;\n  return r;\n\n}\n\n/**\n   * get sum of paired transition energies from their splitting and RBM frequency.\n   * @param {number} splitting - (S22 - S11) or (M11+ - M11-), or something similar\n   * @param {number} wRBM - RBM frequency\n   * @param {int} pLesser - the smaller one of the p value of the 2 transition energies\n   * @param {int} type - environment\n   * @returns {(number|null)} average or null if invalid\n   */\nfunction getAverage(splitting, wRBM, pLesser, type) {\n\n  var cos3ThetaMax = 1.5;\n\n  var dt = wRBM2Dt(wRBM, pLesser, type);\n\n  if (isMetal(pLesser + 1)) throw new Error('p should be the smaller one');\n  if (type <= 2) {\n    if (pLesser >= 9)\n    throw new Error('higher than S66 not available');\n\n    if (isMetal(pLesser)) {\n\n      var cos3Theta = dt * dt * splitting / 2 * type0Params[pLesser][2];\n      if (cos3Theta < 0 || cos3Theta > cos3ThetaMax) return null;\n      try {\n        return (\n        getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, -1) +\n        getEnergyFromCos3Theta(dt, cos3Theta, pLesser, type, 0)) /\n        2;\n      } catch (err) {\n        if (err.message === 'dt')\n        return null;else\n        throw err;\n      }\n    } else {\n      var pLarger = pLesser + 1;\n      var delta = function delta(x) {return type0Params[pLarger][x] - type0Params[pLesser][x];};\n      var mod = 1;\n      var _cos3Theta = (splitting * dt * dt - delta(0) * dt + delta(1)) / (\n      type0Params[pLarger][2] * (pLarger % 3 === mod % 2 ? -1 : 1) -\n      type0Params[pLesser][2] * (pLesser % 3 === mod % 2 ? -1 : 1));\n\n      if (_cos3Theta < 0) {\n        mod = 2;\n        _cos3Theta = -_cos3Theta;\n      }\n      if (_cos3Theta > cos3ThetaMax) return null;\n      try {\n        return (\n        getEnergyFromCos3Theta(dt, _cos3Theta, pLarger, type, mod) +\n        getEnergyFromCos3Theta(dt, _cos3Theta, pLesser, type, mod)) /\n        2;\n      } catch (err) {\n        if (err.message === 'dt')\n        return null;else\n        throw err;\n      }\n    }\n  } else if (type === 3) {\n    var a = 1.074,b = 0.467,c = 0.812;\n    var sgE = function sgE(p) {return a * (p + 1) / dt * (1 + b * Math.log10(c / ((p + 1) / dt))) + (\n      p > 2 ? 0.059 * (p + 1) / dt : 0);};\n\n    if (isMetal(pLesser)) {\n\n      var _cos3Theta2 = splitting * dt * dt / (type3Params[pLesser][1] - type3Params[pLesser][0]);\n      if (_cos3Theta2 < 0 || _cos3Theta2 > cos3ThetaMax)\n      return null;\n      return (\n      getEnergyFromCos3Theta(dt, _cos3Theta2, pLesser, type, -1) +\n      getEnergyFromCos3Theta(dt, _cos3Theta2, pLesser, type, 0)) /\n      2;\n\n    } else {\n\n      var _pLarger = pLesser + 1;\n      var _mod = 1;\n      if (pLesser >= 6)\n      throw new Error('higher than M22 not available for Super-Growth');\n      var _cos3Theta3 = (splitting + sgE(pLesser) - sgE(_pLarger)) * dt * dt / (\n      type3Params[_pLarger][_mod - 1] - type3Params[pLesser][_mod - 1]);\n\n      if (_cos3Theta3 < 0 || _cos3Theta3 > cos3ThetaMax) {\n        _mod = 2;\n        _cos3Theta3 = (splitting + sgE(pLesser) - sgE(_pLarger)) * dt * dt / (\n        type3Params[_pLarger][_mod - 1] - type3Params[pLesser][_mod - 1]);\n      }\n      if (_cos3Theta3 < 0 || _cos3Theta3 > cos3ThetaMax)\n      return null;\n      return (\n      getEnergyFromCos3Theta(dt, _cos3Theta3, _pLarger, type, _mod) +\n      getEnergyFromCos3Theta(dt, _cos3Theta3, pLesser, type, _mod)) /\n      2;\n    }\n\n  } else if (type === 4 || type === 5) {\n\n    if (pLesser !== 0)\n    throw new Error('only S11 and S22 are available for SDS-disp. or ssDNA disp.');\n    var _mod2 = 1;\n    var _cos3Theta4 = (splitting - (1 / (0.1174 + 0.4644 * dt) - 1 / (0.1270 + 0.8606 * dt))) *\n    dt * dt / (-0.1829 - 0.04575);\n\n    if (_cos3Theta4 > cos3ThetaMax || _cos3Theta4 < 0) {\n      _mod2 = 2;\n      _cos3Theta4 = (splitting - (1 / (0.1174 + 0.4644 * dt) - 1 / (0.1270 + 0.8606 * dt))) *\n      dt * dt / (0.1705 - -0.08802);\n    }\n    if (_cos3Theta4 > cos3ThetaMax || _cos3Theta4 < 0)\n    return null;\n\n    return (\n    getEnergyFromCos3Theta(dt, _cos3Theta4, 1, type, _mod2) +\n    getEnergyFromCos3Theta(dt, _cos3Theta4, 0, type, _mod2)) /\n    2;\n  } else\n  throw new Error('invalid type');\n}\n\n/**\n   * get a list of standard dots in a plot of a certain p (the smaller in a pair) and type\n   * @param {int} pLesser - the smaller p in a pair\n   * @param {int} type - type of the environment\n   * @returns {number[][]} array of [n, m, x, y] where (n, m) is the chiral index and (x, y) is the coordinates\n   */\nfunction getList(pLesser, type) {\n\n  var li = [];\n  var nMin = 5,nMax = 50;\n\n  if (!isMetal(pLesser)) {\n    if (isMetal(pLesser + 1)) throw new Error('p should be the smaller one, e.g. S11 rather than S22');\n    for (var n = nMin; n < nMax; n++) {\n      for (var m = 0; m <= n; m++) {\n\n        if (2 * n + m > seriesThreshold) break;\n        try {\n          if (!isMetal(n, m)) {\n            var dl = getEnergy(Dt(n, m, type), Theta(n, m), pLesser, type, Mod(n, m));\n            var dh = getEnergy(Dt(n, m, type), Theta(n, m), pLesser + 1, type, Mod(n, m));\n            li.push([n, m, (dh + dl) / 2, dh - dl]);\n          }\n        } catch (err) {\n          if (err.message !== 'dt') throw err;\n        }\n      }}\n  } else {\n    for (var _n = nMin; _n < nMax; _n++) {\n      for (var _m = 0; _m <= _n; _m++) {\n\n        if (2 * _n + _m > seriesThreshold) break;\n        try {\n          if (isMetal(_n, _m)) {\n            var _dl = getEnergy(Dt(_n, _m, type), Theta(_n, _m), pLesser, type, -1);\n            var _dh = getEnergy(Dt(_n, _m, type), Theta(_n, _m), pLesser, type, 0);\n            li.push([_n, _m, (_dh + _dl) / 2, _dh - _dl]);\n          }\n        } catch (err) {\n          if (err.message !== 'dt') throw err;\n        }\n      }}\n  }\n  return li;\n}\n\n/**\n   * get an parameter array used to plot RBM contour lines\n   * @param {int} pLesser - the smaller p in a pair\n   * @param {int} type - type of the environment\n   * @return {{rbmLabel: number[], rbm: number[][][]}} rbm: RBM points array, rbmLabel: associated RBM value array\n   */\nfunction getRBMArray(pLesser, type) {\n\n  var d = { rbmLabel: [], rbm: [] }; // return\n\n  var cos3ThetaMax = 60;\n  var wRBMMin = 70,wRBMMax = 350;\n  if (!isMetal(pLesser) && isMetal(pLesser + 1))\n  throw new Error('p should be the smaller one, e.g. S11 rather than S22');\n\n  for (var rbmFreq = wRBMMin; rbmFreq <= wRBMMax; rbmFreq += 10) {\n\n    var dt = wRBM2Dt(rbmFreq, pLesser, type);\n    var t = [];\n    try {\n      if (isMetal(pLesser)) {\n        var plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 0);\n        var minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, -1);\n        t.push([(plus + minus) / 2, plus - minus]);\n        plus = getEnergyFromCos3Theta(dt, -cos3ThetaMax, pLesser, type, 0);\n        minus = getEnergyFromCos3Theta(dt, -cos3ThetaMax, pLesser, type, -1);\n        t.push([(plus + minus) / 2, plus - minus]);\n        d.rbmLabel.push(rbmFreq);\n        d.rbm.push(t);\n      } else {\n        var _plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser + 1, type, 1); //should it be higher?\n        var _minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 1);\n        t.push([(_plus + _minus) / 2, _plus - _minus]);\n        _plus = getEnergyFromCos3Theta(dt, 0, pLesser + 1, type, 2);\n        _minus = getEnergyFromCos3Theta(dt, 0, pLesser, type, 2);\n        t.push([(_plus + _minus) / 2, _plus - _minus]);\n        _plus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser + 1, type, 2);\n        _minus = getEnergyFromCos3Theta(dt, cos3ThetaMax, pLesser, type, 2);\n        t.push([(_plus + _minus) / 2, _plus - _minus]);\n        d.rbmLabel.push(rbmFreq);\n        d.rbm.push(t);\n      }\n    }\n    catch (err)\n    {\n      if (err.message === 'dt') break;else\n      throw err;\n    }\n  }\n\n  return d;\n}\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVuZXJneS5qcyJdLCJuYW1lcyI6WyJzZXJpZXNUaHJlc2hvbGQiLCJBc3NpZ25SZXN1bHQiLCJhY2N1cmF0ZSIsInBvc3NpYmxlIiwiaW1wb3NzaWJsZSIsImVycm9yIiwidHlwZU5hbWUiLCJ0eXBlMFBhcmFtcyIsInR5cGUzUGFyYW1zIiwicDFOYW1lIiwicDFOYW1lX3JhdyIsInAxVG9QIiwicDEiLCJwVG9MZXNzZXIiLCJwIiwicDFUb0xlc3NlciIsIkR0IiwibiIsIm0iLCJ0eXBlIiwiTWF0aCIsInNxcnQiLCJQSSIsIlRoZXRhIiwiYXRhbiIsIk1vZCIsImlzTWV0YWwiLCJpc01ldGFsUCIsImlzTWV0YWxOTSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImdldFJCTVBhcmFtZXRlcnMiLCJQYXJhbSIsImEiLCJiIiwiRXJyb3IiLCJ3UkJNMkR0Iiwid1JCTSIsImFiIiwiZHQyUkJNIiwiZHQiLCJnZXRFbmVyZ3kiLCJ0aGV0YSIsIm1vZCIsImdldEVuZXJneUZyb21Db3MzVGhldGEiLCJjb3MiLCJjb3MzVGhldGEiLCJyIiwiZGVyaXZhdGl2ZSIsImMiLCJzZ0UiLCJleHRNb2QiLCJsb2cxMCIsImdldENvczNUaGV0YSIsInZhbCIsImNhbGMiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsImdldEF2ZXJhZ2UiLCJzcGxpdHRpbmciLCJwTGVzc2VyIiwiY29zM1RoZXRhTWF4IiwiZXJyIiwibWVzc2FnZSIsInBMYXJnZXIiLCJkZWx0YSIsIngiLCJnZXRMaXN0IiwibGkiLCJuTWluIiwibk1heCIsImRsIiwiZGgiLCJwdXNoIiwiZ2V0UkJNQXJyYXkiLCJkIiwicmJtTGFiZWwiLCJyYm0iLCJ3UkJNTWluIiwid1JCTU1heCIsInJibUZyZXEiLCJ0IiwicGx1cyIsIm1pbnVzIl0sIm1hcHBpbmdzIjoiO0FBQ0E7O0FBRUE7Ozs7QUFJQSxJQUFNQSxrQkFBa0IsRUFBeEI7O0FBRUEsSUFBTUMsZUFBZTtBQUNuQkMsWUFBVyxDQURRO0FBRW5CQyxZQUFXLENB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QUFSO0FBQ0E4RCxVQUFFUixJQUFGLENBQU8sQ0FBRSxDQUFDUyxRQUFPQyxNQUFSLElBQWlCLENBQW5CLEVBQXNCRCxRQUFPQyxNQUE3QixDQUFQO0FBQ0FELGdCQUFPdEMsdUJBQXVCSixFQUF2QixFQUEyQnFCLFlBQTNCLEVBQXlDRCxVQUFVLENBQW5ELEVBQXNEekMsSUFBdEQsRUFBNEQsQ0FBNUQsQ0FBUDtBQUNBZ0UsaUJBQVF2Qyx1QkFBdUJKLEVBQXZCLEVBQTJCcUIsWUFBM0IsRUFBeUNELE9BQXpDLEVBQWtEekMsSUFBbEQsRUFBd0QsQ0FBeEQsQ0FBUjtBQUNBOEQsVUFBRVIsSUFBRixDQUFPLENBQUUsQ0FBQ1MsUUFBT0MsTUFBUixJQUFpQixDQUFuQixFQUFzQkQsUUFBT0MsTUFBN0IsQ0FBUDtBQUNBUixVQUFFQyxRQUFGLENBQVdILElBQVgsQ0FBZ0JPLE9BQWhCO0FBQ0FMLFVBQUVFLEdBQUYsQ0FBTUosSUFBTixDQUFXUSxDQUFYO0FBQ0Q7QUFDRjtBQUNELFdBQU9uQixHQUFQO0FBQ0E7QUFDRSxVQUFJQSxJQUFJQyxPQUFKLEtBQWdCLElBQXBCLEVBQTBCLE1BQTFCO0FBQ0ssWUFBTUQsR0FBTjtBQUNOO0FBQ0Y7O0FBRUQsU0FBT2EsQ0FBUDtBQUNEIiwiZmlsZSI6IkVuZXJneS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEBjb25zdCBtYXggcHJvY2Vzc2FibGUgKDJuICsgbSkgbGltaXRcbiAqIEB0eXBlIGludFxuICovXG5jb25zdCBzZXJpZXNUaHJlc2hvbGQgPSA5MDtcblxuY29uc3QgQXNzaWduUmVzdWx0ID0ge1xuICBhY2N1cmF0ZSA6IDAsXG4gIHBvc3NpYmxlIDogMSxcbiAgaW1wb3NzaWJsZSA6IDIsXG4gIGVycm9yIDogM1xufTtcblxuLyoqXG4gKiBAY29uc3QgbmFtZXMgb2YgZW52aXJvbm1lbnRzXG4gKiBAdHlwZSB7c3RyaW5nW119XG4gKi9cbmNvbnN0IHR5cGVOYW1lID0gW1xuICAnQWlyLXN1c3BlbmRlZCBTV05UcycsICdTV05UcyBvbiBcXFxcKFxcXFxtYXRocm17U2lPXzJ9L1xcXFxtYXRocm17U2l9XFxcXCkgc3Vic3RyYXRlcycsICdTV05UIGFycmF5cyBvbiBxdWFydHogc3Vic3RyYXRlcycsXG4gICdcIlN1cGVyLWdyb3d0aFwiIFNXTlRzJywgJ1NEUy1kaXNwZXJzZWQgU1dOVHMnLCAnc3NETkEtZGlzcGVyc2VkIFNXTlRzJ1xuXTtcblxuXG4vKipcbiAqIEBjb25zdCBwYXJhbWV0ZXJzIG9mIGFpci1zdXNwZW5kZWQtbGlrZSBlbnZpcm9ubWVudHM6IChhLCBiLCBjKVxuICogQHR5cGUge251bWJlcltdW119XG4gKi9cbmNvbnN0IHR5cGUwUGFyYW1zID0gW1xuICBbIDEuMTk0LCAwLjE3OSwgMC4wNTMgXSxcbiAgWyAyLjExMCwgMC4zODgsIDAuMTU0IF0sXG4gIFsgMy4xNzAsIDAuNzY0LCAwLjI4NiBdLCAvL00xMVxuICBbIDQuMjg2LCAxLjIzMCwgMC40MTIgXSxcbiAgWyA1LjM4MCwgMS45MjIsIDAuNjQ0IF0sXG4gIFsgNi41MDgsIDIuNzY4LCAwLjkyOCBdLCAvL00yMlxuICBbIDcuNjI0LCAzLjc2OCwgMS4wMjQgXSwgLy9TNTVcbiAgWyA4LjczNCwgNC45MjEsIDEuNDc5IF0sIC8vUzY2XG4gIFsgOS44NTcsIDYuMjI4LCAxLjY5MiBdICAvL00zM1xuXTtcblxuLyoqXG4gKiBAY29uc3QgcGFyYW1ldGVycyBvZiBzdXBlci1ncm93dGggZW52aXJvbm1lbnRzOiAoYmV0YV9tb2QxLCBiZXRhX21vZDIpIG9yIChiZXRhXy0sIGJldGFfKylcbiAqIEB0eXBlIHtudW1iZXJbXVtdfVxuICovXG5jb25zdCB0eXBlM1BhcmFtcyA9W1xuICBbIDAuMDksIC0wLjA3IF0sXG4gIFsgLTAuMTgsIDAuMTQgXSxcbiAgWyAtMC4xOSwgMC4yOSBdLFxuICBbIDAuNDksIC0wLjMzIF0sXG4gIFsgLTAuNDMsIDAuNTkgXSxcbiAgWyAtMC42LCAwLjU3IF1cbl07XG5cbmNvbnN0IHAxTmFtZSA9IFtcbiAgJ1xcXFwoU197MTF9XFxcXCknLCAnXFxcXChTX3syMn1cXFxcKScsICdcXFxcKE1fezExfV4tXFxcXCknLCAnXFxcXChNX3sxMX1eK1xcXFwpJywgJ1xcXFwoU197MzN9XFxcXCknLCAnXFxcXChTX3s0NH1cXFxcKScsXG4gICdcXFxcKE1fezIyfV4tXFxcXCknLCAnXFxcXChNX3syMn1eK1xcXFwpJywgJ1xcXFwoU197NTV9XFxcXCknLCAnXFxcXChTX3s2Nn1cXFxcKScsICdcXFxcKE1fezMzfV4tXFxcXCknLCAnXFxcXChNX3szM31eK1xcXFwpJ1xuXTtcblxuLyoqXG4gKiBAY29uc3QgbmFtZSBvZiBwMSB3aXRob3V0IGRlbGltaXRlcnNcbiAqIEB0eXBlIHtzdHJpbmdbXX1cbiAqL1xuY29uc3QgcDFOYW1lX3JhdyA9IFtcbiAgJ1NfezExfScsICdTX3syMn0nLCAnTV97MTF9Xi0nLCAnTV97MTF9XisnLCAnU197MzN9JywgJ1NfezQ0fScsICdNX3syMn1eLScsICdNX3syMn1eKycsICdTX3s1NX0nLCAnU197NjZ9JyxcbiAgJ01fezMzfV4tJywgJ01fezMzfV4rJ1xuXTtcblxuLyoqXG4gKiBjb252ZXJ0cyBwMSAocCB3aXRoICsgb3IgLSBmb3IgbWV0YWxsaWMgdHViZXMpIHRvIGNvcnJlbGF0ZWQgcC5cbiAqIEBwYXJhbSB7aW50fSBwMSAtIGlucHV0IHAxXG4gKiBAcmV0dXJucyB7aW50fSBwXG4gKi9cbmNvbnN0IHAxVG9QID0gKHAxKSA9PiBbIDAsIDEsIDIsIDIsIDMsIDQsIDUsIDUsIDYsIDcsIDgsIDggXVtwMV07XG5cbi8qKlxuICogY29udmVydHMgcCB0byBpdHMgbGVzc2VyIHZhbHVlIGluIGEgcGFpciAoUzExIGFuZCBTMjIgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gUzExLCBldGMuKS5cbiAqIEBwYXJhbSB7aW50fSBwIC0gaW5wdXQgcFxuICogQHJldHVybnMge2ludH0gbGVzc2VyIHBcbiAqL1xuY29uc3QgcFRvTGVzc2VyID0gKHApID0+IFsgMCwgMCwgMiwgMywgMywgNSwgNiwgNiwgOSBdW3BdO1xuXG4vKipcbiAqIGNvbnZlcnRzIHAxIHRvIGl0cyBsZXNzZXIgdmFsdWUgaW4gYSBwYWlyIChNMTErIGFuZCBNMTEtIHdpbGwgYmUgY29udmVydGVkIHRvIE0xMS0sIGV0Yy4pLlxuICogQHBhcmFtIHtpbnR9IHAxIC0gaW5wdXQgcDFcbiAqIEByZXR1cm5zIHtpbnR9IGxlc3NlciBwMVxuICovXG5jb25zdCBwMVRvTGVzc2VyID0gKHAxKSA9PiBwMSAlIDIgPT09IDAgPyBwMSA6IHAxIC0gMTtcblxuXG5jb25zdCBEdCA9IChuLCBtLCB0eXBlKSA9PiAoKHR5cGUgIT09IDQpID8gMC4xNDIgOiAwLjE0NCkgKiBNYXRoLnNxcnQoMyAqIChuICogbiArIG4gKiBtICsgbSAqIG0pKSAvIE1hdGguUEk7XG5jb25zdCBUaGV0YSA9IChuLCBtKSA9PiBNYXRoLmF0YW4oTWF0aC5zcXJ0KDMpICogbSAvICgyICogbiArIG0pKTtcbmNvbnN0IE1vZCA9IChuLCBtKSA9PiAoMiAqIG4gKyBtKSAlIDM7XG5cbi8qKlxuICogZ2V0IGlmIGEgcCB2YWx1ZSBvciBhIHBhaXIgb2YgKG4sIG0pIHZhbHVlIGlzIGFzc29jaWF0ZWQgdG8gYSBtZXRhbGxpYyB0dWJlLlxuICogQHJldHVybnMge2Jvb2xlYW59IGlmIGl0IGlzIG1ldGFsbGljXG4gKi9cbmNvbnN0IGlzTWV0YWwgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGlzTWV0YWxQID0gKHApID0+IChwICsgMSkgJSAzID09PSAwO1xuICBjb25zdCBpc01ldGFsTk0gPSAobiwgbSkgPT4gTW9kKG4sIG0pID09PSAwO1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMiA/XG4gICAgaXNNZXRhbE5NKGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6XG4gICAgaXNNZXRhbFAoYXJndW1lbnRzWzBdKTtcbn07XG5cbi8qKlxuICogZ2V0IFJCTSBwYXJhbWV0ZXJzIChBLCBCKSBpbiB0aGUgZm9ybXVsYSB3UkJNID0gQSAvIGR0ICsgQiBvZiBzcGVjaWZpYyBwIGFuZCB0eXBlIG9mIGVudmlyb25tZW50LlxuICogQHBhcmFtIHtpbnR9IHAgLSBzcGVjaWZpYyBwXG4gKiBAcGFyYW0ge2ludH0gdHlwZSAtIHNwZWNpZmljIHR5cGUgb2YgZW52aXJvbm1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IG9iamVjdCBvZiB7YTogbnVtYmVyLCBiOiBudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldFJCTVBhcmFtZXRlcnMocCwgdHlwZSkge1xuICBjbGFzcyBQYXJhbSB7XG4gICAgY29uc3RydWN0b3IoYSwgYikgeyB0aGlzLmEgPSBhOyB0aGlzLmIgPSBiOyB9XG4gIH1cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAwOiBzd2l0Y2ggKHApIHtcbiAgICAgIGNhc2UgMDogY2FzZSAxOiByZXR1cm4gbmV3IFBhcmFtKDIwNCwgMjcpO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IFBhcmFtKDIwMCwgMjYpO1xuICAgICAgZGVmYXVsdDogcmV0dXJuIG5ldyBQYXJhbSgyMjgsIDApO1xuICAgIH1cbiAgICBjYXNlIDE6IHJldHVybiBuZXcgUGFyYW0oMjM1LjksIDUuNSk7XG4gICAgY2FzZSAyOiByZXR1cm4gbmV3IFBhcmFtKDIxNy44LCAxNS43KTtcbiAgICBjYXNlIDM6IHJldHVybiBuZXcgUGFyYW0oMjI3LjAsIDAuMyk7XG4gICAgY2FzZSA0OiByZXR1cm4gbmV3IFBhcmFtKDIyMy41LCAxMi41KTtcbiAgICBjYXNlIDU6IHJldHVybiBuZXcgUGFyYW0oMjE4LCAxOC4zKTtcbiAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdHlwZScpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdSQk0yRHQod1JCTSwgcCwgdHlwZSkge1xuICBsZXQgYWIgPSBnZXRSQk1QYXJhbWV0ZXJzKHAsIHR5cGUpO1xuICByZXR1cm4gYWIuYSAvICh3UkJNIC0gYWIuYik7XG59XG5cbmZ1bmN0aW9uIGR0MlJCTShkdCwgcCwgdHlwZSkge1xuICBsZXQgYWIgPSBnZXRSQk1QYXJhbWV0ZXJzKHAsIHR5cGUpO1xuICByZXR1cm4gYWIuYSAvIGR0ICsgYWIuYjtcbn1cblxuY29uc3QgZ2V0RW5lcmd5ID0gKGR0LCB0aGV0YSwgcCwgdHlwZSwgbW9kKSA9PiBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBNYXRoLmNvcygzICogdGhldGEpLCBwLCB0eXBlLCBtb2QpO1xuXG4vKipcbiAqIGludmVyc2Ugb2YgZ2V0Q29zM1RoZXRhLCBjYWxjdWxhdGVzIHRyYW5zaXRpb24gZW5lcmd5IGZyb20gdHViZSBkaWFtZXRlciBhbmQgTWF0aC5jb3MoMyAqIGNoaXJhbF9hbmdsZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSBkdCAtIHR1YmUgZGlhbWV0ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBjb3MzVGhldGEgLSBNYXRoLmNvcygzICogY2hpcmFsX2FuZ2xlKVxuICogQHBhcmFtIHtpbnR9IHAgLSBwIG9mIHRyYW5zaXRpb24gdHlwZVxuICogQHBhcmFtIHtpbnR9IHR5cGUgLSBjb2RlIG9mIGVudmlyb25tZW50XG4gKiBAcGFyYW0ge2ludH0gbW9kIC0gbW9kIG9mIHRoZSB0dWJlLCAtMS8wIGZvciBtZXRhbGxpYyAtLyssIDEvMiBmb3Igc2VtaWNvbmR1Y3RpbmcgTU9EMS9NT0QyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0cmFuc2l0aW9uIGVuZXJneVxuICovXG5mdW5jdGlvbiBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHAsIHR5cGUsIG1vZCkge1xuICBsZXQgcjsgLy8gcmV0dXJuIHZhbHVlXG4gIGlmIChpc01ldGFsKHApICYmIG1vZCA+IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKCdtb2Qgc2hvdWxkIGJlIGluIGFjY29yZGFuY2Ugd2l0aCBwJyk7XG4gIGlmICh0eXBlIDw9IDIpIHtcblxuICAgIGlmIChwID49IDkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hpZ2hlciB0aGFuIFM2NiBub3QgYXZhaWxhYmxlJyk7XG4gICAgbGV0IGRlcml2YXRpdmUgPSAtdHlwZTBQYXJhbXNbcF1bMF0gLyAoZHQgKiBkdCkgKyAyICogdHlwZTBQYXJhbXNbcF1bMV0gLyAoZHQgKiBkdCAqIGR0KTtcbiAgICBpZiAoZGVyaXZhdGl2ZSA+IDApIC8vIDFzdCBkZXJpdmF0aXZlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2R0Jyk7XG4gICAgaWYgKGlzTWV0YWwocCkpXG4gICAgICByID0gdHlwZTBQYXJhbXNbcF1bMF0gLyBkdCAtIHR5cGUwUGFyYW1zW3BdWzFdIC8gKGR0ICogZHQpICtcbiAgICAgICAgdHlwZTBQYXJhbXNbcF1bMl0gLyAoZHQgKiBkdCkgKiBjb3MzVGhldGEgKiAobW9kICogMiArIDEpO1xuICAgIC8vIG1vZCAqIDIgKyAxIDw9PT4gbW9kID09PSAwID8gMSA6IC0xXG4gICAgZWxzZVxuICAgICAgciA9IHR5cGUwUGFyYW1zW3BdWzBdIC8gZHQgLSB0eXBlMFBhcmFtc1twXVsxXSAvIChkdCAqIGR0KSArXG4gICAgICAgIHR5cGUwUGFyYW1zW3BdWzJdIC8gKGR0ICogZHQpICogY29zM1RoZXRhICogKCgocCAlIDMpID09PSAobW9kICUgMikpID8gLTEgOiAxKTtcbiAgICByIC09ICh0eXBlID09PSAxKSA/IDAuMDQgOiAoKHR5cGUgPT09IDIpID8gMC4xIDogMCk7XG5cbiAgfSBlbHNlIGlmICh0eXBlID09PSAzKSB7XG5cbiAgICBpZiAocCA+PSA2KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdoaWdoZXIgdGhhbiBNMjIgbm90IGF2YWlsYWJsZSBmb3IgU3VwZXItR3Jvd3RoJyk7XG4gICAgbGV0IGEgPSAxLjA3NCwgYiA9IDAuNDY3LCBjID0gMC44MTI7XG4gICAgbGV0IHNnRSA9IChleHRNb2QpID0+IGEgKiAocCArIDEpIC8gZHQgKiAoMSArIGIgKiBNYXRoLmxvZzEwKGMgLyAoKHAgKyAxKSAvIGR0KSkpXG4gICAgICArIHR5cGUzUGFyYW1zW3BdW2V4dE1vZF0gLyAoZHQgKiBkdCkgKiBjb3MzVGhldGFcbiAgICAgICsgKChwID4gMikgPyAwLjA1OSAqIChwICsgMSkgLyBkdCA6IDApOyAvLyBleHRyYSBmb3IgbGFyZ2VyIHRoYW4gTTExOyB3YXJuaW5nOiBwICsgMVxuICAgIGlmIChpc01ldGFsKHApKVxuICAgICAgciA9IHNnRShtb2QgKyAxKTsgLy8gMChNaWkrKSAtPiAxLCAtMShNaWktKSAtPiAwXG4gICAgZWxzZVxuICAgICAgciA9IHNnRShtb2QgLSAxKTsgLy8gMShNT0QxKSAtPiAwLCAyKE1PRDIpIC0+IDFcblxuICB9IGVsc2UgaWYgKHR5cGUgPT09IDQgfHwgdHlwZSA9PT0gNSkge1xuXG4gICAgaWYgKHAgPT09IDApXG4gICAgICByID0gMSAvICgwLjEyNzAgKyAwLjg2MDYgKiBkdCkgKyAoKG1vZCA9PT0gMSkgPyAwLjA0NTc1IDogLTAuMDg4MDIpIC8gKGR0ICogZHQpICogY29zM1RoZXRhO1xuICAgIGVsc2UgaWYgKHAgPT09IDEpXG4gICAgICByID0gMSAvICgwLjExNzQgKyAwLjQ2NDQgKiBkdCkgKyAoKG1vZCA9PT0gMSkgPyAtMC4xODI5IDogMC4xNzA1KSAvIChkdCAqIGR0KSAqIGNvczNUaGV0YTtcbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ubHkgUzExIGFuZCBTMjIgYXJlIGF2YWlsYWJsZSBmb3IgU0RTLWRpc3BlcnNlZCBvciBzc0ROQSBkaXNwZXJzZWQnKTtcbiAgICByIC09ICh0eXBlID09PSA1KSA/IDAuMDIgOiAwO1xuXG4gIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdHlwZScpO1xuXG4gIHJldHVybiByO1xufVxuXG4vKipcbiAqIGludmVyc2Ugb2YgZ2V0RW5lcmd5RnJvbUNvczNUaGV0YSgpLCBnZXQgTWF0aC5jb3MoMyAqIGNoaXJhbF9hbmdsZSkgZnJvbSB0cmFuc2l0aW9uIGVuZXJneSBhbmQgdHViZSBkaWFtZXRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkdCAtIHR1YmUgZGlhbWV0ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSB0cmFuc2l0aW9uIGVuZXJneVxuICogQHBhcmFtIHtpbnR9IHAgLSBwIG9mIHRyYW5zaXRpb24gdHlwZVxuICogQHBhcmFtIHtpbnR9IHR5cGUgLSBjb2RlIG9mIGVudmlyb25tZW50XG4gKiBAcmV0dXJucyB7bnVtYmVyW119IGNvczNUaGV0YSBhcyBbdmFsX01PRDEsIHZhbF9NT0QyXSBvciBbdmFsXy0sIHZhbF8rXVxuICovXG5mdW5jdGlvbiBnZXRDb3MzVGhldGEodmFsLCBkdCwgcCwgdHlwZSkge1xuXG4gIGxldCByID0gWy0xLCAtMV07XG5cbiAgaWYgKHR5cGUgPD0gMikge1xuXG4gICAgaWYgKHAgPj0gOSlcbiAgICAgIHRocm93IG5ldyBFcnJvcignaGlnaGVyIHRoYW4gUzY2IG5vdCBhdmFpbGFibGUnKTtcbiAgICB2YWwgKz0gKHR5cGUgPT09IDEpID8gMC4wNCA6ICgodHlwZSA9PT0gMikgPyAwLjEgOiAwKTtcbiAgICBpZiAoaXNNZXRhbChwKSkge1xuICAgICAgclswXSA9ICh0eXBlMFBhcmFtc1twXVswXSAvIGR0IC0gdHlwZTBQYXJhbXNbcF1bMV0gLyAoZHQgKiBkdCkgLSB2YWwpIC8gdHlwZTBQYXJhbXNbcF1bMl0gKiAoZHQgKiBkdCk7XG4gICAgICByWzFdID0gKC0odHlwZTBQYXJhbXNbcF1bMF0gLyBkdCAtIHR5cGUwUGFyYW1zW3BdWzFdIC8gKGR0ICogZHQpIC0gdmFsKSkgLyB0eXBlMFBhcmFtc1twXVsyXSAqIChkdCAqIGR0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgclswXSA9ICgtKHR5cGUwUGFyYW1zW3BdWzBdIC8gZHQgLSB0eXBlMFBhcmFtc1twXVsxXSAvIChkdCAqIGR0KSAtIHZhbCkpXG4gICAgICAgIC8gdHlwZTBQYXJhbXNbcF1bMl0gKiAoZHQgKiBkdCkgKiAoKChwICUgMykgPT09ICgxICUgMikpID8gLTEgOiAxKTtcbiAgICAgIHJbMV0gPSAoLSh0eXBlMFBhcmFtc1twXVswXSAvIGR0IC0gdHlwZTBQYXJhbXNbcF1bMV0gLyAoZHQgKiBkdCkgLSB2YWwpKVxuICAgICAgICAvIHR5cGUwUGFyYW1zW3BdWzJdICogKGR0ICogZHQpICogKCgocCAlIDMpID09PSAoMiAlIDIpKSA/IC0xIDogMSk7XG4gICAgfVxuXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gMykge1xuXG4gICAgaWYgKHAgPj0gNilcbiAgICAgIHRocm93IG5ldyBFcnJvcignaGlnaGVyIHRoYW4gTTIyIG5vdCBhdmFpbGFibGUgZm9yIFN1cGVyLUdyb3d0aCcpO1xuICAgIGxldCBhID0gMS4wNzQsIGIgPSAwLjQ2NywgYyA9IDAuODEyO1xuICAgIGxldCBjYWxjID0gKGV4dE1vZCkgPT4gKHZhbCAtIGEgKiAocCArIDEpIC8gZHQgKiAoMSArIGIgKiBNYXRoLmxvZzEwKGMgLyAoKHAgKyAxKSAvIGR0KSkpIC1cbiAgICAgICgocCA+IDIpID8gMC4wNTkgKiAocCArIDEpIC8gZHQgOiAwKSkgLyB0eXBlM1BhcmFtc1twXVtleHRNb2RdICogKGR0ICogZHQpO1xuICAgIHJbMF0gPSBjYWxjKDApOyAvL01paS0gb3IgTU9EMVxuICAgIHJbMV0gPSBjYWxjKDEpO1xuXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gNCB8fCB0eXBlID09PSA1KSB7XG5cbiAgICB2YWwgKz0gKHR5cGUgPT09IDUpID8gMC4wMiA6IDA7XG4gICAgaWYgKHAgPT09IDApIHtcbiAgICAgIHJbMF0gPSAodmFsIC0gMSAvICgwLjEyNzAgKyAwLjg2MDYgKiBkdCkpIC8gMC4wNDU3NSAqIChkdCAqIGR0KTsgLy8gTU9EMVxuICAgICAgclsxXSA9ICh2YWwgLSAxIC8gKDAuMTI3MCArIDAuODYwNiAqIGR0KSkgLyAoLTAuMDg4MDIpICogKGR0ICogZHQpO1xuICAgIH0gZWxzZSBpZiAocCA9PT0gMSkge1xuICAgICAgclswXSA9ICh2YWwgLSAxIC8gKDAuMTE3NCArIDAuNDY0NCAqIGR0KSkgLyAoLTAuMTgyOSkgKiAoZHQgKiBkdCk7IC8vIE1PRDFcbiAgICAgIHJbMV0gPSAodmFsIC0gMSAvICgwLjExNzQgKyAwLjQ2NDQgKiBkdCkpIC8gMC4xNzA1ICogKGR0ICogZHQpO1xuICAgIH0gZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ29ubHkgUzExIGFuZCBTMjIgYXJlIGF2YWlsYWJsZSBmb3IgU0RTLWRpc3AuIG9yIHNzRE5BIGRpc3AuJyk7XG5cbiAgfSBlbHNlIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0eXBlJyk7XG5cbiAgclswXSA9IHBhcnNlRmxvYXQoclswXS50b0ZpeGVkKDQpKTsgLy8gNCBkaWdpdHNcbiAgclsxXSA9IHBhcnNlRmxvYXQoclsxXS50b0ZpeGVkKDQpKTtcbiAgaWYgKHJbMF0gPiAxIHx8IHJbMF0gPCAwKVxuICAgIHJbMF0gPSAtMTtcbiAgaWYgKHJbMV0gPiAxIHx8IHJbMV0gPCAwKVxuICAgIHJbMV0gPSAtMTtcbiAgcmV0dXJuIHI7XG5cbn1cblxuLyoqXG4gKiBnZXQgc3VtIG9mIHBhaXJlZCB0cmFuc2l0aW9uIGVuZXJnaWVzIGZyb20gdGhlaXIgc3BsaXR0aW5nIGFuZCBSQk0gZnJlcXVlbmN5LlxuICogQHBhcmFtIHtudW1iZXJ9IHNwbGl0dGluZyAtIChTMjIgLSBTMTEpIG9yIChNMTErIC0gTTExLSksIG9yIHNvbWV0aGluZyBzaW1pbGFyXG4gKiBAcGFyYW0ge251bWJlcn0gd1JCTSAtIFJCTSBmcmVxdWVuY3lcbiAqIEBwYXJhbSB7aW50fSBwTGVzc2VyIC0gdGhlIHNtYWxsZXIgb25lIG9mIHRoZSBwIHZhbHVlIG9mIHRoZSAyIHRyYW5zaXRpb24gZW5lcmdpZXNcbiAqIEBwYXJhbSB7aW50fSB0eXBlIC0gZW52aXJvbm1lbnRcbiAqIEByZXR1cm5zIHsobnVtYmVyfG51bGwpfSBhdmVyYWdlIG9yIG51bGwgaWYgaW52YWxpZFxuICovXG5mdW5jdGlvbiBnZXRBdmVyYWdlKHNwbGl0dGluZywgd1JCTSwgcExlc3NlciwgdHlwZSkge1xuXG4gIGxldCBjb3MzVGhldGFNYXggPSAxLjU7XG5cbiAgbGV0IGR0ID0gd1JCTTJEdCh3UkJNLCBwTGVzc2VyLCB0eXBlKTtcblxuICBpZiAoaXNNZXRhbChwTGVzc2VyICsgMSkpIHRocm93IG5ldyBFcnJvcigncCBzaG91bGQgYmUgdGhlIHNtYWxsZXIgb25lJyk7XG4gIGlmICh0eXBlIDw9IDIpIHtcbiAgICBpZiAocExlc3NlciA+PSA5KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdoaWdoZXIgdGhhbiBTNjYgbm90IGF2YWlsYWJsZScpO1xuXG4gICAgaWYgKGlzTWV0YWwocExlc3NlcikpIHtcblxuICAgICAgbGV0IGNvczNUaGV0YSA9IGR0ICogZHQgKiBzcGxpdHRpbmcgLyAyICogdHlwZTBQYXJhbXNbcExlc3Nlcl1bMl07XG4gICAgICBpZiAoY29zM1RoZXRhIDwgMCB8fCBjb3MzVGhldGEgPiBjb3MzVGhldGFNYXgpIHJldHVybiBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHBMZXNzZXIsIHR5cGUsIC0xKSArXG4gICAgICAgICAgZ2V0RW5lcmd5RnJvbUNvczNUaGV0YShkdCwgY29zM1RoZXRhLCBwTGVzc2VyLCB0eXBlLCAwKVxuICAgICAgICApIC8gMjtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgPT09ICdkdCcpXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGVsc2UgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcExhcmdlciA9IHBMZXNzZXIgKyAxO1xuICAgICAgbGV0IGRlbHRhID0gKHgpID0+IHR5cGUwUGFyYW1zW3BMYXJnZXJdW3hdIC0gdHlwZTBQYXJhbXNbcExlc3Nlcl1beF07XG4gICAgICBsZXQgbW9kID0gMTtcbiAgICAgIGxldCBjb3MzVGhldGEgPSAoc3BsaXR0aW5nICogZHQgKiBkdCAtIGRlbHRhKDApICogZHQgKyBkZWx0YSgxKSkgLyAoXG4gICAgICAgIHR5cGUwUGFyYW1zW3BMYXJnZXJdWzJdICogKCgocExhcmdlciAlIDMpID09PSAobW9kICUgMikpID8gLTEgOiAxKSAtXG4gICAgICAgIHR5cGUwUGFyYW1zW3BMZXNzZXJdWzJdICogKCgocExlc3NlciAlIDMpID09PSAobW9kICUgMikpID8gLTEgOiAxKVxuICAgICAgKTtcbiAgICAgIGlmIChjb3MzVGhldGEgPCAwKSB7XG4gICAgICAgIG1vZCA9IDI7XG4gICAgICAgIGNvczNUaGV0YSA9IC1jb3MzVGhldGE7XG4gICAgICB9XG4gICAgICBpZiAoY29zM1RoZXRhID4gY29zM1RoZXRhTWF4KSByZXR1cm4gbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgZ2V0RW5lcmd5RnJvbUNvczNUaGV0YShkdCwgY29zM1RoZXRhLCBwTGFyZ2VyLCB0eXBlLCBtb2QpICtcbiAgICAgICAgICBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHBMZXNzZXIsIHR5cGUsIG1vZClcbiAgICAgICAgKSAvIDI7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgaWYgKGVyci5tZXNzYWdlID09PSAnZHQnKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBlbHNlIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gMykge1xuICAgIGxldCBhID0gMS4wNzQsIGIgPSAwLjQ2NywgYyA9IDAuODEyO1xuICAgIGxldCBzZ0UgPSAocCkgPT4gYSAqIChwICsgMSkgLyBkdCAqICgxICsgYiAqIE1hdGgubG9nMTAoYyAvICgocCArIDEpIC8gZHQpKSkgK1xuICAgICAgKChwID4gMikgPyAwLjA1OSAqIChwICsgMSkgLyBkdCA6IDApO1xuXG4gICAgaWYgKGlzTWV0YWwocExlc3NlcikpIHtcblxuICAgICAgbGV0IGNvczNUaGV0YSA9IChzcGxpdHRpbmcpICogZHQgKiBkdCAvICh0eXBlM1BhcmFtc1twTGVzc2VyXVsxXSAtIHR5cGUzUGFyYW1zW3BMZXNzZXJdWzBdKTtcbiAgICAgIGlmIChjb3MzVGhldGEgPCAwIHx8IGNvczNUaGV0YSA+IGNvczNUaGV0YU1heClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHBMZXNzZXIsIHR5cGUsIC0xKSArXG4gICAgICAgIGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YSwgcExlc3NlciwgdHlwZSwgMClcbiAgICAgICkgLyAyO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgbGV0IHBMYXJnZXIgPSBwTGVzc2VyICsgMTtcbiAgICAgIGxldCBtb2QgPSAxO1xuICAgICAgaWYgKHBMZXNzZXIgPj0gNilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoaWdoZXIgdGhhbiBNMjIgbm90IGF2YWlsYWJsZSBmb3IgU3VwZXItR3Jvd3RoJyk7XG4gICAgICBsZXQgY29zM1RoZXRhID0gKHNwbGl0dGluZyArIHNnRShwTGVzc2VyKSAtIHNnRShwTGFyZ2VyKSkgKiBkdCAqIGR0IC8gKFxuICAgICAgICB0eXBlM1BhcmFtc1twTGFyZ2VyXVttb2QgLSAxXSAtIHR5cGUzUGFyYW1zW3BMZXNzZXJdW21vZCAtIDFdXG4gICAgICApO1xuICAgICAgaWYgKGNvczNUaGV0YSA8IDAgfHwgY29zM1RoZXRhID4gY29zM1RoZXRhTWF4KSB7XG4gICAgICAgIG1vZCA9IDI7XG4gICAgICAgIGNvczNUaGV0YSA9IChzcGxpdHRpbmcgKyBzZ0UocExlc3NlcikgLSBzZ0UocExhcmdlcikpICogZHQgKiBkdCAvIChcbiAgICAgICAgICB0eXBlM1BhcmFtc1twTGFyZ2VyXVttb2QgLSAxXSAtIHR5cGUzUGFyYW1zW3BMZXNzZXJdW21vZCAtIDFdKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb3MzVGhldGEgPCAwIHx8IGNvczNUaGV0YSA+IGNvczNUaGV0YU1heClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHBMYXJnZXIsIHR5cGUsIG1vZCkgK1xuICAgICAgICBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGEsIHBMZXNzZXIsIHR5cGUsIG1vZClcbiAgICAgICkgLyAyO1xuICAgIH1cblxuICB9IGVsc2UgaWYgKHR5cGUgPT09IDQgfHwgdHlwZSA9PT0gNSkge1xuXG4gICAgaWYgKHBMZXNzZXIgIT09IDApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ubHkgUzExIGFuZCBTMjIgYXJlIGF2YWlsYWJsZSBmb3IgU0RTLWRpc3AuIG9yIHNzRE5BIGRpc3AuJyk7XG4gICAgbGV0IG1vZCA9IDE7XG4gICAgbGV0IGNvczNUaGV0YSA9IChzcGxpdHRpbmcgLSAoMSAvICgwLjExNzQgKyAwLjQ2NDQgKiBkdCkgLSAxIC8gKDAuMTI3MCArIDAuODYwNiAqIGR0KSkpXG4gICAgICAqIGR0ICogZHQgLyAoLTAuMTgyOSAtIDAuMDQ1NzUpO1xuXG4gICAgaWYgKGNvczNUaGV0YSA+IGNvczNUaGV0YU1heCB8fCBjb3MzVGhldGEgPCAwKSB7XG4gICAgICBtb2QgPSAyO1xuICAgICAgY29zM1RoZXRhID0gKHNwbGl0dGluZyAtICgxIC8gKDAuMTE3NCArIDAuNDY0NCAqIGR0KSAtIDEgLyAoMC4xMjcwICsgMC44NjA2ICogZHQpKSlcbiAgICAgICAgKiBkdCAqIGR0IC8gKDAuMTcwNSAtIC0wLjA4ODAyKTtcbiAgICB9XG4gICAgaWYgKGNvczNUaGV0YSA+IGNvczNUaGV0YU1heCB8fCBjb3MzVGhldGEgPCAwKVxuICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICByZXR1cm4gKFxuICAgICAgZ2V0RW5lcmd5RnJvbUNvczNUaGV0YShkdCwgY29zM1RoZXRhLCAxLCB0eXBlLCBtb2QpICtcbiAgICAgIGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YSwgMCwgdHlwZSwgbW9kKVxuICAgICkgLyAyO1xuICB9XG4gIGVsc2UgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHR5cGUnKTtcbn1cblxuLyoqXG4gKiBnZXQgYSBsaXN0IG9mIHN0YW5kYXJkIGRvdHMgaW4gYSBwbG90IG9mIGEgY2VydGFpbiBwICh0aGUgc21hbGxlciBpbiBhIHBhaXIpIGFuZCB0eXBlXG4gKiBAcGFyYW0ge2ludH0gcExlc3NlciAtIHRoZSBzbWFsbGVyIHAgaW4gYSBwYWlyXG4gKiBAcGFyYW0ge2ludH0gdHlwZSAtIHR5cGUgb2YgdGhlIGVudmlyb25tZW50XG4gKiBAcmV0dXJucyB7bnVtYmVyW11bXX0gYXJyYXkgb2YgW24sIG0sIHgsIHldIHdoZXJlIChuLCBtKSBpcyB0aGUgY2hpcmFsIGluZGV4IGFuZCAoeCwgeSkgaXMgdGhlIGNvb3JkaW5hdGVzXG4gKi9cbmZ1bmN0aW9uIGdldExpc3QocExlc3NlciwgdHlwZSkge1xuXG4gIGxldCBsaSA9IFtdO1xuICBjb25zdCBuTWluID0gNSwgbk1heCA9IDUwO1xuXG4gIGlmICghaXNNZXRhbChwTGVzc2VyKSkge1xuICAgIGlmIChpc01ldGFsKHBMZXNzZXIgKyAxKSkgdGhyb3cgbmV3IEVycm9yKCdwIHNob3VsZCBiZSB0aGUgc21hbGxlciBvbmUsIGUuZy4gUzExIHJhdGhlciB0aGFuIFMyMicpO1xuICAgIGZvciAobGV0IG4gPSBuTWluOyBuIDwgbk1heDsgbisrKVxuICAgICAgZm9yIChsZXQgbSA9IDA7IG0gPD0gbjsgbSsrKSB7XG5cbiAgICAgICAgaWYgKDIgKiBuICsgbSA+IHNlcmllc1RocmVzaG9sZCkgYnJlYWs7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKCFpc01ldGFsKG4sIG0pKSB7XG4gICAgICAgICAgICBsZXQgZGwgPSBnZXRFbmVyZ3koRHQobiwgbSwgdHlwZSksIFRoZXRhKG4sIG0pLCBwTGVzc2VyLCB0eXBlLCBNb2QobiwgbSkpO1xuICAgICAgICAgICAgbGV0IGRoID0gZ2V0RW5lcmd5KER0KG4sIG0sIHR5cGUpLCBUaGV0YShuLCBtKSwgcExlc3NlciArIDEsIHR5cGUsIE1vZChuLCBtKSk7XG4gICAgICAgICAgICBsaS5wdXNoKFsgbiwgbSwgKGRoICsgZGwpIC8gMiwgKGRoIC0gZGwpIF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKGVyci5tZXNzYWdlICE9PSAnZHQnKSB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGxldCBuID0gbk1pbjsgbiA8IG5NYXg7IG4rKylcbiAgICAgIGZvciAobGV0IG0gPSAwOyBtIDw9IG47IG0rKykge1xuXG4gICAgICAgIGlmICgyICogbiArIG0gPiBzZXJpZXNUaHJlc2hvbGQpIGJyZWFrO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChpc01ldGFsKG4sIG0pKSB7XG4gICAgICAgICAgICBsZXQgZGwgPSBnZXRFbmVyZ3koRHQobiwgbSwgdHlwZSksIFRoZXRhKG4sIG0pLCBwTGVzc2VyLCB0eXBlLCAtMSk7XG4gICAgICAgICAgICBsZXQgZGggPSBnZXRFbmVyZ3koRHQobiwgbSwgdHlwZSksIFRoZXRhKG4sIG0pLCBwTGVzc2VyLCB0eXBlLCAwKTtcbiAgICAgICAgICAgIGxpLnB1c2goWyBuLCBtLCAoZGggKyBkbCkgLyAyLCAoZGggLSBkbCkgXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyLm1lc3NhZ2UgIT09ICdkdCcpIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIHJldHVybiBsaTtcbn1cblxuLyoqXG4gKiBnZXQgYW4gcGFyYW1ldGVyIGFycmF5IHVzZWQgdG8gcGxvdCBSQk0gY29udG91ciBsaW5lc1xuICogQHBhcmFtIHtpbnR9IHBMZXNzZXIgLSB0aGUgc21hbGxlciBwIGluIGEgcGFpclxuICogQHBhcmFtIHtpbnR9IHR5cGUgLSB0eXBlIG9mIHRoZSBlbnZpcm9ubWVudFxuICogQHJldHVybiB7e3JibUxhYmVsOiBudW1iZXJbXSwgcmJtOiBudW1iZXJbXVtdW119fSByYm06IFJCTSBwb2ludHMgYXJyYXksIHJibUxhYmVsOiBhc3NvY2lhdGVkIFJCTSB2YWx1ZSBhcnJheVxuICovXG5mdW5jdGlvbiBnZXRSQk1BcnJheShwTGVzc2VyLCB0eXBlKSB7XG5cbiAgbGV0IGQgPSB7IHJibUxhYmVsOiBbXSwgcmJtOiBbXSB9OyAvLyByZXR1cm5cblxuICBjb25zdCBjb3MzVGhldGFNYXggPSA2MDtcbiAgY29uc3Qgd1JCTU1pbiA9IDcwLCB3UkJNTWF4ID0gMzUwO1xuICBpZiAoIWlzTWV0YWwocExlc3NlcikgJiYgaXNNZXRhbChwTGVzc2VyICsgMSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdwIHNob3VsZCBiZSB0aGUgc21hbGxlciBvbmUsIGUuZy4gUzExIHJhdGhlciB0aGFuIFMyMicpO1xuXG4gIGZvciAobGV0IHJibUZyZXEgPSB3UkJNTWluOyByYm1GcmVxIDw9IHdSQk1NYXg7IHJibUZyZXEgKz0gMTApIHtcblxuICAgIGxldCBkdCA9IHdSQk0yRHQocmJtRnJlcSwgcExlc3NlciwgdHlwZSk7XG4gICAgbGV0IHQgPSBbXTtcbiAgICB0cnkge1xuICAgICAgaWYgKGlzTWV0YWwocExlc3NlcikpIHtcbiAgICAgICAgbGV0IHBsdXMgPSBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGFNYXgsIHBMZXNzZXIsIHR5cGUsIDApO1xuICAgICAgICBsZXQgbWludXMgPSBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCBjb3MzVGhldGFNYXgsIHBMZXNzZXIsIHR5cGUsIC0xKTtcbiAgICAgICAgdC5wdXNoKFsgKHBsdXMgKyBtaW51cykgLyAyLCBwbHVzIC0gbWludXMgXSk7XG4gICAgICAgIHBsdXMgPSBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCAtY29zM1RoZXRhTWF4LCBwTGVzc2VyLCB0eXBlLCAwKTtcbiAgICAgICAgbWludXMgPSBnZXRFbmVyZ3lGcm9tQ29zM1RoZXRhKGR0LCAtY29zM1RoZXRhTWF4LCBwTGVzc2VyLCB0eXBlLCAtMSk7XG4gICAgICAgIHQucHVzaChbIChwbHVzICsgbWludXMpIC8gMiwgcGx1cyAtIG1pbnVzIF0pO1xuICAgICAgICBkLnJibUxhYmVsLnB1c2gocmJtRnJlcSk7XG4gICAgICAgIGQucmJtLnB1c2godCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcGx1cyA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YU1heCwgcExlc3NlciArIDEsIHR5cGUsIDEpOyAvL3Nob3VsZCBpdCBiZSBoaWdoZXI/XG4gICAgICAgIGxldCBtaW51cyA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YU1heCwgcExlc3NlciwgdHlwZSwgMSk7XG4gICAgICAgIHQucHVzaChbIChwbHVzICsgbWludXMpIC8gMiwgcGx1cyAtIG1pbnVzIF0pO1xuICAgICAgICBwbHVzID0gZ2V0RW5lcmd5RnJvbUNvczNUaGV0YShkdCwgMCwgcExlc3NlciArIDEsIHR5cGUsIDIpO1xuICAgICAgICBtaW51cyA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIDAsIHBMZXNzZXIsIHR5cGUsIDIpO1xuICAgICAgICB0LnB1c2goWyAocGx1cyArIG1pbnVzKSAvIDIsIHBsdXMgLSBtaW51cyBdKTtcbiAgICAgICAgcGx1cyA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YU1heCwgcExlc3NlciArIDEsIHR5cGUsIDIpO1xuICAgICAgICBtaW51cyA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvczNUaGV0YU1heCwgcExlc3NlciwgdHlwZSwgMik7XG4gICAgICAgIHQucHVzaChbIChwbHVzICsgbWludXMpIC8gMiwgcGx1cyAtIG1pbnVzIF0pO1xuICAgICAgICBkLnJibUxhYmVsLnB1c2gocmJtRnJlcSk7XG4gICAgICAgIGQucmJtLnB1c2godCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnIpXG4gICAge1xuICAgICAgaWYgKGVyci5tZXNzYWdlID09PSAnZHQnKSBicmVhaztcbiAgICAgIGVsc2UgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBkO1xufVxuIl19\n\n\n'use strict';\n\nvar isUnparsable = function isUnparsable(e) {return isNaN(parseFloat(e));};\n\n/**\n                                                                             * Get assigned results to be processed for plotting.\n                                                                             * @param {Object} inputParams - input parameters\n                                                                             * @param {int} inputParams.p1 - p denoting transition type associated with val1\n                                                                             * @param {(string|null)} inputParams.val1 - null-able or empty-able string of transition energy 1\n                                                                             * @param {int} inputParams.p2 - p denoting transition type associated with val2\n                                                                             * @param {(string|null)} inputParams.val2 - null-able or empty-able string of transition energy 2\n                                                                             * @param {(string|null)} inputParams.rbm - null-able or empty-able string of RBM frequency\n                                                                             * @param {int} inputParams.type - environment type\n                                                                             * @returns {Object} assigned results\n                                                                            */\nfunction getPlotParams(inputParams) {\n  var decimalDigits = function decimalDigits(d) {return d.split('.')[1].length;};\n\n  if (isUnparsable(inputParams.val1) && isUnparsable(inputParams.val2)) {\n    throw new Error('Unauthorized Access');\n  } else if (isUnparsable(inputParams.val1) || isUnparsable(inputParams.val2)) {\n    if (isUnparsable(inputParams.rbm)) throw new Error('Unauthorized Access');\n    inputParams.uncertainty = 2.0 / Math.pow(10,\n    decimalDigits(isUnparsable(inputParams.val1) ? inputParams.val2 : inputParams.val1));\n    return E1R1(inputParams);\n  } else {\n    inputParams.uncertainty = 2.0 / Math.pow(10,\n    Math.min(decimalDigits(inputParams.val1), decimalDigits(inputParams.val2)));\n\n    return E2(inputParams);\n  }\n}\n\n/**\n   * Get assigned results of 1 energy 1 RBM frequency input.\n   * @param {Object} inputParams - input parameters\n   * @param {int} inputParams.p1 - p denoting transition type associated with val1\n   * @param {(string|null)} inputParams.val1 - null-able or empty-able string of transition energy 1\n   * @param {int} inputParams.p2 - p denoting transition type associated with val2\n   * @param {(string|null)} inputParams.val2 - null-able or empty-able string of transition energy 2\n   * @param {string} inputParams.rbm - parseable string (to float) of RBM frequency\n   * @param {int} inputParams.type - environment type\n   * @returns {Object} assigned results\n   */\nfunction E1R1(inputParams) {\n\n  var p1 = isUnparsable(inputParams.val1) ? inputParams.p2 : inputParams.p1,type = inputParams.type,p = p1ToP(p1);\n  var val = parseFloat(isUnparsable(inputParams.val1) ? inputParams.val2 : inputParams.val1); // float\n  var wRBM = parseFloat(inputParams.rbm); // float, integrity checked in getPlotParam\n\n  var dt = wRBM2Dt(wRBM, p, type);\n  var cos = getCos3Theta(val, dt, p, type);\n  var resultString = '';\n  var error = function error() {return Assign({\n      bluePoint: null,\n      point: [val, 0.23],\n      pLesser: pToLesser(p),\n      type: type,\n      pointType: 'none',\n      p1Lesser: p1ToLesser(p1),\n      resultString: resultString,\n      uncertainty: 0.0002 });};\n\n\n  if (cos[0] === -1 && cos[1] === -1) {\n    resultString += 'Invalid input: out of range.';\n    return error();\n  }\n\n  var pAnother = void 0,modAnother = void 0;\n  if (isMetal(p)) {\n    if (p1 % 4 - 3 !== (cos[0] === -1 ? 0 : -1)) {\n      resultString += 'Invalid input: You may have mistaken ' + p1Name[p1 + 5 - p1 % 4 * 2] + ' for ' + p1Name[p1] + '.';\n      return error();\n    }\n    pAnother = p;\n    modAnother = cos[0] === -1 ? -1 : 0;\n  } else\n  {\n    pAnother = isMetal(p + 1) ? p - 1 : p + 1;\n    modAnother = cos[0] === -1 ? 2 : 1; // === mod1\n  }\n\n  var valAnother = void 0;\n  try {\n    valAnother = getEnergyFromCos3Theta(dt, cos[0] === -1 ? cos[1] : cos[0], pAnother, type, modAnother);\n  }\n  catch (err) {\n    if (err.message === 'dt') {\n      resultString += 'Invalid input: out of range, diameter too small.';\n      return error();\n    }\n    throw err;\n  }\n  if (isMetal(p) && modAnother === -1 || !isMetal(p) && p > pAnother) {var _ref =\n    [pAnother, p];p = _ref[0];pAnother = _ref[1];var _ref2 =\n    [valAnother, val];val = _ref2[0];valAnother = _ref2[1];\n  }\n  var x = (val + valAnother) / 2,y = valAnother - val;\n  return Assign({\n    bluePoint: null,\n    point: [x, y],\n    pLesser: p,\n    type: type,\n    pointType: 'green',\n    p1Lesser: p1ToLesser(p1),\n    resultString: resultString,\n    uncertainty: inputParams.uncertainty },\n  modAnother);\n\n}\n\n/**\n   * Get assigned results of 2 energy (with/without RBM frequency) input.\n   * @param {Object} inputParams - input parameters\n   * @param {int} inputParams.p1 - p denoting transition type associated with val1\n   * @param {string} inputParams.val1 - parseable string (to float) of transition energy 1\n   * @param {int} inputParams.p2 - p denoting transition type associated with val2\n   * @param {string} inputParams.val2 - parseable string (to float) of transition energy 2\n   * @param {(string|null)} inputParams.rbm - null-able or empty-able string of RBM frequency\n   * @param {int} inputParams.type - environment type\n   * @returns {Object} assigned results\n   */\nfunction E2(inputParams) {\n\n  var resultString = '';\n  var p1 = inputParams.p1,p2 = inputParams.p2,type = inputParams.type;\n  var val1 = parseFloat(inputParams.val1),val2 = parseFloat(inputParams.val2);\n  var p_1 = p1ToP(p1),p_2 = p1ToP(p2);\n  var rbm = inputParams.rbm; // string\n\n  // don't use 'with' block\n  if (p1 > p2) {var _ref3 =\n    [p_2, p_1];p_1 = _ref3[0];p_2 = _ref3[1];var _ref4 =\n    [val2, val1];val1 = _ref4[0];val2 = _ref4[1];var _ref5 =\n    [p2, p1];p1 = _ref5[0];p2 = _ref5[1];\n  }\n\n  if (isMetal(p_2) !== isMetal(p_1)) {\n    throw new Error('invalid form submission');\n  }\n\n  if (p2 - p1 === 1) {\n    var bluePoint = null;\n    if (!isUnparsable(rbm)) {\n      var average = getAverage(val2 - val1, parseFloat(rbm), p_1, type);\n      if (average !== null) {\n        bluePoint = [average, val2 - val1];\n      } else\n      {\n        resultString += 'Invalid input: RBM value out of range. Only transition energies are processed. <br/ >';\n      }\n    }\n    return Assign({\n      point: [(val1 + val2) / 2, val2 - val1],\n      pLesser: p_1,\n      type: type,\n      pointType: 'red',\n      bluePoint: bluePoint,\n      p1Lesser: p1,\n      resultString: resultString,\n      uncertainty: inputParams.uncertainty });\n\n  }\n\n}\n\n/**\n   * Get assigned results of pre-processed parameters.\n   * @param {Object} params - pre-processed parameters\n   * @param {int} mod=-1 - transferred pre-processed mod in E1R1()\n   * @param {array} params.point - point\n   * @param {string} params.pointType - type of the point, 'red' or 'green'\n   * @param {int} params.pLesser - smaller one of the p in the plot\n   * @param {int} params.p1Lesser - smaller one of the p1 in the plot\n   * @param {int} params.type - environment type\n   * @param {string} params.resultString - output result\n   * @param {(number[]|null)} params.bluePoint blue point if exists\n   * @param {number} params.uncertainty - uncertainty of the input\n   * @returns {Object} assigned results\n   */\nfunction Assign(params) {var mod = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n\n  // params: plotParams\n  // x: average y: splitting\n\n  var uncertainty = params.uncertainty;\n  var dxMin = -1,dxMax = -1,dyMin = -1,dyMax = -1;\n  var Dist = function Dist(x1, y1, x2, y2) {return Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2) * 25);};\n  var Dist_ = function Dist_(e) {return Dist(e[2], e[3], params.point[0], params.point[1]);};\n  var deltaX = 0.6,\n  maxY = isMetal(params.pLesser) ? 0.6 : params.point[1] + 0.6,\n  minY = isMetal(params.pLesser) ? -0.1 : params.point[1] - 0.6;\n\n  function setBounds(dxMin_, dxMax_, dyMin_, dyMax_) {\n    dxMin = dxMin_;\n    dxMax = dxMax_;\n    dyMin = dyMin_;\n    dyMax = dyMax_;\n  }\n\n  // https://github.com/mihaifm/linq, many thanks to you!\n\n  params.all = Enumerable.from(getList(params.pLesser, params.type)).\n  where(function (e) {return e[2] >= params.point[0] - deltaX && e[2] <= params.point[0] + deltaX &&\n    e[3] <= maxY && e[3] >= minY;}).\n  toArray();\n\n  var query = Enumerable.from(params.all).\n  where(function (e) {return (\n      (mod === -1 || isMetal(params.pLesser) || mod === Mod(e[0], e[1])) &&\n      params.point[0] - e[2] >= dxMin && params.point[0] - e[2] <= dxMax &&\n      params.point[1] - e[3] >= dyMin && params.point[1] - e[3] <= dyMax);});\n\n\n  setBounds(-uncertainty, uncertainty, -uncertainty, uncertainty);\n  var uc = query.toArray(); // query once to get uncertainty range\n\n  function processOutput() {\n    params.result = query.orderBy(Dist_).toArray();\n    for (var i = 0; i < params.result.length; i++) {\n      params.resultString += '\\n        <b>(' +\n      Math.round(params.result[i][0]) + ',' + Math.round(params.result[i][1]) + ')</b>\\n        ' + (\n      i !== params.result.length - 1 ? ', ' : '');}\n    params.resultString += '</span>';\n  }\n\n  if (params.pointType === 'none') {\n    params.ar = AssignResult.error;\n    params.result = [];\n    return params;\n  }\n\n  if (uncertainty > 0.2) {\n    params.resultString = 'Input uncertainty too large. Please give more significant figures.';\n    params.ar = AssignResult.error;\n    params.result = [];\n    return params;\n  }\n\n  if (params.pointType === 'red') {\n    if (params.bluePoint != null) {\n      if (params.bluePoint[0] - params.point[0] < 0.02) setBounds(-0.008, 0.008, -0.015, 0.015);else\n      setBounds(-0.030, -0.005, -0.015, 0.015); // don't change at this moment\n    } else setBounds(-0.020, 0.008, -0.015, 0.015);\n\n    if (query.count() === 1 && uc.length <= 1) {\n      params.ar = AssignResult.accurate;\n      params.resultString += 'The assignment result is:<br /><span style=\"font-size: 28px;\">';\n      processOutput();\n      return params;\n    }\n    setBounds(-0.040, 0.0126, -0.030, 0.030);\n  } else setBounds(-0.070, 0.070, -0.040, 0.040);\n\n  query.union(uc);\n\n  if (query.count() > 0) {\n    params.ar = AssignResult.possible;\n    params.resultString += 'The likely assignments include:<br /><span style=\"font-size: 28px;\">';\n    processOutput();\n    return params;\n  }\n\n  /*\n    * use the green criteria and query again for no match.\n    * and it's easy to see that green point, if not returned in the previous step,\n    * will not give results in this step.\n    */\n\n  setBounds(-0.070, 0.070, -0.040, 0.040);\n  var tmp = Enumerable.from(params.all).orderBy(Dist_).toArray();\n  if (Dist_(tmp[0]) / Dist_(tmp[1]) <= 0.5 && query.count() !== 0) {\n    params.ar = AssignResult.impossible;\n    query = Enumerable.from([tmp[0]]);\n    params.resultString += 'No match. The most possible assignment result is:<br /><span style=\"font-size: 28px;\">';\n    processOutput();\n    return params;\n  }\n\n  params.ar = AssignResult.error;\n  params.resultString = 'Invalid input: out of range. Please check your input.';\n  params.result = [];\n  return params;\n}\n\nfunction processOutput(params) {\n\n  // process RBM\n\n  var yMax = isMetal(params.pLesser) ? 0.51 : params.point[1] + 0.4;\n  var xMin = params.point[0] - 0.5,xMax = params.point[0] + 0.5;\n  var s = getRBMArray(params.pLesser, params.type); // {rbm, rbmLabel}\n  var rbm = [];\n  var rbmLabel = [];\n  var rbmPos = [];\n  var between = function between(xy, r1, r2) {return xy >= r1 && xy <= r2 || xy >= r2 && xy <= r1;};\n  for (var i = 0; i < s.rbm.length; i++) {\n    var a = s.rbm[i];\n    var t = void 0;\n    if (a.length === 2)\n    t = (a[0][0] - a[1][0]) * (yMax - a[1][1]) / (a[0][1] - a[1][1]) + a[1][0];else\n    {\n      var u = void 0;\n      if (between(yMax, a[1][1], a[0][1]))\n      u = 0;else\n        // if between(a[1][1], a[2][1])\n        u = 2;\n      t = (a[u][0] - a[1][0]) * (yMax - a[1][1]) / (a[u][1] - a[1][1]) + a[1][0];\n    }\n    if (between(t, xMax, xMin)) {\n      rbm.push(s.rbm[i]);\n      rbmLabel.push(s.rbmLabel[i]);\n      rbmPos.push(t);\n    }\n  }\n  params.rbm = rbm;\n  params.rbmLabel = rbmLabel;\n  params.rbmPos = rbmPos;\n\n  // process all\n\n  var all = params.all; // you know, lazy evaluation\n  var q = Enumerable.from(all).\n  groupBy(\n  function (e) {return 2 * e[0] + e[1];}, // key\n  function (e) {return e;}, // group element\n  function (key, group) {return { key: key, value: group.orderBy(function (e) {return e[0];}).toArray() };});\n  // use default compare method\n\n  params.all = q.select(function (e) {return e.value.map(function (ee) {return [ee[2], ee[3]];});}).toArray();\n  params.allLabel = q.select(function (e) {return e.value.map(function (ee) {return [ee[0], ee[1]];});}).toArray();\n\n  // process result\n\n  var result = params.result;\n  params.result = result.map(function (e) {return [e[2], e[3]];});\n  params.resultLabel = result.map(function (e) {return [e[0], e[1]];});\n\n  params.isMetal = isMetal(params.pLesser);\n  params.yAxisLabel = '\\\\(' + p1Name_raw[params.p1Lesser + 1] + '-' + p1Name_raw[params.p1Lesser] + '\\\\ (\\\\mathrm{eV})\\\\)';\n  params.xAxisLabel = '\\\\((' + p1Name_raw[params.p1Lesser + 1] + '+' + p1Name_raw[params.p1Lesser] + ')/2\\\\ (\\\\mathrm{eV})\\\\)';\n\n\n  // select g.OrderBy(elem => elem[0]);\n  // note that average energy may not increase monotonously as n in (n,m) increases.\n  // thus elem => elem[2] is wrong.\n  // test: S11 = 1.420, S22 = 2.134 as (6,4), see branch 2n + m = 16\n\n\n  return params;\n}\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFzc2lnbi5qcyJdLCJuYW1lcyI6WyJpc1VucGFyc2FibGUiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJlIiwiZ2V0UGxvdFBhcmFtcyIsImlucHV0UGFyYW1zIiwiZGVjaW1hbERpZ2l0cyIsImQiLCJzcGxpdCIsImxlbmd0aCIsInZhbDEiLCJ2YWwyIiwiRXJyb3IiLCJyYm0iLCJ1bmNlcnRhaW50eSIsIk1hdGgiLCJwb3ciLCJFMVIxIiwibWluIiwiRTIiLCJwMSIsInAyIiwidHlwZSIsInAiLCJwMVRvUCIsInZhbCIsIndSQk0iLCJkdCIsIndSQk0yRHQiLCJjb3MiLCJnZXRDb3MzVGhldGEiLCJyZXN1bHRTdHJpbmciLCJlcnJvciIsIkFzc2lnbiIsImJsdWVQb2ludCIsInBvaW50IiwicExlc3NlciIsInBUb0xlc3NlciIsInBvaW50VHlwZSIsInAxTGVzc2VyIiwicDFUb0xlc3NlciIsInBBbm90aGVyIiwibW9kQW5vdGhlciIsImlzTWV0YWwiLCJwMU5hbWUiLCJ2YWxBbm90aGVyIiwiZ2V0RW5lcmd5RnJvbUNvczNUaGV0YSIsImVyciIsIm1lc3NhZ2UiLCJ4IiwieSIsInBfMSIsInBfMiIsImF2ZXJhZ2UiLCJnZXRBdmVyYWdlIiwicGFyYW1zIiwibW9kIiwiZHhNaW4iLCJkeE1heCIsImR5TWluIiwiZHlNYXgiLCJEaXN0IiwieDEiLCJ5MSIsIngyIiwieTIiLCJzcXJ0IiwiRGlzdF8iLCJkZWx0YVgiLCJtYXhZIiwibWluWSIsInNldEJvdW5kcyIsImR4TWluXyIsImR4TWF4XyIsImR5TWluXyIsImR5TWF4XyIsImFsbCIsIkVudW1lcmFibGUiLCJmcm9tIiwiZ2V0TGlzdCIsIndoZXJlIiwidG9BcnJheSIsInF1ZXJ5IiwiTW9kIiwidWMiLCJwcm9jZXNzT3V0cHV0IiwicmVzdWx0Iiwib3JkZXJCeSIsImkiLCJyb3VuZCIsImFyIiwiQXNzaWduUmVzdWx0IiwiY291bnQiLCJhY2N1cmF0ZSIsInVuaW9uIiwicG9zc2libGUiLCJ0bXAiLCJpbXBvc3NpYmxlIiwieU1heCIsInhNaW4iLCJ4TWF4IiwicyIsImdldFJCTUFycmF5IiwicmJtTGFiZWwiLCJyYm1Qb3MiLCJiZXR3ZWVuIiwieHkiLCJyMSIsInIyIiwiYSIsInQiLCJ1IiwicHVzaCIsInEiLCJncm91cEJ5Iiwia2V5IiwiZ3JvdXAiLCJ2YWx1ZSIsInNlbGVjdCIsIm1hcCIsImVlIiwiYWxsTGFiZWwiLCJyZXN1bHRMYWJlbCIsInlBeGlzTGFiZWwiLCJwMU5hbWVfcmF3IiwieEF4aXNMYWJlbCJdLCJtYXBwaW5ncyI6IjtBQUNBOztBQUVBLElBQUlBLGVBQWUsU0FBZkEsWUFBZSxZQUFLQyxNQUFNQyxXQUFXQyxDQUFYLENBQU4sQ0FBTCxFQUFuQjs7QUFFQTs7Ozs7Ozs7Ozs7QUFXQSxTQUFTQyxhQUFULENBQXVCQyxXQUF2QixFQUFvQztBQUNsQyxNQUFJQyxnQkFBZ0IsU0FBaEJBLGFBQWdCLENBQUNDLENBQUQsVUFBT0EsRUFBRUMsS0FBRixDQUFRLEdBQVIsRUFBYSxDQUFiLEVBQWdCQyxNQUF2QixFQUFwQjs7QUFFQSxNQUFJVCxhQUFhSyxZQUFZSyxJQUF6QixLQUFrQ1YsYUFBYUssWUFBWU0sSUFBekIsQ0FBdEMsRUFBc0U7QUFDcEUsVUFBTSxJQUFJQyxLQUFKLENBQVUscUJBQVYsQ0FBTjtBQUNELEdBRkQsTUFFTyxJQUFJWixhQUFhSyxZQUFZSyxJQUF6QixLQUFrQ1YsYUFBYUssWUFBWU0sSUFBekIsQ0FBdEMsRUFBc0U7QUFDM0UsUUFBSVgsYUFBYUssWUFBWVEsR0FBekIsQ0FBSixFQUFtQyxNQUFNLElBQUlELEtBQUosQ0FBVSxxQkFBVixDQUFOO0FBQ25DUCxnQkFBWVMsV0FBWixHQUEwQixNQUFNQyxLQUFLQyxHQUFMLENBQVMsRUFBVDtBQUM5QlYsa0JBQWNOLGFBQWFLLFlBQVlLLElBQXpCLElBQWlDTCxZQUFZTSxJQUE3QyxHQUFvRE4sWUFBWUssSUFBOUUsQ0FEOEIsQ0FBaEM7QUFFQSxXQUFPTyxLQUFLWixXQUFMLENBQVA7QUFDRCxHQUxNLE1BS0E7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TytCLE1BQVAsR0FBZ0JBLE9BQU9pQyxHQUFQLENBQVcscUJBQUssQ0FBQ3BILEVBQUUsQ0FBRixDQUFELEVBQU9BLEVBQUUsQ0FBRixDQUFQLENBQUwsRUFBWCxDQUFoQjtBQUNBb0QsU0FBT21FLFdBQVAsR0FBcUJwQyxPQUFPaUMsR0FBUCxDQUFXLHFCQUFLLENBQUNwSCxFQUFFLENBQUYsQ0FBRCxFQUFPQSxFQUFFLENBQUYsQ0FBUCxDQUFMLEVBQVgsQ0FBckI7O0FBRUFvRCxTQUFPWixPQUFQLEdBQWlCQSxRQUFRWSxPQUFPbkIsT0FBZixDQUFqQjtBQUNBbUIsU0FBT29FLFVBQVAsV0FBMEJDLFdBQVdyRSxPQUFPaEIsUUFBUCxHQUFrQixDQUE3QixDQUExQixTQUE2RHFGLFdBQVdyRSxPQUFPaEIsUUFBbEIsQ0FBN0Q7QUFDQWdCLFNBQU9zRSxVQUFQLFlBQTJCRCxXQUFXckUsT0FBT2hCLFFBQVAsR0FBa0IsQ0FBN0IsQ0FBM0IsU0FBOERxRixXQUFXckUsT0FBT2hCLFFBQWxCLENBQTlEOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsU0FBT2dCLE1BQVA7QUFDRCIsImZpbGUiOiJBc3NpZ24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbid1c2Ugc3RyaWN0JztcblxubGV0IGlzVW5wYXJzYWJsZSA9IGUgPT4gaXNOYU4ocGFyc2VGbG9hdChlKSk7XG5cbi8qKlxuICogR2V0IGFzc2lnbmVkIHJlc3VsdHMgdG8gYmUgcHJvY2Vzc2VkIGZvciBwbG90dGluZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnB1dFBhcmFtcyAtIGlucHV0IHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7aW50fSBpbnB1dFBhcmFtcy5wMSAtIHAgZGVub3RpbmcgdHJhbnNpdGlvbiB0eXBlIGFzc29jaWF0ZWQgd2l0aCB2YWwxXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVsbCl9IGlucHV0UGFyYW1zLnZhbDEgLSBudWxsLWFibGUgb3IgZW1wdHktYWJsZSBzdHJpbmcgb2YgdHJhbnNpdGlvbiBlbmVyZ3kgMVxuICogQHBhcmFtIHtpbnR9IGlucHV0UGFyYW1zLnAyIC0gcCBkZW5vdGluZyB0cmFuc2l0aW9uIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHZhbDJcbiAqIEBwYXJhbSB7KHN0cmluZ3xudWxsKX0gaW5wdXRQYXJhbXMudmFsMiAtIG51bGwtYWJsZSBvciBlbXB0eS1hYmxlIHN0cmluZyBvZiB0cmFuc2l0aW9uIGVuZXJneSAyXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVsbCl9IGlucHV0UGFyYW1zLnJibSAtIG51bGwtYWJsZSBvciBlbXB0eS1hYmxlIHN0cmluZyBvZiBSQk0gZnJlcXVlbmN5XG4gKiBAcGFyYW0ge2ludH0gaW5wdXRQYXJhbXMudHlwZSAtIGVudmlyb25tZW50IHR5cGVcbiAqIEByZXR1cm5zIHtPYmplY3R9IGFzc2lnbmVkIHJlc3VsdHNcbiovXG5mdW5jdGlvbiBnZXRQbG90UGFyYW1zKGlucHV0UGFyYW1zKSB7XG4gIGxldCBkZWNpbWFsRGlnaXRzID0gKGQpID0+IGQuc3BsaXQoJy4nKVsxXS5sZW5ndGg7XG5cbiAgaWYgKGlzVW5wYXJzYWJsZShpbnB1dFBhcmFtcy52YWwxKSAmJiBpc1VucGFyc2FibGUoaW5wdXRQYXJhbXMudmFsMikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCBBY2Nlc3MnKTtcbiAgfSBlbHNlIGlmIChpc1VucGFyc2FibGUoaW5wdXRQYXJhbXMudmFsMSkgfHwgaXNVbnBhcnNhYmxlKGlucHV0UGFyYW1zLnZhbDIpKSB7XG4gICAgaWYgKGlzVW5wYXJzYWJsZShpbnB1dFBhcmFtcy5yYm0pKSB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCBBY2Nlc3MnKTtcbiAgICBpbnB1dFBhcmFtcy51bmNlcnRhaW50eSA9IDIuMCAvIE1hdGgucG93KDEwLFxuICAgICAgZGVjaW1hbERpZ2l0cyhpc1VucGFyc2FibGUoaW5wdXRQYXJhbXMudmFsMSkgPyBpbnB1dFBhcmFtcy52YWwyIDogaW5wdXRQYXJhbXMudmFsMSApKTtcbiAgICByZXR1cm4gRTFSMShpbnB1dFBhcmFtcyk7XG4gIH0gZWxzZSB7XG4gICAgaW5wdXRQYXJhbXMudW5jZXJ0YWludHkgPSAyLjAgLyBNYXRoLnBvdygxMCxcbiAgICAgIE1hdGgubWluKGRlY2ltYWxEaWdpdHMoaW5wdXRQYXJhbXMudmFsMSksIGRlY2ltYWxEaWdpdHMoaW5wdXRQYXJhbXMudmFsMikpXG4gICAgKTtcbiAgICByZXR1cm4gRTIoaW5wdXRQYXJhbXMpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGFzc2lnbmVkIHJlc3VsdHMgb2YgMSBlbmVyZ3kgMSBSQk0gZnJlcXVlbmN5IGlucHV0LlxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0UGFyYW1zIC0gaW5wdXQgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtpbnR9IGlucHV0UGFyYW1zLnAxIC0gcCBkZW5vdGluZyB0cmFuc2l0aW9uIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHZhbDFcbiAqIEBwYXJhbSB7KHN0cmluZ3xudWxsKX0gaW5wdXRQYXJhbXMudmFsMSAtIG51bGwtYWJsZSBvciBlbXB0eS1hYmxlIHN0cmluZyBvZiB0cmFuc2l0aW9uIGVuZXJneSAxXG4gKiBAcGFyYW0ge2ludH0gaW5wdXRQYXJhbXMucDIgLSBwIGRlbm90aW5nIHRyYW5zaXRpb24gdHlwZSBhc3NvY2lhdGVkIHdpdGggdmFsMlxuICogQHBhcmFtIHsoc3RyaW5nfG51bGwpfSBpbnB1dFBhcmFtcy52YWwyIC0gbnVsbC1hYmxlIG9yIGVtcHR5LWFibGUgc3RyaW5nIG9mIHRyYW5zaXRpb24gZW5lcmd5IDJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dFBhcmFtcy5yYm0gLSBwYXJzZWFibGUgc3RyaW5nICh0byBmbG9hdCkgb2YgUkJNIGZyZXF1ZW5jeVxuICogQHBhcmFtIHtpbnR9IGlucHV0UGFyYW1zLnR5cGUgLSBlbnZpcm9ubWVudCB0eXBlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBhc3NpZ25lZCByZXN1bHRzXG4gKi9cbmZ1bmN0aW9uIEUxUjEoaW5wdXRQYXJhbXMpIHtcblxuICBsZXQgcDEgPSAoaXNVbnBhcnNhYmxlKGlucHV0UGFyYW1zLnZhbDEpID8gaW5wdXRQYXJhbXMucDIgOiBpbnB1dFBhcmFtcy5wMSksIHR5cGUgPSBpbnB1dFBhcmFtcy50eXBlLCBwID0gcDFUb1AocDEpO1xuICBsZXQgdmFsID0gcGFyc2VGbG9hdChpc1VucGFyc2FibGUoaW5wdXRQYXJhbXMudmFsMSkgPyBpbnB1dFBhcmFtcy52YWwyIDogaW5wdXRQYXJhbXMudmFsMSk7IC8vIGZsb2F0XG4gIGxldCB3UkJNID0gcGFyc2VGbG9hdChpbnB1dFBhcmFtcy5yYm0pOyAvLyBmbG9hdCwgaW50ZWdyaXR5IGNoZWNrZWQgaW4gZ2V0UGxvdFBhcmFtXG5cbiAgbGV0IGR0ID0gd1JCTTJEdCh3UkJNLCBwLCB0eXBlKTtcbiAgbGV0IGNvcyA9IGdldENvczNUaGV0YSh2YWwsIGR0LCBwLCB0eXBlKTtcbiAgbGV0IHJlc3VsdFN0cmluZyA9ICcnO1xuICBsZXQgZXJyb3IgPSAoKSA9PiBBc3NpZ24oe1xuICAgIGJsdWVQb2ludDogbnVsbCxcbiAgICBwb2ludDogWyB2YWwsIDAuMjMgXSxcbiAgICBwTGVzc2VyOiBwVG9MZXNzZXIocCksXG4gICAgdHlwZTogdHlwZSxcbiAgICBwb2ludFR5cGU6ICdub25lJyxcbiAgICBwMUxlc3NlcjogcDFUb0xlc3NlcihwMSksXG4gICAgcmVzdWx0U3RyaW5nOiByZXN1bHRTdHJpbmcsXG4gICAgdW5jZXJ0YWludHk6IDAuMDAwMlxuICB9KTtcblxuICBpZiAoY29zWzBdID09PSAtMSAmJiBjb3NbMV0gPT09IC0xKSB7XG4gICAgcmVzdWx0U3RyaW5nICs9ICdJbnZhbGlkIGlucHV0OiBvdXQgb2YgcmFuZ2UuJztcbiAgICByZXR1cm4gZXJyb3IoKTtcbiAgfVxuXG4gIGxldCBwQW5vdGhlciwgbW9kQW5vdGhlcjtcbiAgaWYgKGlzTWV0YWwocCkpIHtcbiAgICBpZiAocDEgJSA0IC0gMyAhPT0gKGNvc1swXSA9PT0gLTEgPyAwIDogLTEpKSB7XG4gICAgICByZXN1bHRTdHJpbmcgKz0gYEludmFsaWQgaW5wdXQ6IFlvdSBtYXkgaGF2ZSBtaXN0YWtlbiAke3AxTmFtZVtwMSArIDUgLSAocDEgJSA0KSAqIDJdfSBmb3IgJHtwMU5hbWVbcDFdfS5gO1xuICAgICAgcmV0dXJuIGVycm9yKCk7XG4gICAgfVxuICAgIHBBbm90aGVyID0gcDtcbiAgICBtb2RBbm90aGVyID0gY29zWzBdID09PSAtMSA/IC0xIDogMDtcbiAgfVxuICBlbHNlIHtcbiAgICBwQW5vdGhlciA9IGlzTWV0YWwocCArIDEpID8gcCAtIDEgOiBwICsgMTtcbiAgICBtb2RBbm90aGVyID0gY29zWzBdID09PSAtMSA/IDIgOiAxOyAvLyA9PT0gbW9kMVxuICB9XG5cbiAgbGV0IHZhbEFub3RoZXI7XG4gIHRyeSB7XG4gICAgdmFsQW5vdGhlciA9IGdldEVuZXJneUZyb21Db3MzVGhldGEoZHQsIGNvc1swXSA9PT0gLTEgPyBjb3NbMV0gOiBjb3NbMF0sIHBBbm90aGVyLCB0eXBlLCBtb2RBbm90aGVyKTtcbiAgfVxuICBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGVyci5tZXNzYWdlID09PSAnZHQnKSB7XG4gICAgICByZXN1bHRTdHJpbmcgKz0gJ0ludmFsaWQgaW5wdXQ6IG91dCBvZiByYW5nZSwgZGlhbWV0ZXIgdG9vIHNtYWxsLic7XG4gICAgICByZXR1cm4gZXJyb3IoKTtcbiAgICB9XG4gICAgdGhyb3cgZXJyO1xuICB9XG4gIGlmICgoaXNNZXRhbChwKSAmJiAobW9kQW5vdGhlciA9PT0gLTEpKSB8fCAoIWlzTWV0YWwocCkgJiYgKHAgPiBwQW5vdGhlcikpKSB7XG4gICAgW3AsIHBBbm90aGVyXSA9IFtwQW5vdGhlciwgcF07XG4gICAgW3ZhbCwgdmFsQW5vdGhlcl0gPSBbdmFsQW5vdGhlciwgdmFsXTtcbiAgfVxuICBsZXQgeCA9ICh2YWwgKyB2YWxBbm90aGVyKSAvIDIsIHkgPSB2YWxBbm90aGVyIC0gdmFsO1xuICByZXR1cm4gQXNzaWduKHtcbiAgICBibHVlUG9pbnQ6IG51bGwsXG4gICAgcG9pbnQ6IFt4LCB5XSxcbiAgICBwTGVzc2VyOiBwLFxuICAgIHR5cGU6IHR5cGUsXG4gICAgcG9pbnRUeXBlOiAnZ3JlZW4nLFxuICAgIHAxTGVzc2VyOiBwMVRvTGVzc2VyKHAxKSxcbiAgICByZXN1bHRTdHJpbmc6IHJlc3VsdFN0cmluZyxcbiAgICB1bmNlcnRhaW50eTogaW5wdXRQYXJhbXMudW5jZXJ0YWludHlcbiAgfSwgbW9kQW5vdGhlcik7XG5cbn1cblxuLyoqXG4gKiBHZXQgYXNzaWduZWQgcmVzdWx0cyBvZiAyIGVuZXJneSAod2l0aC93aXRob3V0IFJCTSBmcmVxdWVuY3kpIGlucHV0LlxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0UGFyYW1zIC0gaW5wdXQgcGFyYW1ldGVyc1xuICogQHBhcmFtIHtpbnR9IGlucHV0UGFyYW1zLnAxIC0gcCBkZW5vdGluZyB0cmFuc2l0aW9uIHR5cGUgYXNzb2NpYXRlZCB3aXRoIHZhbDFcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dFBhcmFtcy52YWwxIC0gcGFyc2VhYmxlIHN0cmluZyAodG8gZmxvYXQpIG9mIHRyYW5zaXRpb24gZW5lcmd5IDFcbiAqIEBwYXJhbSB7aW50fSBpbnB1dFBhcmFtcy5wMiAtIHAgZGVub3RpbmcgdHJhbnNpdGlvbiB0eXBlIGFzc29jaWF0ZWQgd2l0aCB2YWwyXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5wdXRQYXJhbXMudmFsMiAtIHBhcnNlYWJsZSBzdHJpbmcgKHRvIGZsb2F0KSBvZiB0cmFuc2l0aW9uIGVuZXJneSAyXG4gKiBAcGFyYW0geyhzdHJpbmd8bnVsbCl9IGlucHV0UGFyYW1zLnJibSAtIG51bGwtYWJsZSBvciBlbXB0eS1hYmxlIHN0cmluZyBvZiBSQk0gZnJlcXVlbmN5XG4gKiBAcGFyYW0ge2ludH0gaW5wdXRQYXJhbXMudHlwZSAtIGVudmlyb25tZW50IHR5cGVcbiAqIEByZXR1cm5zIHtPYmplY3R9IGFzc2lnbmVkIHJlc3VsdHNcbiAqL1xuZnVuY3Rpb24gRTIoaW5wdXRQYXJhbXMpIHtcblxuICBsZXQgcmVzdWx0U3RyaW5nID0gJyc7XG4gIGxldCBwMSA9IGlucHV0UGFyYW1zLnAxLCBwMiA9IGlucHV0UGFyYW1zLnAyLCB0eXBlID0gaW5wdXRQYXJhbXMudHlwZTtcbiAgbGV0IHZhbDEgPSBwYXJzZUZsb2F0KGlucHV0UGFyYW1zLnZhbDEpLCB2YWwyID0gcGFyc2VGbG9hdChpbnB1dFBhcmFtcy52YWwyKTtcbiAgbGV0IHBfMSA9IHAxVG9QKHAxKSwgcF8yID0gcDFUb1AocDIpO1xuICBsZXQgcmJtID0gaW5wdXRQYXJhbXMucmJtOyAvLyBzdHJpbmdcblxuICAvLyBkb24ndCB1c2UgJ3dpdGgnIGJsb2NrXG4gIGlmIChwMSA+IHAyKSB7XG4gICAgW3BfMSwgcF8yXSA9IFtwXzIsIHBfMV07XG4gICAgW3ZhbDEsIHZhbDJdID0gW3ZhbDIsIHZhbDFdO1xuICAgIFtwMSwgcDJdID0gW3AyLCBwMV07XG4gIH1cblxuICBpZiAoaXNNZXRhbChwXzIpICE9PSBpc01ldGFsKHBfMSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgZm9ybSBzdWJtaXNzaW9uJyk7XG4gIH1cblxuICBpZiAocDIgLSBwMSA9PT0gMSkge1xuICAgIGxldCBibHVlUG9pbnQgPSBudWxsO1xuICAgIGlmICghaXNVbnBhcnNhYmxlKHJibSkpIHtcbiAgICAgIGxldCBhdmVyYWdlID0gZ2V0QXZlcmFnZSh2YWwyIC0gdmFsMSwgcGFyc2VGbG9hdChyYm0pLCBwXzEsIHR5cGUpO1xuICAgICAgaWYgKGF2ZXJhZ2UgIT09IG51bGwpIHtcbiAgICAgICAgYmx1ZVBvaW50ID0gW2F2ZXJhZ2UsIHZhbDIgLSB2YWwxXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXN1bHRTdHJpbmcgKz0gJ0ludmFsaWQgaW5wdXQ6IFJCTSB2YWx1ZSBvdXQgb2YgcmFuZ2UuIE9ubHkgdHJhbnNpdGlvbiBlbmVyZ2llcyBhcmUgcHJvY2Vzc2VkLiA8YnIvID4nO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gQXNzaWduKHtcbiAgICAgIHBvaW50OiBbICh2YWwxICsgdmFsMikgLyAyLCB2YWwyIC0gdmFsMSBdLFxuICAgICAgcExlc3NlcjogcF8xLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIHBvaW50VHlwZTogJ3JlZCcsXG4gICAgICBibHVlUG9pbnQ6IGJsdWVQb2ludCxcbiAgICAgIHAxTGVzc2VyOiBwMSxcbiAgICAgIHJlc3VsdFN0cmluZzogcmVzdWx0U3RyaW5nLFxuICAgICAgdW5jZXJ0YWludHk6IGlucHV0UGFyYW1zLnVuY2VydGFpbnR5XG4gICAgfSk7XG4gIH1cblxufVxuXG4vKipcbiAqIEdldCBhc3NpZ25lZCByZXN1bHRzIG9mIHByZS1wcm9jZXNzZWQgcGFyYW1ldGVycy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSBwcmUtcHJvY2Vzc2VkIHBhcmFtZXRlcnNcbiAqIEBwYXJhbSB7aW50fSBtb2Q9LTEgLSB0cmFuc2ZlcnJlZCBwcmUtcHJvY2Vzc2VkIG1vZCBpbiBFMVIxKClcbiAqIEBwYXJhbSB7YXJyYXl9IHBhcmFtcy5wb2ludCAtIHBvaW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLnBvaW50VHlwZSAtIHR5cGUgb2YgdGhlIHBvaW50LCAncmVkJyBvciAnZ3JlZW4nXG4gKiBAcGFyYW0ge2ludH0gcGFyYW1zLnBMZXNzZXIgLSBzbWFsbGVyIG9uZSBvZiB0aGUgcCBpbiB0aGUgcGxvdFxuICogQHBhcmFtIHtpbnR9IHBhcmFtcy5wMUxlc3NlciAtIHNtYWxsZXIgb25lIG9mIHRoZSBwMSBpbiB0aGUgcGxvdFxuICogQHBhcmFtIHtpbnR9IHBhcmFtcy50eXBlIC0gZW52aXJvbm1lbnQgdHlwZVxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5yZXN1bHRTdHJpbmcgLSBvdXRwdXQgcmVzdWx0XG4gKiBAcGFyYW0geyhudW1iZXJbXXxudWxsKX0gcGFyYW1zLmJsdWVQb2ludCBibHVlIHBvaW50IGlmIGV4aXN0c1xuICogQHBhcmFtIHtudW1iZXJ9IHBhcmFtcy51bmNlcnRhaW50eSAtIHVuY2VydGFpbnR5IG9mIHRoZSBpbnB1dFxuICogQHJldHVybnMge09iamVjdH0gYXNzaWduZWQgcmVzdWx0c1xuICovXG5mdW5jdGlvbiBBc3NpZ24ocGFyYW1zLCBtb2QgPSAtMSkge1xuXG4gIC8vIHBhcmFtczogcGxvdFBhcmFtc1xuICAvLyB4OiBhdmVyYWdlIHk6IHNwbGl0dGluZ1xuXG4gIGxldCB1bmNlcnRhaW50eSA9IHBhcmFtcy51bmNlcnRhaW50eTtcbiAgbGV0IGR4TWluID0gLTEsIGR4TWF4ID0gLTEsIGR5TWluID0gLTEsIGR5TWF4ID0gLTE7XG4gIGxldCBEaXN0ID0gKHgxLCB5MSwgeDIsIHkyKSA9PiBNYXRoLnNxcnQoKHgxIC0geDIpICogKHgxIC0geDIpICsgKHkxIC0geTIpICogKHkxIC0geTIpICogMjUpO1xuICBsZXQgRGlzdF8gPSAoZSkgPT4gRGlzdChlWzJdLCBlWzNdLCBwYXJhbXMucG9pbnRbMF0sIHBhcmFtcy5wb2ludFsxXSk7XG4gIGxldCBkZWx0YVggPSAwLjYsXG4gICAgbWF4WSA9IGlzTWV0YWwocGFyYW1zLnBMZXNzZXIpID8gMC42IDogcGFyYW1zLnBvaW50WzFdICsgMC42LFxuICAgIG1pblkgPSBpc01ldGFsKHBhcmFtcy5wTGVzc2VyKSA/IC0wLjEgOiBwYXJhbXMucG9pbnRbMV0gLSAwLjY7XG5cbiAgZnVuY3Rpb24gc2V0Qm91bmRzKGR4TWluXywgZHhNYXhfLCBkeU1pbl8sIGR5TWF4Xykge1xuICAgIGR4TWluID0gZHhNaW5fO1xuICAgIGR4TWF4ID0gZHhNYXhfO1xuICAgIGR5TWluID0gZHlNaW5fO1xuICAgIGR5TWF4ID0gZHlNYXhfO1xuICB9XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21paGFpZm0vbGlucSwgbWFueSB0aGFua3MgdG8geW91IVxuXG4gIHBhcmFtcy5hbGwgPSBFbnVtZXJhYmxlLmZyb20oZ2V0TGlzdChwYXJhbXMucExlc3NlciwgcGFyYW1zLnR5cGUpKVxuICAgIC53aGVyZShlID0+IChlWzJdID49IHBhcmFtcy5wb2ludFswXSAtIGRlbHRhWCAmJiBlWzJdIDw9IHBhcmFtcy5wb2ludFswXSArIGRlbHRhWCAmJlxuICAgICAgZVszXSA8PSBtYXhZICYmIGVbM10gPj0gbWluWSkpXG4gICAgLnRvQXJyYXkoKTtcblxuICBsZXQgcXVlcnkgPSBFbnVtZXJhYmxlLmZyb20ocGFyYW1zLmFsbClcbiAgICAud2hlcmUoZSA9PiAoXG4gICAgICAobW9kID09PSAtMSB8fCBpc01ldGFsKHBhcmFtcy5wTGVzc2VyKSB8fCBtb2QgPT09IE1vZChlWzBdLCBlWzFdKSkgJiZcbiAgICAgIHBhcmFtcy5wb2ludFswXSAtIGVbMl0gPj0gZHhNaW4gJiYgcGFyYW1zLnBvaW50WzBdIC0gZVsyXSA8PSBkeE1heCAmJlxuICAgICAgcGFyYW1zLnBvaW50WzFdIC0gZVszXSA+PSBkeU1pbiAmJiBwYXJhbXMucG9pbnRbMV0gLSBlWzNdIDw9IGR5TWF4XG4gICAgKSk7XG5cbiAgc2V0Qm91bmRzKC11bmNlcnRhaW50eSwgdW5jZXJ0YWludHksIC11bmNlcnRhaW50eSwgdW5jZXJ0YWludHkpO1xuICBsZXQgdWMgPSBxdWVyeS50b0FycmF5KCk7IC8vIHF1ZXJ5IG9uY2UgdG8gZ2V0IHVuY2VydGFpbnR5IHJhbmdlXG5cbiAgZnVuY3Rpb24gcHJvY2Vzc091dHB1dCgpIHtcbiAgICBwYXJhbXMucmVzdWx0ID0gcXVlcnkub3JkZXJCeShEaXN0XykudG9BcnJheSgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLnJlc3VsdC5sZW5ndGg7IGkrKylcbiAgICAgIHBhcmFtcy5yZXN1bHRTdHJpbmcgKz0gYFxuICAgICAgICA8Yj4oJHtNYXRoLnJvdW5kKHBhcmFtcy5yZXN1bHRbaV1bMF0pfSwke01hdGgucm91bmQocGFyYW1zLnJlc3VsdFtpXVsxXSl9KTwvYj5cbiAgICAgICAgJHtpICE9PSBwYXJhbXMucmVzdWx0Lmxlbmd0aCAtIDEgPyAnLCAnIDogJyd9YDtcbiAgICBwYXJhbXMucmVzdWx0U3RyaW5nICs9ICc8L3NwYW4+JztcbiAgfVxuXG4gIGlmIChwYXJhbXMucG9pbnRUeXBlID09PSAnbm9uZScpIHtcbiAgICBwYXJhbXMuYXIgPSBBc3NpZ25SZXN1bHQuZXJyb3I7XG4gICAgcGFyYW1zLnJlc3VsdCA9IFtdO1xuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICBpZiAodW5jZXJ0YWludHkgPiAwLjIpIHtcbiAgICBwYXJhbXMucmVzdWx0U3RyaW5nID0gJ0lucHV0IHVuY2VydGFpbnR5IHRvbyBsYXJnZS4gUGxlYXNlIGdpdmUgbW9yZSBzaWduaWZpY2FudCBmaWd1cmVzLic7XG4gICAgcGFyYW1zLmFyID0gQXNzaWduUmVzdWx0LmVycm9yO1xuICAgIHBhcmFtcy5yZXN1bHQgPSBbXTtcbiAgICByZXR1cm4gcGFyYW1zO1xuICB9XG5cbiAgaWYgKHBhcmFtcy5wb2ludFR5cGUgPT09ICdyZWQnKSB7XG4gICAgaWYgKHBhcmFtcy5ibHVlUG9pbnQgIT0gbnVsbCkge1xuICAgICAgaWYgKHBhcmFtcy5ibHVlUG9pbnRbMF0gLSBwYXJhbXMucG9pbnRbMF0gPCAwLjAyKSBzZXRCb3VuZHMoLTAuMDA4LCAwLjAwOCwgLTAuMDE1LCAwLjAxNSk7XG4gICAgICBlbHNlIHNldEJvdW5kcygtMC4wMzAsIC0wLjAwNSwgLTAuMDE1LCAwLjAxNSk7IC8vIGRvbid0IGNoYW5nZSBhdCB0aGlzIG1vbWVudFxuICAgIH0gZWxzZSBzZXRCb3VuZHMoLTAuMDIwLCAwLjAwOCwgLTAuMDE1LCAwLjAxNSk7XG5cbiAgICBpZiAocXVlcnkuY291bnQoKSA9PT0gMSAmJiB1Yy5sZW5ndGggPD0gMSkge1xuICAgICAgcGFyYW1zLmFyID0gQXNzaWduUmVzdWx0LmFjY3VyYXRlO1xuICAgICAgcGFyYW1zLnJlc3VsdFN0cmluZyArPSAnVGhlIGFzc2lnbm1lbnQgcmVzdWx0IGlzOjxiciAvPjxzcGFuIHN0eWxlPVwiZm9udC1zaXplOiAyOHB4O1wiPic7XG4gICAgICBwcm9jZXNzT3V0cHV0KCk7XG4gICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cbiAgICBzZXRCb3VuZHMoLTAuMDQwLCAwLjAxMjYsIC0wLjAzMCwgMC4wMzApO1xuICB9IGVsc2Ugc2V0Qm91bmRzKC0wLjA3MCwgMC4wNzAsIC0wLjA0MCwgMC4wNDApO1xuXG4gIHF1ZXJ5LnVuaW9uKHVjKTtcblxuICBpZiAocXVlcnkuY291bnQoKSA+IDApIHtcbiAgICBwYXJhbXMuYXIgPSBBc3NpZ25SZXN1bHQucG9zc2libGU7XG4gICAgcGFyYW1zLnJlc3VsdFN0cmluZyArPSAnVGhlIGxpa2VseSBhc3NpZ25tZW50cyBpbmNsdWRlOjxiciAvPjxzcGFuIHN0eWxlPVwiZm9udC1zaXplOiAyOHB4O1wiPic7XG4gICAgcHJvY2Vzc091dHB1dCgpO1xuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICAvKlxuICAqIHVzZSB0aGUgZ3JlZW4gY3JpdGVyaWEgYW5kIHF1ZXJ5IGFnYWluIGZvciBubyBtYXRjaC5cbiAgKiBhbmQgaXQncyBlYXN5IHRvIHNlZSB0aGF0IGdyZWVuIHBvaW50LCBpZiBub3QgcmV0dXJuZWQgaW4gdGhlIHByZXZpb3VzIHN0ZXAsXG4gICogd2lsbCBub3QgZ2l2ZSByZXN1bHRzIGluIHRoaXMgc3RlcC5cbiAgKi9cblxuICBzZXRCb3VuZHMoLTAuMDcwLCAwLjA3MCwgLTAuMDQwLCAwLjA0MCk7XG4gIGxldCB0bXAgPSBFbnVtZXJhYmxlLmZyb20ocGFyYW1zLmFsbCkub3JkZXJCeShEaXN0XykudG9BcnJheSgpO1xuICBpZiAoRGlzdF8odG1wWzBdKSAvIERpc3RfKHRtcFsxXSkgPD0gMC41ICYmIHF1ZXJ5LmNvdW50KCkgIT09IDApIHtcbiAgICBwYXJhbXMuYXIgPSBBc3NpZ25SZXN1bHQuaW1wb3NzaWJsZTtcbiAgICBxdWVyeSA9IEVudW1lcmFibGUuZnJvbShbIHRtcFswXSBdKTtcbiAgICBwYXJhbXMucmVzdWx0U3RyaW5nICs9ICdObyBtYXRjaC4gVGhlIG1vc3QgcG9zc2libGUgYXNzaWdubWVudCByZXN1bHQgaXM6PGJyIC8+PHNwYW4gc3R5bGU9XCJmb250LXNpemU6IDI4cHg7XCI+JztcbiAgICBwcm9jZXNzT3V0cHV0KCk7XG4gICAgcmV0dXJuIHBhcmFtcztcbiAgfVxuXG4gIHBhcmFtcy5hciA9IEFzc2lnblJlc3VsdC5lcnJvcjtcbiAgcGFyYW1zLnJlc3VsdFN0cmluZyA9ICdJbnZhbGlkIGlucHV0OiBvdXQgb2YgcmFuZ2UuIFBsZWFzZSBjaGVjayB5b3VyIGlucHV0Lic7XG4gIHBhcmFtcy5yZXN1bHQgPSBbXTtcbiAgcmV0dXJuIHBhcmFtcztcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc091dHB1dChwYXJhbXMpIHtcblxuICAvLyBwcm9jZXNzIFJCTVxuXG4gIGNvbnN0IHlNYXggPSBpc01ldGFsKHBhcmFtcy5wTGVzc2VyKSA/IDAuNTEgOiBwYXJhbXMucG9pbnRbMV0gKyAwLjQ7XG4gIGNvbnN0IHhNaW4gPSBwYXJhbXMucG9pbnRbMF0gLSAwLjUsIHhNYXggPSBwYXJhbXMucG9pbnRbMF0gKyAwLjU7XG4gIGxldCBzID0gZ2V0UkJNQXJyYXkocGFyYW1zLnBMZXNzZXIsIHBhcmFtcy50eXBlKTsgLy8ge3JibSwgcmJtTGFiZWx9XG4gIGxldCByYm0gPSBbXTtcbiAgbGV0IHJibUxhYmVsID0gW107XG4gIGxldCByYm1Qb3MgPSBbXTtcbiAgbGV0IGJldHdlZW4gPSAoeHksIHIxLCByMikgPT4gKHh5ID49IHIxICYmIHh5IDw9IHIyKSB8fCAoeHkgPj0gcjIgJiYgeHkgPD0gcjEpO1xuICBmb3IgKGxldCBpID0gMCA7IGkgPCBzLnJibS5sZW5ndGg7IGkrKykge1xuICAgIGxldCBhID0gcy5yYm1baV07XG4gICAgbGV0IHQ7XG4gICAgaWYgKGEubGVuZ3RoID09PSAyKVxuICAgICAgdCA9IChhWzBdWzBdIC0gYVsxXVswXSkgKiAoeU1heCAtIGFbMV1bMV0pIC8gKGFbMF1bMV0gLSBhWzFdWzFdKSArIGFbMV1bMF07XG4gICAgZWxzZSB7XG4gICAgICBsZXQgdTtcbiAgICAgIGlmIChiZXR3ZWVuKHlNYXgsIGFbMV1bMV0sIGFbMF1bMV0pKVxuICAgICAgICB1ID0gMDtcbiAgICAgIGVsc2UgLy8gaWYgYmV0d2VlbihhWzFdWzFdLCBhWzJdWzFdKVxuICAgICAgICB1ID0gMjtcbiAgICAgIHQgPSAoYVt1XVswXSAtIGFbMV1bMF0pICogKHlNYXggLSBhWzFdWzFdKSAvIChhW3VdWzFdIC0gYVsxXVsxXSkgKyBhWzFdWzBdO1xuICAgIH1cbiAgICBpZiAoYmV0d2Vlbih0LCB4TWF4LCB4TWluKSkge1xuICAgICAgcmJtLnB1c2gocy5yYm1baV0pO1xuICAgICAgcmJtTGFiZWwucHVzaChzLnJibUxhYmVsW2ldKTtcbiAgICAgIHJibVBvcy5wdXNoKHQpO1xuICAgIH1cbiAgfVxuICBwYXJhbXMucmJtID0gcmJtO1xuICBwYXJhbXMucmJtTGFiZWwgPSByYm1MYWJlbDtcbiAgcGFyYW1zLnJibVBvcyA9IHJibVBvcztcblxuICAvLyBwcm9jZXNzIGFsbFxuXG4gIGxldCBhbGwgPSBwYXJhbXMuYWxsOyAvLyB5b3Uga25vdywgbGF6eSBldmFsdWF0aW9uXG4gIGxldCBxID0gRW51bWVyYWJsZS5mcm9tKGFsbClcbiAgICAuZ3JvdXBCeShcbiAgICAgIGUgPT4gMiAqIGVbMF0gKyBlWzFdLCAvLyBrZXlcbiAgICAgIGUgPT4gZSwgLy8gZ3JvdXAgZWxlbWVudFxuICAgICAgKGtleSwgZ3JvdXApID0+ICh7IGtleToga2V5LCB2YWx1ZTogZ3JvdXAub3JkZXJCeShlID0+IGVbMF0pLnRvQXJyYXkoKSB9KVxuICAgICk7IC8vIHVzZSBkZWZhdWx0IGNvbXBhcmUgbWV0aG9kXG5cbiAgcGFyYW1zLmFsbCA9IHEuc2VsZWN0KGUgPT4gZS52YWx1ZS5tYXAoZWUgPT4gW2VlWzJdLCBlZVszXV0pKS50b0FycmF5KCk7XG4gIHBhcmFtcy5hbGxMYWJlbCA9IHEuc2VsZWN0KGUgPT4gZS52YWx1ZS5tYXAoZWUgPT4gW2VlWzBdLCBlZVsxXV0pKS50b0FycmF5KCk7XG5cbiAgLy8gcHJvY2VzcyByZXN1bHRcblxuICBsZXQgcmVzdWx0ID0gcGFyYW1zLnJlc3VsdDtcbiAgcGFyYW1zLnJlc3VsdCA9IHJlc3VsdC5tYXAoZSA9PiBbZVsyXSwgZVszXV0pO1xuICBwYXJhbXMucmVzdWx0TGFiZWwgPSByZXN1bHQubWFwKGUgPT4gW2VbMF0sIGVbMV1dKTtcblxuICBwYXJhbXMuaXNNZXRhbCA9IGlzTWV0YWwocGFyYW1zLnBMZXNzZXIpO1xuICBwYXJhbXMueUF4aXNMYWJlbCA9IGBcXFxcKCR7cDFOYW1lX3Jhd1twYXJhbXMucDFMZXNzZXIgKyAxXX0tJHtwMU5hbWVfcmF3W3BhcmFtcy5wMUxlc3Nlcl19XFxcXCAoXFxcXG1hdGhybXtlVn0pXFxcXClgO1xuICBwYXJhbXMueEF4aXNMYWJlbCA9IGBcXFxcKCgke3AxTmFtZV9yYXdbcGFyYW1zLnAxTGVzc2VyICsgMV19KyR7cDFOYW1lX3Jhd1twYXJhbXMucDFMZXNzZXJdfSkvMlxcXFwgKFxcXFxtYXRocm17ZVZ9KVxcXFwpYDtcblxuXG4gIC8vIHNlbGVjdCBnLk9yZGVyQnkoZWxlbSA9PiBlbGVtWzBdKTtcbiAgLy8gbm90ZSB0aGF0IGF2ZXJhZ2UgZW5lcmd5IG1heSBub3QgaW5jcmVhc2UgbW9ub3Rvbm91c2x5IGFzIG4gaW4gKG4sbSkgaW5jcmVhc2VzLlxuICAvLyB0aHVzIGVsZW0gPT4gZWxlbVsyXSBpcyB3cm9uZy5cbiAgLy8gdGVzdDogUzExID0gMS40MjAsIFMyMiA9IDIuMTM0IGFzICg2LDQpLCBzZWUgYnJhbmNoIDJuICsgbSA9IDE2XG5cblxuICByZXR1cm4gcGFyYW1zO1xufVxuIl19\n\n\n'use strict';\n\nfunction drawPlot(placeholder, params) {\n\n  var defaultRadius = 4,xMin = params.point[0] - 0.5,xMax = params.point[0] + 0.5;\n  var yMin = params.isMetal ? -0.01 : params.point[1] - 0.4,yMax = params.isMetal ? 0.45 : params.point[1] + 0.4;\n  var font = {\n    size: 20,\n    lineHeight: 20,\n    family: 'serif' };\n\n  var options = {\n    xaxis: {\n      // aver\n      show: true,\n      position: 'bottom',\n      min: xMin,\n      max: xMax,\n      font: font,\n      tickLength: 10,\n      tickColor: 'rgb(255, 0, 0)',\n      color: 'rgb(255, 0, 0)' },\n\n    yaxis: {\n      show: true,\n      min: yMin,\n      max: yMax,\n      font: font,\n      tickLength: 10,\n      tickColor: 'rgb(0, 0, 0)',\n      color: 'rgb(0, 0, 0)' },\n\n    series: {\n      hoverable: true\n      // shadowSize: 0\n    },\n    grid: {\n      borderColor: {\n        top: 'rgb(0, 0, 255)',\n        bottom: 'rgb(255, 0, 0)',\n        left: 'rgb(0, 0, 0)',\n        right: 'rgb(0, 0, 0)' },\n\n      hoverable: true,\n      minBorderMargin: 0 } };\n\n\n\n  var series = [];\n  for (var i = 0; i < params.rbm.length; i++) {\n    series.push({\n      color: 'rgb(208, 208, 208)', // use the shadow\n      data: params.rbm[i],\n      shadowSize: 5,\n      hoverable: false });}\n\n  var laser = [1240 / 785, 1240 / 633, 1240 / 532];\n  var laser_color = ['rgb(136, 136, 136)', 'rgb(245, 0, 0)', 'rgb(12, 127, 15)'];\n\n  for (var _i = 0; _i < laser.length; _i++) {\n    series = series.concat([{\n      id: 'laser' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, 2 * (-10 - laser[_i])], [10, 2 * (10 - laser[_i])]],\n      shadowSize: 0 },\n    {\n      id: 'laser_minus' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, -2 * (-10 - laser[_i])], [10, -2 * (10 - laser[_i])]],\n      shadowSize: 0 },\n    {\n      fillBetween: 'laser' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, 2 * (-10 - (laser[_i] - 0.1))], [10, 2 * (10 - (laser[_i] - 0.1))]], // 100 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0 } },\n\n    {\n      fillBetween: 'laser_minus' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, -2 * (-10 - (laser[_i] - 0.1))], [10, -2 * (10 - (laser[_i] - 0.1))]], // 100 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0 } },\n\n    {\n      fillBetween: 'laser' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, 2 * (-10 - (laser[_i] + 0.1))], [10, 2 * (10 - (laser[_i] + 0.1))]], // 200 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0 } },\n\n    {\n      fillBetween: 'laser_minus' + _i.toString(),\n      color: laser_color[_i],\n      data: [[-10, -2 * (-10 - (laser[_i] + 0.1))], [10, -2 * (10 - (laser[_i] + 0.1))]], // 200 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0 } }]);\n\n\n  }\n\n  for (var _i2 = 0; _i2 < params.all.length; _i2++) {\n    var mod_i = (params.allLabel[_i2][0][0] * 2 + params.allLabel[_i2][0][1]) % 3;\n    series.push({\n      color: params.isMetal || mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)',\n      data: params.all[_i2],\n      points: {\n        show: true,\n        radius: params.isMetal ? 78 / 0.1 * 0.015 / 2 : defaultRadius, //15 meV\n        symbol: params.isMetal ? 'circle' : mod_i === 2 ? 'square' : 'triangle' },\n\n      lines: {\n        show: true },\n\n      point_labels: params.allLabel[_i2],\n      hoverable: true });\n\n  }\n  for (var _i3 = 0; _i3 < params.result.length; _i3++) {\n    var _mod_i = (params.resultLabel[_i3][0] * 2 + params.resultLabel[_i3][1]) % 3;\n    series.push({\n      color: params.isMetal || _mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)',\n      data: [params.result[_i3]],\n      points: {\n        show: true,\n        radius: params.isMetal ? 78 / 0.1 * 0.015 / 2 : defaultRadius,\n        symbol: params.isMetal ? 'circle' : _mod_i === 2 ? 'square' : 'triangle',\n        fill: true,\n        fillColor: params.isMetal || _mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)' },\n\n      point_labels: [params.resultLabel[_i3]],\n      hoverable: true });\n\n  }\n\n\n  // blue point is diamond, otherwise square\n  if (params.pointType !== 'none') {\n    series.push({\n      color: params.pointType === 'green' ? 'rgb(12, 180, 15)' : 'rgb(255, 0, 0)',\n      data: [params.point],\n      points: {\n        show: true,\n        symbol: params.pointType === 'green' ? 'diamond' : 'square',\n        radius: defaultRadius,\n        fill: true,\n        fillColor: params.pointType === 'green' ? 'rgba(0, 0, 0, 0)' : 'rgb(255, 0, 0)' },\n\n      hoverable: false });\n\n  }\n  if (params.bluePoint !== null)\n  series.push({\n    color: 'rgb(0, 0, 255)',\n    data: [params.bluePoint],\n    points: {\n      show: true,\n      symbol: 'diamond',\n      radius: defaultRadius,\n      fill: true,\n      fillColor: 'rgba(0, 0, 0, 0)' },\n\n    hoverable: false,\n    shadowSize: 0 });\n\n\n  var $placeholder = $('#' + placeholder);\n  var plot = $.plot($placeholder, series, options);\n\n  var previousPoint = null;\n  $placeholder.bind('plothover', function (event, pos, item) {\n    if (item) {\n      if (previousPoint !== item.dataIndex) {\n        previousPoint = item.dataIndex;\n        $('#tooltip').remove();\n        showTooltip(item.pageX, item.pageY, '(' +\n        item.series.point_labels[item.dataIndex][0] + ', ' + item.series.point_labels[item.dataIndex][1] + ')');\n      }\n    } else {\n      $('#tooltip').remove();\n      previousPoint = null;\n    }\n  });\n\n  if (params.isMetal) {\n    for (var _i4 = 0; _i4 < params.all.length; _i4++) {\n      var s = Math.floor(params.all.length / 2);\n      var p = params.all[_i4][params.all[_i4].length - 1];\n      var p1 = params.allLabel[_i4][params.all[_i4].length - 1];\n      var o = plot.pointOffset({ x: p[0], y: p[1] });\n      var axes = plot.getAxes();\n      var xaxis = axes.xaxis,yaxis = axes.yaxis;\n      if (_i4 % 2 === s % 2 && p[0] <= xaxis.max && p[0] >= xaxis.min &&\n      p[1] <= yaxis.max - 0.05 && p[1] >= yaxis.min + 0.05)\n      $placeholder.append('\\n                    <div class=\"series_label\" style=\"left: ' + (\n      o.left - (_i4 === s ? 60 : 10)) + 'px; top: ' + (o.top - 30) + 'px;\">\\n                        <p>' + (\n      _i4 === s ? '2<i>n</i>+<i>m</i>=' : '') + (p1[0] * 2 + p1[1]) + '</p>\\n                    </div>\\n                ');\n\n\n    }\n  } else {\n    var mid = Math.round(params.all.length / 2);\n    var pMid = params.allLabel[mid][params.all[mid].length - 1];\n    var divMid = Math.floor((pMid[0] * 2 + pMid[1]) / 3); //use ceil, for right is scattered, left is dense\n\n    for (var _i5 = 0; _i5 < params.all.length; _i5++) {\n      var _p = params.all[_i5][params.all[_i5].length - 1];\n      var _p2 = params.allLabel[_i5][params.all[_i5].length - 1];\n      var _o = plot.pointOffset({ x: _p[0], y: _p[1] });\n      var _axes = plot.getAxes();\n      var _xaxis = _axes.xaxis,_yaxis = _axes.yaxis;\n      var div = Math.round((_p2[0] * 2 + _p2[1]) / 3);\n      var mod = (_p2[0] * 2 + _p2[1]) % 3;\n      if (divMid % 2 === div % 2) {\n        if (_p[0] <= _xaxis.max - 0.02 && _p[0] >= _xaxis.min + 0.02 && _p[1] <= _yaxis.max - 0.1 &&\n        _p[1] >= _yaxis.min + 0.1) {\n          var dA = {\n            color: mod === 1 ? '#FF0000' : '#000000',\n            left: _o.left - (divMid === div ? 60 : 10),\n            top: _o.top - (mod === 1 ? -15 :\n            divMid === div && _p[1] <= _yaxis.max - 0.15 && _p[1] >= _yaxis.min + 0.18 ? 60 : 30),\n\n\n            c1: divMid !== div ?\n            '' :\n            (mod === 2 && _p[1] <= _yaxis.max - 0.15 ?\n            '<b>MOD2</b><br/>' :\n            '') + '2<i>n</i>+<i>m</i>=',\n            c2: _p2[0] * 2 + _p2[1],\n            c3: divMid === div && mod === 1 && _p[1] >= _yaxis.min + 0.12 ?\n            '<br/><b>MOD1</b>' :\n            '' };\n\n          $placeholder.append('\\n                        <div class=\"series_label\" style=\"color:' +\n          dA.color + ';left:' + dA.left + 'px;top:' + (dA.top - 0) + 'px;\">\\n                            <p>' +\n          dA.c1 + dA.c2 + dA.c3 + '</p>\\n                        </div>\\n                    ');\n\n          // workaround to let editor know that dA.top is integer\n        }\n      }\n    }\n  }\n\n  for (var _i6 = 0; _i6 < params.rbm.length; _i6++) {\n    if (_i6 % 2 === 0 || params.rbm.length === 1) {\n      var o1 = plot.pointOffset({ x: params.rbmPos[_i6], y: yMax });\n      $placeholder.append('\\n                <div class=\"rbm_label\" style=\"left:' + (\n      o1.left - 15) + 'px;top:' + (o1.top - 30) + 'px;\">\\n                    <p>' +\n      params.rbmLabel[_i6] + '</p>\\n                </div>\\n            ');\n\n\n    }\n  }\n}\n\nfunction showTooltip(x, y, contents) {\n  $('\\n        <div id=\"tooltip\" class=\"tooltip right in\">\\n            <div class=\"tooltip-arrow\" style=\"top: 50%;\"></div>\\n            <div class=\"tooltip-inner\">' +\n\n\n  contents + '</div>\\n        </div>\\n    ').\n\n\n  css({\n    display: 'block',\n    top: y,\n    left: x }).\n  appendTo('body').fadeIn(200);\n}\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBsb3QuanMiXSwibmFtZXMiOlsiZHJhd1Bsb3QiLCJwbGFjZWhvbGRlciIsInBhcmFtcyIsImRlZmF1bHRSYWRpdXMiLCJ4TWluIiwicG9pbnQiLCJ4TWF4IiwieU1pbiIsImlzTWV0YWwiLCJ5TWF4IiwiZm9udCIsInNpemUiLCJsaW5lSGVpZ2h0IiwiZmFtaWx5Iiwib3B0aW9ucyIsInhheGlzIiwic2hvdyIsInBvc2l0aW9uIiwibWluIiwibWF4IiwidGlja0xlbmd0aCIsInRpY2tDb2xvciIsImNvbG9yIiwieWF4aXMiLCJzZXJpZXMiLCJob3ZlcmFibGUiLCJncmlkIiwiYm9yZGVyQ29sb3IiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJtaW5Cb3JkZXJNYXJnaW4iLCJpIiwicmJtIiwibGVuZ3RoIiwicHVzaCIsImRhdGEiLCJzaGFkb3dTaXplIiwibGFzZXIiLCJsYXNlcl9jb2xvciIsImNvbmNhdCIsImlkIiwidG9TdHJpbmciLCJmaWxsQmV0d2VlbiIsImxpbmVzIiwiZmlsbCIsImxpbmVXaWR0aCIsImFsbCIsIm1vZF9pIiwiYWxsTGFiZWwiLCJwb2ludHMiLCJyYWRpdXMiLCJzeW1ib2wiLCJwb2ludF9sYWJlbHMiLCJyZXN1bHQiLCJyZXN1bHRMYWJlbCIsImZpbGxDb2xvciIsInBvaW50VHlwZSIsImJsdWVQb2ludCIsIiRwbGFjZWhvbGRlciIsIiQiLCJwbG90IiwicHJldmlvdXNQb2ludCIsImJpbmQiLCJldmVudCIsInBvcyIsIml0ZW0iLCJkYXRhSW5kZXgiLCJyZW1vdmUiLCJzaG93VG9vbHRpcCIsInBhZ2VYIiwicGFnZVkiLCJzIiwiTWF0aCIsImZsb29yIiwicCIsInAxIiwibyIsInBvaW50T2Zmc2V0IiwieCIsInkiLCJheGVzIiwiZ2V0QXhlcyIsImFwcGVuZCIsIm1pZCIsInJvdW5kIiwicE1pZCIsImRpdk1pZCIsImRpdiIsIm1vZCIsImRBIiwiYzEiLCJjMiIsImMzIiwibzEiLCJyYm1Qb3MiLCJyYm1MYWJl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QVdDLE1BQVgsS0FBc0IsQ0FBekMsRUFBNEM7QUFDMUMsVUFBSTRELEtBQUtqQyxLQUFLaUIsV0FBTCxDQUFpQixFQUFFQyxHQUFHOUUsT0FBTzhGLE1BQVAsQ0FBYy9ELEdBQWQsQ0FBTCxFQUF1QmdELEdBQUd4RSxJQUExQixFQUFqQixDQUFUO0FBQ0FtRCxtQkFBYXdCLE1BQWI7QUFDK0NXLFNBQUdqRSxJQUFILEdBQVUsRUFEekQsaUJBQ3FFaUUsR0FBR25FLEdBQUgsR0FBUyxFQUQ5RTtBQUVtQjFCLGFBQU8rRixRQUFQLENBQWdCaEUsR0FBaEIsQ0FGbkI7OztBQUtEO0FBQ0Y7QUFDRjs7QUFFRCxTQUFTcUMsV0FBVCxDQUFxQlUsQ0FBckIsRUFBd0JDLENBQXhCLEVBQTJCaUIsUUFBM0IsRUFBcUM7QUFDbkNyQzs7O0FBR3VDcUMsVUFIdkM7OztBQU1HQyxLQU5ILENBTU87QUFDSEMsYUFBUyxPQUROO0FBRUh4RSxTQUFLcUQsQ0FGRjtBQUdIbkQsVUFBTWtELENBSEgsRUFOUDtBQVVLcUIsVUFWTCxDQVVjLE1BVmQsRUFVc0JDLE1BVnRCLENBVTZCLEdBVjdCO0FBV0QiLCJmaWxlIjoiUGxvdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBkcmF3UGxvdChwbGFjZWhvbGRlciwgcGFyYW1zKSB7XG5cbiAgbGV0IGRlZmF1bHRSYWRpdXMgPSA0LCB4TWluID0gcGFyYW1zLnBvaW50WzBdIC0gMC41LCB4TWF4ID0gcGFyYW1zLnBvaW50WzBdICsgMC41O1xuICBsZXQgeU1pbiA9IHBhcmFtcy5pc01ldGFsID8gLTAuMDEgOiBwYXJhbXMucG9pbnRbMV0gLSAwLjQsIHlNYXggPSBwYXJhbXMuaXNNZXRhbCA/IDAuNDUgOiBwYXJhbXMucG9pbnRbMV0gKyAwLjQ7XG4gIGxldCBmb250ID0ge1xuICAgIHNpemU6IDIwLFxuICAgIGxpbmVIZWlnaHQ6IDIwLFxuICAgIGZhbWlseTogJ3NlcmlmJ1xuICB9O1xuICBsZXQgb3B0aW9ucyA9IHtcbiAgICB4YXhpczoge1xuICAgICAgLy8gYXZlclxuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIHBvc2l0aW9uOiAnYm90dG9tJyxcbiAgICAgIG1pbjogeE1pbixcbiAgICAgIG1heDogeE1heCxcbiAgICAgIGZvbnQ6IGZvbnQsXG4gICAgICB0aWNrTGVuZ3RoOiAxMCxcbiAgICAgIHRpY2tDb2xvcjogJ3JnYigyNTUsIDAsIDApJyxcbiAgICAgIGNvbG9yOiAncmdiKDI1NSwgMCwgMCknXG4gICAgfSxcbiAgICB5YXhpczoge1xuICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgIG1pbjogeU1pbixcbiAgICAgIG1heDogeU1heCxcbiAgICAgIGZvbnQ6IGZvbnQsXG4gICAgICB0aWNrTGVuZ3RoOiAxMCxcbiAgICAgIHRpY2tDb2xvcjogJ3JnYigwLCAwLCAwKScsXG4gICAgICBjb2xvcjogJ3JnYigwLCAwLCAwKSdcbiAgICB9LFxuICAgIHNlcmllczoge1xuICAgICAgaG92ZXJhYmxlOiB0cnVlXG4gICAgICAvLyBzaGFkb3dTaXplOiAwXG4gICAgfSxcbiAgICBncmlkOiB7XG4gICAgICBib3JkZXJDb2xvcjoge1xuICAgICAgICB0b3A6ICdyZ2IoMCwgMCwgMjU1KScsXG4gICAgICAgIGJvdHRvbTogJ3JnYigyNTUsIDAsIDApJyxcbiAgICAgICAgbGVmdDogJ3JnYigwLCAwLCAwKScsXG4gICAgICAgIHJpZ2h0OiAncmdiKDAsIDAsIDApJ1xuICAgICAgfSxcbiAgICAgIGhvdmVyYWJsZTogdHJ1ZSxcbiAgICAgIG1pbkJvcmRlck1hcmdpbjogMFxuICAgIH1cbiAgfTtcblxuICBsZXQgc2VyaWVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyYW1zLnJibS5sZW5ndGg7IGkrKylcbiAgICBzZXJpZXMucHVzaCh7XG4gICAgICBjb2xvcjogJ3JnYigyMDgsIDIwOCwgMjA4KScsIC8vIHVzZSB0aGUgc2hhZG93XG4gICAgICBkYXRhOiBwYXJhbXMucmJtW2ldLFxuICAgICAgc2hhZG93U2l6ZTogNSxcbiAgICAgIGhvdmVyYWJsZTogZmFsc2VcbiAgICB9KTtcbiAgbGV0IGxhc2VyID0gWzEyNDAgLyA3ODUsIDEyNDAgLyA2MzMsIDEyNDAgLyA1MzJdO1xuICBsZXQgbGFzZXJfY29sb3IgPSBbJ3JnYigxMzYsIDEzNiwgMTM2KScsICdyZ2IoMjQ1LCAwLCAwKScsICdyZ2IoMTIsIDEyNywgMTUpJ107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXNlci5sZW5ndGg7IGkrKykge1xuICAgIHNlcmllcyA9IHNlcmllcy5jb25jYXQoW3tcbiAgICAgIGlkOiBgbGFzZXIke2kudG9TdHJpbmcoKX1gLFxuICAgICAgY29sb3I6IGxhc2VyX2NvbG9yW2ldLFxuICAgICAgZGF0YTogW1stMTAsIDIgKiAoLTEwIC0gbGFzZXJbaV0pXSwgWzEwLCAyICogKDEwIC0gbGFzZXJbaV0pXV0sXG4gICAgICBzaGFkb3dTaXplOiAwXG4gICAgfSwge1xuICAgICAgaWQ6IGBsYXNlcl9taW51cyR7aS50b1N0cmluZygpfWAsXG4gICAgICBjb2xvcjogbGFzZXJfY29sb3JbaV0sXG4gICAgICBkYXRhOiBbWy0xMCwgLTIgKiAoLTEwIC0gbGFzZXJbaV0pXSwgWzEwLCAtMiAqICgxMCAtIGxhc2VyW2ldKV1dLFxuICAgICAgc2hhZG93U2l6ZTogMFxuICAgIH0sIHtcbiAgICAgIGZpbGxCZXR3ZWVuOiBgbGFzZXIke2kudG9TdHJpbmcoKX1gLFxuICAgICAgY29sb3I6IGxhc2VyX2NvbG9yW2ldLFxuICAgICAgZGF0YTogW1stMTAsIDIgKiAoLTEwIC0gKGxhc2VyW2ldIC0gMC4xKSldLCBbMTAsIDIgKiAoMTAgLSAobGFzZXJbaV0gLSAwLjEpKV1dLCAvLyAxMDAgbWVWXG4gICAgICBsaW5lczoge1xuICAgICAgICBmaWxsOiAwLjMsXG4gICAgICAgIGxpbmVXaWR0aDogMFxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpbGxCZXR3ZWVuOiBgbGFzZXJfbWludXMke2kudG9TdHJpbmcoKX1gLFxuICAgICAgY29sb3I6IGxhc2VyX2NvbG9yW2ldLFxuICAgICAgZGF0YTogW1stMTAsIC0yICogKC0xMCAtIChsYXNlcltpXSAtIDAuMSkpXSwgWzEwLCAtMiAqICgxMCAtIChsYXNlcltpXSAtIDAuMSkpXV0sIC8vIDEwMCBtZVZcbiAgICAgIGxpbmVzOiB7XG4gICAgICAgIGZpbGw6IDAuMyxcbiAgICAgICAgbGluZVdpZHRoOiAwXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmlsbEJldHdlZW46IGBsYXNlciR7aS50b1N0cmluZygpfWAsXG4gICAgICBjb2xvcjogbGFzZXJfY29sb3JbaV0sXG4gICAgICBkYXRhOiBbWy0xMCwgMiAqICgtMTAgLSAobGFzZXJbaV0gKyAwLjEpKV0sIFsxMCwgMiAqICgxMCAtIChsYXNlcltpXSArIDAuMSkpXV0sIC8vIDIwMCBtZVZcbiAgICAgIGxpbmVzOiB7XG4gICAgICAgIGZpbGw6IDAuMyxcbiAgICAgICAgbGluZVdpZHRoOiAwXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmlsbEJldHdlZW46IGBsYXNlcl9taW51cyR7aS50b1N0cmluZygpfWAsXG4gICAgICBjb2xvcjogbGFzZXJfY29sb3JbaV0sXG4gICAgICBkYXRhOiBbWy0xMCwgLTIgKiAoLTEwIC0gKGxhc2VyW2ldICsgMC4xKSldLCBbMTAsIC0yICogKDEwIC0gKGxhc2VyW2ldICsgMC4xKSldXSwgLy8gMjAwIG1lVlxuICAgICAgbGluZXM6IHtcbiAgICAgICAgZmlsbDogMC4zLFxuICAgICAgICBsaW5lV2lkdGg6IDBcbiAgICAgIH1cbiAgICB9XSk7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5hbGwubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbW9kX2kgPSAocGFyYW1zLmFsbExhYmVsW2ldWzBdWzBdICogMiArIHBhcmFtcy5hbGxMYWJlbFtpXVswXVsxXSkgJSAzO1xuICAgIHNlcmllcy5wdXNoKHtcbiAgICAgIGNvbG9yOiBwYXJhbXMuaXNNZXRhbCB8fCBtb2RfaSA9PT0gMiA/ICdyZ2IoMCwgMCwgMCknIDogJ3JnYigyNTUsIDAsIDApJyxcbiAgICAgIGRhdGE6IHBhcmFtcy5hbGxbaV0sXG4gICAgICBwb2ludHM6IHtcbiAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgcmFkaXVzOiBwYXJhbXMuaXNNZXRhbCA/IDc4IC8gMC4xICogMC4wMTUgLyAyICA6IGRlZmF1bHRSYWRpdXMsIC8vMTUgbWVWXG4gICAgICAgIHN5bWJvbDogcGFyYW1zLmlzTWV0YWwgPyAnY2lyY2xlJyA6IG1vZF9pID09PSAyID8gJ3NxdWFyZScgOiAndHJpYW5nbGUnXG4gICAgICB9LFxuICAgICAgbGluZXM6IHtcbiAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgfSxcbiAgICAgIHBvaW50X2xhYmVsczogcGFyYW1zLmFsbExhYmVsW2ldLFxuICAgICAgaG92ZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMucmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IG1vZF9pID0gKHBhcmFtcy5yZXN1bHRMYWJlbFtpXVswXSAqIDIgKyBwYXJhbXMucmVzdWx0TGFiZWxbaV1bMV0pICUgMztcbiAgICBzZXJpZXMucHVzaCh7XG4gICAgICBjb2xvcjogcGFyYW1zLmlzTWV0YWwgfHwgbW9kX2kgPT09IDIgPyAncmdiKDAsIDAsIDApJyA6ICdyZ2IoMjU1LCAwLCAwKScsXG4gICAgICBkYXRhOiBbcGFyYW1zLnJlc3VsdFtpXV0sXG4gICAgICBwb2ludHM6IHtcbiAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgcmFkaXVzOiBwYXJhbXMuaXNNZXRhbCA/IDc4IC8gMC4xICogMC4wMTUgLyAyIDogZGVmYXVsdFJhZGl1cyxcbiAgICAgICAgc3ltYm9sOiBwYXJhbXMuaXNNZXRhbCA/ICdjaXJjbGUnIDogbW9kX2kgPT09IDIgPyAnc3F1YXJlJyA6ICd0cmlhbmdsZScsXG4gICAgICAgIGZpbGw6IHRydWUsXG4gICAgICAgIGZpbGxDb2xvcjogcGFyYW1zLmlzTWV0YWwgfHwgbW9kX2kgPT09IDIgPyAncmdiKDAsIDAsIDApJyA6ICdyZ2IoMjU1LCAwLCAwKSdcbiAgICAgIH0sXG4gICAgICBwb2ludF9sYWJlbHM6IFtwYXJhbXMucmVzdWx0TGFiZWxbaV1dLFxuICAgICAgaG92ZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuXG4gIC8vIGJsdWUgcG9pbnQgaXMgZGlhbW9uZCwgb3RoZXJ3aXNlIHNxdWFyZVxuICBpZiAocGFyYW1zLnBvaW50VHlwZSAhPT0gJ25vbmUnKSB7XG4gICAgc2VyaWVzLnB1c2goe1xuICAgICAgY29sb3I6IHBhcmFtcy5wb2ludFR5cGUgPT09ICdncmVlbicgPyAncmdiKDEyLCAxODAsIDE1KScgOiAncmdiKDI1NSwgMCwgMCknLFxuICAgICAgZGF0YTogW3BhcmFtcy5wb2ludF0sXG4gICAgICBwb2ludHM6IHtcbiAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgc3ltYm9sOiBwYXJhbXMucG9pbnRUeXBlID09PSAnZ3JlZW4nID8gJ2RpYW1vbmQnIDogJ3NxdWFyZScsXG4gICAgICAgIHJhZGl1czogZGVmYXVsdFJhZGl1cyxcbiAgICAgICAgZmlsbDogdHJ1ZSxcbiAgICAgICAgZmlsbENvbG9yOiBwYXJhbXMucG9pbnRUeXBlID09PSAnZ3JlZW4nID8gJ3JnYmEoMCwgMCwgMCwgMCknIDogJ3JnYigyNTUsIDAsIDApJ1xuICAgICAgfSxcbiAgICAgIGhvdmVyYWJsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBpZiAocGFyYW1zLmJsdWVQb2ludCAhPT0gbnVsbClcbiAgICBzZXJpZXMucHVzaCh7XG4gICAgICBjb2xvcjogJ3JnYigwLCAwLCAyNTUpJyxcbiAgICAgIGRhdGE6IFtwYXJhbXMuYmx1ZVBvaW50XSxcbiAgICAgIHBvaW50czoge1xuICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICBzeW1ib2w6ICdkaWFtb25kJyxcbiAgICAgICAgcmFkaXVzOiBkZWZhdWx0UmFkaXVzLFxuICAgICAgICBmaWxsOiB0cnVlLFxuICAgICAgICBmaWxsQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDApJ1xuICAgICAgfSxcbiAgICAgIGhvdmVyYWJsZTogZmFsc2UsXG4gICAgICBzaGFkb3dTaXplOiAwXG4gICAgfSk7XG5cbiAgbGV0ICRwbGFjZWhvbGRlciA9ICQoYCMke3BsYWNlaG9sZGVyfWApO1xuICBsZXQgcGxvdCA9ICQucGxvdCgkcGxhY2Vob2xkZXIsIHNlcmllcywgb3B0aW9ucyk7XG5cbiAgbGV0IHByZXZpb3VzUG9pbnQgPSBudWxsO1xuICAkcGxhY2Vob2xkZXIuYmluZCgncGxvdGhvdmVyJywgZnVuY3Rpb24oZXZlbnQsIHBvcywgaXRlbSkge1xuICAgIGlmIChpdGVtKSB7XG4gICAgICBpZiAocHJldmlvdXNQb2ludCAhPT0gaXRlbS5kYXRhSW5kZXgpIHtcbiAgICAgICAgcHJldmlvdXNQb2ludCA9IGl0ZW0uZGF0YUluZGV4O1xuICAgICAgICAkKCcjdG9vbHRpcCcpLnJlbW92ZSgpO1xuICAgICAgICBzaG93VG9vbHRpcChpdGVtLnBhZ2VYLCBpdGVtLnBhZ2VZLFxuICAgICAgICAgIGAoJHtpdGVtLnNlcmllcy5wb2ludF9sYWJlbHNbaXRlbS5kYXRhSW5kZXhdWzBdfSwgJHtpdGVtLnNlcmllcy5wb2ludF9sYWJlbHNbaXRlbS5kYXRhSW5kZXhdWzFdfSlgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgJCgnI3Rvb2x0aXAnKS5yZW1vdmUoKTtcbiAgICAgIHByZXZpb3VzUG9pbnQgPSBudWxsO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHBhcmFtcy5pc01ldGFsKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMuYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcyA9IE1hdGguZmxvb3IocGFyYW1zLmFsbC5sZW5ndGggLyAyKTtcbiAgICAgIGxldCBwID0gcGFyYW1zLmFsbFtpXVtwYXJhbXMuYWxsW2ldLmxlbmd0aCAtIDFdO1xuICAgICAgbGV0IHAxID0gcGFyYW1zLmFsbExhYmVsW2ldW3BhcmFtcy5hbGxbaV0ubGVuZ3RoIC0gMV07XG4gICAgICBsZXQgbyA9IHBsb3QucG9pbnRPZmZzZXQoeyB4OiBwWzBdLCB5OiBwWzFdIH0pO1xuICAgICAgbGV0IGF4ZXMgPSBwbG90LmdldEF4ZXMoKTtcbiAgICAgIGxldCB4YXhpcyA9IGF4ZXMueGF4aXMsIHlheGlzID0gYXhlcy55YXhpcztcbiAgICAgIGlmIChpICUgMiA9PT0gcyAlIDIgJiYgcFswXSA8PSB4YXhpcy5tYXggJiYgcFswXSA+PSB4YXhpcy5taW4gJiZcbiAgICAgICAgcFsxXSA8PSB5YXhpcy5tYXggLSAwLjA1ICYmIHBbMV0gPj0geWF4aXMubWluICsgMC4wNSlcbiAgICAgICAgJHBsYWNlaG9sZGVyLmFwcGVuZChgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXJpZXNfbGFiZWxcIiBzdHlsZT1cImxlZnQ6ICR7by5sZWZ0IC0gKGkgPT09IHMgPyA2MCA6IDEwKX1weDsgdG9wOiAke28udG9wIC0gMzB9cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD4ke2kgPT09IHMgPyAnMjxpPm48L2k+KzxpPm08L2k+PScgOiAnJ30ke3AxWzBdICogMiArIHAxWzFdfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgYCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBtaWQgPSBNYXRoLnJvdW5kKHBhcmFtcy5hbGwubGVuZ3RoIC8gMik7XG4gICAgbGV0IHBNaWQgPSBwYXJhbXMuYWxsTGFiZWxbbWlkXVtwYXJhbXMuYWxsW21pZF0ubGVuZ3RoIC0gMV07XG4gICAgbGV0IGRpdk1pZCA9IE1hdGguZmxvb3IoKHBNaWRbMF0gKiAyICsgcE1pZFsxXSkgLyAzKTsgLy91c2UgY2VpbCwgZm9yIHJpZ2h0IGlzIHNjYXR0ZXJlZCwgbGVmdCBpcyBkZW5zZVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMuYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcCA9IHBhcmFtcy5hbGxbaV1bcGFyYW1zLmFsbFtpXS5sZW5ndGggLSAxXTtcbiAgICAgIGxldCBwMSA9IHBhcmFtcy5hbGxMYWJlbFtpXVtwYXJhbXMuYWxsW2ldLmxlbmd0aCAtIDFdO1xuICAgICAgbGV0IG8gPSBwbG90LnBvaW50T2Zmc2V0KHsgeDogcFswXSwgeTogcFsxXSB9KTtcbiAgICAgIGxldCBheGVzID0gcGxvdC5nZXRBeGVzKCk7XG4gICAgICBsZXQgeGF4aXMgPSBheGVzLnhheGlzLCB5YXhpcyA9IGF4ZXMueWF4aXM7XG4gICAgICBsZXQgZGl2ID0gTWF0aC5yb3VuZCgocDFbMF0gKiAyICsgcDFbMV0pIC8gMyk7XG4gICAgICBsZXQgbW9kID0gKHAxWzBdICogMiArIHAxWzFdKSAlIDM7XG4gICAgICBpZiAoZGl2TWlkICUgMiA9PT0gZGl2ICUgMikge1xuICAgICAgICBpZiAocFswXSA8PSB4YXhpcy5tYXggLSAwLjAyICYmIHBbMF0gPj0geGF4aXMubWluICsgMC4wMiAmJiBwWzFdIDw9IHlheGlzLm1heCAtIDAuMSAmJlxuICAgICAgICAgIHBbMV0gPj0geWF4aXMubWluICsgMC4xKSB7XG4gICAgICAgICAgbGV0IGRBID0ge1xuICAgICAgICAgICAgY29sb3I6IG1vZCA9PT0gMSA/ICcjRkYwMDAwJyA6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIGxlZnQ6IG8ubGVmdCAtIChkaXZNaWQgPT09IGRpdiA/IDYwIDogMTApLFxuICAgICAgICAgICAgdG9wOiBvLnRvcCAtIChtb2QgPT09IDEgPyAtMTUgOiAoXG4gICAgICAgICAgICAgICAgZGl2TWlkID09PSBkaXYgJiYgcFsxXSA8PSB5YXhpcy5tYXggLSAwLjE1ICYmIHBbMV0gPj0geWF4aXMubWluICsgMC4xOCA/IDYwIDogMzBcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGMxOiBkaXZNaWQgIT09IGRpdlxuICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgIDogKChtb2QgPT09IDIgJiYgcFsxXSA8PSB5YXhpcy5tYXggLSAwLjE1XG4gICAgICAgICAgICAgICAgPyAnPGI+TU9EMjwvYj48YnIvPidcbiAgICAgICAgICAgICAgICA6ICcnKSArICcyPGk+bjwvaT4rPGk+bTwvaT49JyksXG4gICAgICAgICAgICBjMjogcDFbMF0gKiAyICsgcDFbMV0sXG4gICAgICAgICAgICBjMzogZGl2TWlkID09PSBkaXYgJiYgbW9kID09PSAxICYmIHBbMV0gPj0geWF4aXMubWluICsgMC4xMlxuICAgICAgICAgICAgICA/ICc8YnIvPjxiPk1PRDE8L2I+J1xuICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgfTtcbiAgICAgICAgICAkcGxhY2Vob2xkZXIuYXBwZW5kKGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXJpZXNfbGFiZWxcIiBzdHlsZT1cImNvbG9yOiR7ZEEuY29sb3J9O2xlZnQ6JHtkQS5sZWZ0fXB4O3RvcDoke2RBLnRvcCAtIDB9cHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHtkQS5jMX0ke2RBLmMyfSR7ZEEuYzN9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIGApOyAvLyB3b3JrYXJvdW5kIHRvIGxldCBlZGl0b3Iga25vdyB0aGF0IGRBLnRvcCBpcyBpbnRlZ2VyXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5yYm0ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSAlIDIgPT09IDAgfHwgcGFyYW1zLnJibS5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxldCBvMSA9IHBsb3QucG9pbnRPZmZzZXQoeyB4OiBwYXJhbXMucmJtUG9zW2ldLCB5OiB5TWF4IH0pO1xuICAgICAgJHBsYWNlaG9sZGVyLmFwcGVuZChgXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJibV9sYWJlbFwiIHN0eWxlPVwibGVmdDoke28xLmxlZnQgLSAxNX1weDt0b3A6JHtvMS50b3AgLSAzMH1weDtcIj5cbiAgICAgICAgICAgICAgICAgICAgPHA+JHtwYXJhbXMucmJtTGFiZWxbaV19PC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNob3dUb29sdGlwKHgsIHksIGNvbnRlbnRzKSB7XG4gICQoYFxuICAgICAgICA8ZGl2IGlkPVwidG9vbHRpcFwiIGNsYXNzPVwidG9vbHRpcCByaWdodCBpblwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIiBzdHlsZT1cInRvcDogNTAlO1wiPjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvb2x0aXAtaW5uZXJcIj4ke2NvbnRlbnRzfTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICBgKVxuICAgIC5jc3Moe1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgIHRvcDogeSxcbiAgICAgIGxlZnQ6IHhcbiAgICB9KS5hcHBlbmRUbygnYm9keScpLmZhZGVJbigyMDApO1xufVxuXG4iXX0=\n\n\n'use strict';\n\nvar timeLoad = performance.now(); // before load\nvar timeStartup = void 0;\n\n$.getScript(navigator.language.substr(0, 2).toLowerCase() !== \"zh\" ?\n\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js\" :\n\"https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js\" +\n\"?config=TeX-AMS_SVG-full,Safe&locale=en\", function () {\n  timeStartup = performance.now();\n  console.log(\"MathJax load takes \" + (timeStartup - timeLoad).toFixed(2));\n});\n\nvar urlParams = {};\n(window.onpopstate = function () {\n  var match = void 0,\n  pl = /\\+/g, // Regex for replacing addition symbol with a space\n  search = /([^&=]+)=?([^&]*)/g,\n  decode = function decode(s) {return decodeURIComponent(s.replace(pl, \" \"));},\n  query = window.location.search.substring(1);\n\n  urlParams = {};\n  while (match = search.exec(query)) {\n    urlParams[decode(match[1])] = decode(match[2]);}\n})();\n\nif (/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)) {\n  $('.selectpicker').selectpicker('mobile');\n}\n\nvar $body = $(\"body\");\n\n/*\n                        * Step 1\n                        */\n\nif ($body.hasClass(\"Step1\")) {\n\n  var $selectType = $(\"#slType\");\n  for (var i = 0; i < typeName.length; i++) {\n    $selectType.append(\"<option value=\\\"\" + i + \"\\\">\" + typeName[i] + \"</option>\");}\n\n  $selectType.selectpicker('val', 0).\n  selectpicker('refresh').\n  on(\"loaded.bs.select\", clearTitle).\n  on('changed.bs.select', clearTitle);\n\n}\n\n/*\n   * Step 2\n   */\n\nif ($body.hasClass('Step2')) {\n\n  var type = parseInt(urlParams['Type']); // '', ' ' will be converted to NaN in this process.\n  if (isNaN(type) || type > 5 || type < 0)\n  location.href = 'Step1.html';\n\n  var $selectP1 = $('#slP1'),$selectP2 = $('#slP2'),_$selectType = $('#slType');\n  var $selectP1P2 = $('#slP1, #slP2');\n\n  $('#title')[0].innerHTML += ' <small>' + typeName[type] + '</small>';\n\n  var $dataTables = $('#dataTables');\n  $dataTables.find(\".type\" + type).removeClass('hidden');\n  for (var _i = 0; _i < 6; _i++) {\n    if (_i === type) continue;\n    $dataTables.find(\".type\" + _i + \".hidden\").remove(); // MathJax will process hidden elements if not removed\n  }\n\n  // generate options\n\n  for (var _i2 = 0; _i2 < p1Name.length; _i2++) {\n    if (type >= 3) {\n      var threshold = type === 3 ? 8 : 2;\n      if (_i2 >= threshold) break;\n    }\n    $selectP1P2.append(\"<option value=\\\"\" + _i2 + \"\\\">\" + p1Name[_i2] + \"</option>\");\n  }\n  for (var _i3 = 0; _i3 < typeName.length; _i3++) {\n    _$selectType.append(\"<option value=\\\"\" + _i3 + \"\\\">\" + typeName[_i3] + \"</option>\");}\n\n  // start recovering\n\n  if (['P1', 'P2', 'Val1', 'Val2', 'RBM'].every(function (e) {return urlParams[e] !== undefined;})) {\n\n    var params = {\n      p1: parseInt(urlParams['P1']), // int\n      p2: parseInt(urlParams['P2']), // int\n      val1: urlParams['Val1'], // empty-able str\n      val2: urlParams['Val2'], // empty-able str\n      rbm: urlParams['RBM'] // empty-able str\n    };\n\n    var valueBetween = function valueBetween(xy, a, b) {return xy >= a && xy <= b;};\n    var val1_ = parseFloat(params.val1),val2_ = parseFloat(params.val2),rbm_ = parseFloat(params.rbm);\n\n    var emptyNum = Number(isNaN(val1_)) + Number(isNaN(val2_)) + Number(isNaN(rbm_));\n    if (emptyNum >= 2 || isNaN(params.p1) || isNaN(params.p2) ||\n    !isNaN(val1_) && !valueBetween(val1_, 0, 4) || !isNaN(val2_) && !valueBetween(val2_, 0, 4) ||\n    !isNaN(rbm_) && !valueBetween(rbm_, 30, 500) ||\n    !valueBetween(params.p1, 0, 11) || !valueBetween(params.p2, 0, 11))\n\n    location.href = 'Step1.html';\n\n    $selectP1.selectpicker('val', params.p1);\n    $selectP2.selectpicker('val', params.p2);\n    $('#edVal1').val(params.val1);\n    $('#edVal2').val(params.val2);\n    $('#edRBM').val(params.rbm);\n\n\n  } else if (['P1', 'P2', 'Val1', 'Val2', 'RBM'].every(function (e) {return urlParams[e] !== undefined;}))\n  location.href = 'Step1.html';\n\n  // end validation and recovering\n\n  _$selectType.selectpicker('val', type);\n  $('.selectpicker').selectpicker('refresh');\n\n  $('select').on('loaded.bs.select', clearTitle);\n  $selectP1.on('changed.bs.select', function (e, index) {\n    var i = index - 1;\n    clearTitle(); // only when slP1 changes the title have to be cleared; only active select\n    $selectP2.find('option').each(function () {\n      var value = parseInt($(this).val());\n      if (i % 2 === 0 && value === i + 1 || i % 2 === 1 && value === i - 1)\n      $selectP2.selectpicker('val', value);\n    });\n  });\n\n}\n\n\n/*\n   * Step 3\n   */\n\nif ($body.hasClass('Step3')) {\n\n  // check integrity\n  if (!['Type', 'P1', 'P2', 'Val1', 'Val2', 'RBM'].every(function (e) {return urlParams[e] !== undefined;}))\n  location.href = 'Step1.html';\n\n  var inputParams = {\n    type: parseInt(urlParams['Type']), // int\n    p1: parseInt(urlParams['P1']), // int\n    p2: parseInt(urlParams['P2']), // int\n    val1: urlParams['Val1'], // empty-able str\n    val2: urlParams['Val2'], // empty-able str\n    rbm: urlParams['RBM'] // empty-able str\n  };\n\n  var _valueBetween = function _valueBetween(xy, a, b) {return xy >= a && xy <= b;};\n  var _val1_ = parseFloat(inputParams.val1),_val2_ = parseFloat(inputParams.val2),_rbm_ = parseFloat(inputParams.rbm);\n  // also, '' and ' ' will be converted to NaN in this process.\n\n  var _emptyNum = Number(isNaN(_val1_)) + Number(isNaN(_val2_)) + Number(isNaN(_rbm_));\n  if (_emptyNum >= 2 || isNaN(inputParams.type) || isNaN(inputParams.p1) || isNaN(inputParams.p2) ||\n  !isNaN(_val1_) && !_valueBetween(_val1_, 0, 4) || !isNaN(_val2_) && !_valueBetween(_val2_, 0, 4) ||\n  !isNaN(_rbm_) && !_valueBetween(_rbm_, 30, 500) || !_valueBetween(inputParams.type, 0, 5) ||\n  !_valueBetween(inputParams.p1, 0, 11) || !_valueBetween(inputParams.p2, 0, 11))\n\n  location.href = 'Step1.html';\n\n\n  $('#title')[0].innerHTML += ' <small>' + typeName[inputParams.type] + '</small>';\n\n  var plotParams = processOutput(getPlotParams(inputParams));\n\n  $('#resultDiv').\n  addClass(plotParams.ar !== AssignResult.error ? 'alert-success' : 'alert-danger').\n  html(plotParams.resultString);\n  $('#yAxisLabel').html(plotParams.yAxisLabel);\n  $('#xAxisLabel').html(plotParams.xAxisLabel);\n  $('#' + plotParams.pointType + 'Legend').css('display', '');\n  if (plotParams.bluePoint !== null)\n  $('#blueLegend').css('display', '');\n\n  $(drawPlot('plot-placeholder', plotParams));\n\n}\n\n// functions\n\nfunction clearTitle() {// used in Step1 and Step2\n\n  $('.bootstrap-select').find('button').removeAttr('title');\n}\n\nfunction validate(form) {// used in Step2\n\n  var $hint = $('#hint');\n  var invokeError = function invokeError(msg) {\n    $hint.addClass('alert-danger').\n    html(\"<span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span> \" + msg);\n    return false;\n  };\n  var val1_ = parseFloat(form.Val1.value);\n  var val2_ = parseFloat(form.Val2.value);\n  var rbm_ = parseInt(form.RBM.value);\n  var emptyNum = Number(isNaN(val1_)) + Number(isNaN(val2_)) + Number(isNaN(rbm_));\n  if (emptyNum >= 2) return invokeError('At least 2 values are required.');else\n  {\n    if (!isNaN(val1_) && (val1_ < 0 || val1_ > 4) ||\n    !isNaN(val2_) && (val2_ < 0 || val2_ > 4) ||\n    !isNaN(rbm_) && (rbm_ < 30 || rbm_ > 500))\n    return invokeError('Please input valid value.');\n    if ($(\"#slP1\").selectpicker('val') === '')\n    return invokeError('Please select the type of transition energy.');\n\n    $(\".selectpicker\").removeAttr('disabled');\n\n    history.replaceState(null, null,\n    'Step2.html?' + ['Type', 'P1', 'Val1', 'P2', 'Val2', 'RBM'].map(function (e) {return e + '=' + form[e].value;}).join('&'));\n    return true;\n  }\n}\n\nfunction changeEdit(p1_lesser, val1, val2) {// used in Step2\n  $(\"#slP1\").selectpicker('val', p1_lesser);\n  $(\"#slP2\").selectpicker('val', p1_lesser + 1);\n  $(\"#edVal1\").val(val1);\n  $(\"#edVal2\").val(val2);\n}\n\nfunction calculate(form) {// used in Step2\n\n  var $calcHint = $('#calculatorHint');\n  var $calcResult = $('#calcResult');\n\n  var invokeError = function invokeError() {\n    $calcHint.html(\"\\n      <div class=\\\"alert-danger hint\\\">\\n        <span class=\\\"glyphicon glyphicon-exclamation-sign\\\" aria-hidden=\\\"true\\\"></span>\\n        No valid result.\\n      </div>\\n    \");\n\n\n\n\n\n    $calcResult.html('');\n  };\n\n  var n = parseInt(form.NCalc.value),m = parseInt(form.MCalc.value),t = parseInt(urlParams['Type']);\n  if (n < m) {;var _ref = [m, n];n = _ref[0];m = _ref[1];}\n  if (isNaN(n) || isNaN(m) || n <= 6 || m <= 0 || 2 * n + m > seriesThreshold) {\n    invokeError();\n    return false;\n  }\n\n  $calcHint.html('');\n  var $resultList = $(\"<tbody></tbody>\");\n  var $plotList = $('<div></div>'); // empty wrapper\n  $calcResult.html('').\n  append($('<table class=\"table table-striped math\" id=\"calcResultList\"></table>').append($resultList)).\n  append($plotList);\n\n  $resultList.append(\"<tr><td>\\\\(d_t\\\\)</td><td>\\\\( \" + Dt(n, m, t).toFixed(3).toString() + \" \\\\ \\\\mathrm{nm}\\\\)</td></tr>\");\n\n  // generate d_t and RBM information\n\n  generateRBMCalculationResult(n, m, t, $resultList);\n\n  // do energy calculation\n\n  var calculatedEnergy = new Array(12);\n  for (var p1 = 0; p1 < 12; p1++) {\n    if (isMetal(p1ToP(p1)) !== isMetal(n, m)) {\n      calculatedEnergy[p1] = -1;\n      continue;\n    }\n    try {\n      calculatedEnergy[p1] = getEnergy(Dt(n, m, t), Theta(n, m), p1ToP(p1), t, isMetal(n, m) ? p1 % 2 - 1 : Mod(n, m)).\n      toFixed(3).toString();\n    }\n    catch (err) {\n      calculatedEnergy[p1] = -1;\n    }\n  }\n\n  // apply results to plot\n\n  var validResultNumber = 0;var _loop = function _loop(\n\n  _p) {\n\n    // assert that there are results for both P1 = 2k and (2k + 1).\n    // note that for (9,7) the S66 doesn't work due to too small d_t which\n    // caused 1st derivative issue, but S55 is valid.\n\n    if (calculatedEnergy[_p] === -1 || calculatedEnergy[_p + 1] === -1)\n      return \"continue\";\n\n    validResultNumber++;\n\n    $resultList.append(\n    $(\"<tr><td>\" + p1Name[_p] + \"</td><td>\\\\(\" + calculatedEnergy[_p] + \"\\\\ \\\\mathrm{eV}\\\\)</td></tr>\").\n    click(function () {return changeEdit(_p, calculatedEnergy[_p], calculatedEnergy[_p + 1]);}).\n    css('cursor', 'pointer')).\n    append(\n    $(\"<tr><td>\" + p1Name[_p + 1] + \"</td><td>\\\\(\" + calculatedEnergy[_p + 1] + \"\\\\ \\\\mathrm{eV}\\\\)</td></tr>\").\n    click(function () {return changeEdit(_p, calculatedEnergy[_p], calculatedEnergy[_p + 1]);}).\n    css('cursor', 'pointer'));\n\n\n    var inputParams = {\n      type: t, // int\n      p1: _p, // int\n      p2: _p + 1, // int\n      val1: calculatedEnergy[_p], // empty-able str\n      val2: calculatedEnergy[_p + 1], // empty-able str\n      rbm: '' // empty-able str\n    };\n\n    var plotParams = processOutput(getPlotParams(inputParams));\n    var plotId = \"calcPlot\" + Math.round(_p / 2);\n\n    var $plot = $(\"\\n      <div class=\\\"math calc-plot-container\\\" \\n           oncontextmenu=\\\"return false\\\" onmousedown=\\\"return false\\\">\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-lg-offset-2 col-md-offset-6 rbmAxisLabel\\\">\\n            \\\\(\\\\omega_{\\\\mathrm{RBM}}\\\\ (\\\\mathrm{cm^{-1}})\\\\)\\n          </div>\\n        </div>\\n        <br />\\n        <div class=\\\"row\\\" style=\\\"position: relative;\\\">\\n          <div class=\\\"yAxisLabel\\\">\" +\n\n\n\n\n\n\n\n\n\n    plotParams.yAxisLabel + \"</div>\\n          <div id=\\\"\" +\n    plotId + \"\\\" style=\\\"width: 400px; height: 290px; font-family: 'Times New Roman', serif;\\\"\\n               class=\\\"col-md-offset-1 col-xs-offset-1\\\"></div>\\n        </div>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-lg-offset-2 col-md-offset-5 xAxisLabel\\\">\\n               \" +\n\n\n\n\n    plotParams.xAxisLabel + \"\\n          </div>\\n        </div>\\n      </div>\\n    \");\n\n\n\n\n\n    $plotList.append($plot);\n    drawPlot(plotId, plotParams);};for (var _p = 0; _p < 12; _p += 2) {var _ret = _loop(_p);if (_ret === \"continue\") continue;\n  }\n\n  if (validResultNumber === 0) {\n    invokeError();\n  }\n\n  MathJax.Hub.Queue(['Typeset', MathJax.Hub]);\n  return false;\n}\n\nfunction generateRBMCalculationResult(n, m, t, $resultList) {// separated function to reduce complexity\n\n  var isAirSuspended = t === 0;\n  var editRBM = function editRBM(e) {return $('#edRBM').val(e);};\n  if (isAirSuspended) {\n    var rbmAS = dt2RBM(Dt(n, m, t), isMetal(n, m) ? 2 : 0, t).toFixed(1).toString();\n    $resultList.append(\n    $(\"\\n        <tr>\\n            <td>\\\\(\\\\omega_\\\\mathrm{RBM}\\\\ \" + (\n\n    isMetal(n, m) ? \"(p=3)\" : \"(p=1,2)\") + \" \\\\)</td>\\n            <td>\\\\( \" +\n    rbmAS + \" \\\\ \\\\mathrm{cm^{-1}}\\\\)</td>\\n        </tr>\\n      \").\n\n\n    click(function () {return editRBM(rbmAS);}).\n    css('cursor', 'pointer'));\n\n  }\n\n  var rbmGeneral = dt2RBM(Dt(n, m, t), isAirSuspended ? 3 : 0, t).toFixed(1).toString();\n  $resultList.append(\n  $(\"\\n      <tr>\\n          <td>\\\\(\\\\omega_\\\\mathrm{RBM}\\\\ \" + (\n\n  isAirSuspended ? \"(p>3)\" : \"\") + \" \\\\)</td>\\n          <td>\\\\( \" +\n  rbmGeneral + \" \\\\ \\\\mathrm{cm^{-1}}\\\\)</td>\\n      </tr>\\n    \").\n\n\n  click(function () {return editRBM(rbmGeneral);}).\n  css('cursor', 'pointer'));\n\n}\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsidGltZUxvYWQiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInRpbWVTdGFydHVwIiwiJCIsImdldFNjcmlwdCIsIm5hdmlnYXRvciIsImxhbmd1YWdlIiwic3Vic3RyIiwidG9Mb3dlckNhc2UiLCJjb25zb2xlIiwibG9nIiwidG9GaXhlZCIsInVybFBhcmFtcyIsIndpbmRvdyIsIm9ucG9wc3RhdGUiLCJtYXRjaCIsInBsIiwic2VhcmNoIiwiZGVjb2RlIiwicyIsImRlY29kZVVSSUNvbXBvbmVudCIsInJlcGxhY2UiLCJxdWVyeSIsImxvY2F0aW9uIiwic3Vic3RyaW5nIiwiZXhlYyIsInRlc3QiLCJ1c2VyQWdlbnQiLCJzZWxlY3RwaWNrZXIiLCIkYm9keSIsImhhc0NsYXNzIiwiJHNlbGVjdFR5cGUiLCJpIiwidHlwZU5hbWUiLCJsZW5ndGgiLCJhcHBlbmQiLCJvbiIsImNsZWFyVGl0bGUiLCJ0eXBlIiwicGFyc2VJbnQiLCJpc05hTiIsImhyZWYiLCIkc2VsZWN0UDEiLCIkc2VsZWN0UDIiLCIkc2VsZWN0UDFQMiIsImlubmVySFRNTCIsIiRkYXRhVGFibGVzIiwiZmluZCIsInJlbW92ZUNsYXNzIiwicmVtb3ZlIiwicDFOYW1lIiwidGhyZXNob2xkIiwiZXZlcnkiLCJlIiwidW5kZWZpbmVkIiwicGFyYW1zIiwicDEiLCJwMiIsInZhbDEiLCJ2YWwyIiwicmJtIiwidmFsdWVCZXR3ZWVuIiwieHkiLCJhIiwiYiIsInZhbDFfIiwicGFyc2VGbG9hdCIsInZhbDJfIiwicmJtXyIsImVtcHR5TnVtIiwiTnVtYmVyIiwidmFsIiwiaW5kZXgiLCJlYWNoIiwidmFsdWUiLCJpbnB1dFBhcmFtcyIsInBsb3RQYXJhbXMiLCJwcm9jZXNzT3V0cHV0IiwiZ2V0UGxvdFBhcmFtcyIsImFkZENsYXNzIiwiYXIiLCJBc3NpZ25SZXN1bHQiLCJlcnJvciIsImh0bWwiLCJyZXN1bHRTdHJpbmciLCJ5QXhpc0xhYmVsIiwieEF4aXNMYWJlbCIsInBvaW50VHlwZSIsImNzcyIsImJsdWVQb2ludCIsImRyYXdQbG90IiwicmVtb3ZlQXR0ciIsInZhbGlkYXRlIiwiZm9ybSIsIiRoaW50IiwiaW52b2tlRXJyb3IiLCJtc2ciLCJWYWwxIiwiVmFsMiIsIlJCTSIsImhpc3RvcnkiLCJyZXBsYWNlU3RhdGUiLCJtYXAiLCJqb2luIiwiY2hhbmdlRWRpdCIsInAxX2xlc3NlciIsImNhbGN1bGF0ZSIsIiRjYWxjSGludCIsIiRjYWxjUmVzdWx0IiwibiIsIk5DYWxjIiwibSIsIk1DYWxjIiwidCIsInNlcmllc1RocmVzaG9sZCIsIiRyZXN1bHRMaXN0IiwiJHBsb3RMaXN0IiwiRHQiLCJ0b1N0cmluZyIsImdlbmVyYXRlUkJNQ2FsY3VsYXRpb25SZXN1bHQiLCJjYWxjdWxhdGVkRW5lcmd5IiwiQXJyYXkiLCJpc01ldGFsIiwicDFUb1AiLCJnZXRFbmVyZ3kiLCJUaGV0YSIsIk1vZCIsImVyciIsInZhbGlkUmVzdWx0TnVtYmVyIiwiY2xpY2siLCJwbG90SWQiLCJNYXRoIiwicm91bmQiLCIkcGxvdCIsIk1hdGhKYXgiLCJIdWIiLCJRdWV1ZSIsImlzQWlyU3VzcGVuZGVkIiwiZWRpdFJCTSIsInJibUFTIiwiZHQyUkJNIiwicmJtR2VuZXJhbCJdLCJtYXBwaW5ncyI6IjtBQUNBOztBQUVBLElBQUlBLFdBQVdDLFlBQVlDLEdBQVosRUFBZixDLENBQWtDO0FBQ2xDLElBQUlDLG9CQUFKOztBQUVBQyxFQUFFQyxTQUFGLENBQVlDLFVBQVVDLFFBQVYsQ0FBbUJDLE1BQW5CLENBQTBCLENBQTFCLEVBQTZCLENBQTdCLEVBQWdDQyxXQUFoQyxPQUFrRCxJQUFsRDtBQUNSLGlFQURRO0FBRVI7QUFDQSx5Q0FISixFQUcrQyxZQUFZO0FBQ3pETixnQkFBY0YsWUFBWUMsR0FBWixFQUFkO0FBQ0FRLFVBQVFDLEdBQVIsQ0FBWSx3QkFBd0IsQ0FBQ1IsY0FBY0gsUUFBZixFQUF5QlksT0FBekIsQ0FBaUMsQ0FBakMsQ0FBcEM7QUFDRCxDQU5EOztBQVFBLElB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QVZBLE9BQVUsQ0FBQ3JGLENBQUQsVUFBT2xELEVBQUUsUUFBRixFQUFZb0UsR0FBWixDQUFnQmxCLENBQWhCLENBQVAsRUFBZDtBQUNBLE1BQUlvRixjQUFKLEVBQW9CO0FBQ2xCLFFBQUlFLFFBQVFDLE9BQU92QixHQUFHUixDQUFILEVBQU1FLENBQU4sRUFBU0UsQ0FBVCxDQUFQLEVBQW9CUyxRQUFRYixDQUFSLEVBQVdFLENBQVgsSUFBZ0IsQ0FBaEIsR0FBb0IsQ0FBeEMsRUFBMkNFLENBQTNDLEVBQThDdEcsT0FBOUMsQ0FBc0QsQ0FBdEQsRUFBeUQyRyxRQUF6RCxFQUFaO0FBQ0FILGdCQUFZaEYsTUFBWjtBQUNFaEM7O0FBRXVDdUgsWUFBUWIsQ0FBUixFQUFXRSxDQUFYLElBQWdCLE9BQWhCLEdBQTBCLFNBRmpFO0FBR2dCNEIsU0FIaEI7OztBQU1HVixTQU5ILENBTVMsb0JBQU1TLFFBQVFDLEtBQVIsQ0FBTixFQU5UO0FBT0duRCxPQVBILENBT08sUUFQUCxFQU9pQixTQVBqQixDQURGOztBQVVEOztBQUVELE1BQUlxRCxhQUFhRCxPQUFPdkIsR0FBR1IsQ0FBSCxFQUFNRSxDQUFOLEVBQVNFLENBQVQsQ0FBUCxFQUFvQndCLGlCQUFpQixDQUFqQixHQUFxQixDQUF6QyxFQUE0Q3hCLENBQTVDLEVBQStDdEcsT0FBL0MsQ0FBdUQsQ0FBdkQsRUFBMEQyRyxRQUExRCxFQUFqQjtBQUNBSCxjQUFZaEYsTUFBWjtBQUNFaEM7O0FBRXVDc0ksbUJBQWlCLE9BQWpCLEdBQTJCLEVBRmxFO0FBR2dCSSxZQUhoQjs7O0FBTUdaLE9BTkgsQ0FNUyxvQkFBTVMsUUFBUUcsVUFBUixDQUFOLEVBTlQ7QUFPR3JELEtBUEgsQ0FPTyxRQVBQLEVBT2lCLFNBUGpCLENBREY7O0FBVUQiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuJ3VzZSBzdHJpY3QnO1xuXG5sZXQgdGltZUxvYWQgPSBwZXJmb3JtYW5jZS5ub3coKTsgLy8gYmVmb3JlIGxvYWRcbmxldCB0aW1lU3RhcnR1cDtcblxuJC5nZXRTY3JpcHQobmF2aWdhdG9yLmxhbmd1YWdlLnN1YnN0cigwLCAyKS50b0xvd2VyQ2FzZSgpICE9PSBcInpoXCJcbiAgPyBcImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL21hdGhqYXgvMi43LjMvTWF0aEpheC5qc1wiXG4gIDogXCJodHRwczovL2Nkbi5ib290Y3NzLmNvbS9tYXRoamF4LzIuNy4zL01hdGhKYXguanNcIlxuICArIFwiP2NvbmZpZz1UZVgtQU1TX1NWRy1mdWxsLFNhZmUmbG9jYWxlPWVuXCIsIGZ1bmN0aW9uICgpIHtcbiAgdGltZVN0YXJ0dXAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgY29uc29sZS5sb2coXCJNYXRoSmF4IGxvYWQgdGFrZXMgXCIgKyAodGltZVN0YXJ0dXAgLSB0aW1lTG9hZCkudG9GaXhlZCgyKSk7XG59KTtcblxubGV0IHVybFBhcmFtcyA9IHt9O1xuKHdpbmRvdy5vbnBvcHN0YXRlID0gZnVuY3Rpb24gKCkge1xuICBsZXQgbWF0Y2gsXG4gICAgcGwgICAgID0gL1xcKy9nLCAgLy8gUmVnZXggZm9yIHJlcGxhY2luZyBhZGRpdGlvbiBzeW1ib2wgd2l0aCBhIHNwYWNlXG4gICAgc2VhcmNoID0gLyhbXiY9XSspPT8oW14mXSopL2csXG4gICAgZGVjb2RlID0gZnVuY3Rpb24gKHMpIHsgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzLnJlcGxhY2UocGwsIFwiIFwiKSk7IH0sXG4gICAgcXVlcnkgID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7XG5cbiAgdXJsUGFyYW1zID0ge307XG4gIHdoaWxlIChtYXRjaCA9IHNlYXJjaC5leGVjKHF1ZXJ5KSlcbiAgICB1cmxQYXJhbXNbZGVjb2RlKG1hdGNoWzFdKV0gPSBkZWNvZGUobWF0Y2hbMl0pO1xufSkoKTtcblxuaWYoIC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgKSB7XG4gICQoJy5zZWxlY3RwaWNrZXInKS5zZWxlY3RwaWNrZXIoJ21vYmlsZScpO1xufVxuXG5sZXQgJGJvZHkgPSAkKFwiYm9keVwiKTtcblxuLypcbiAqIFN0ZXAgMVxuICovXG5cbmlmICgkYm9keS5oYXNDbGFzcyhcIlN0ZXAxXCIpKSB7XG5cbiAgbGV0ICRzZWxlY3RUeXBlID0gJChcIiNzbFR5cGVcIik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZU5hbWUubGVuZ3RoOyBpKyspXG4gICAgJHNlbGVjdFR5cGUuYXBwZW5kKGA8b3B0aW9uIHZhbHVlPVwiJHtpfVwiPiR7dHlwZU5hbWVbaV19PC9vcHRpb24+YCk7XG5cbiAgJHNlbGVjdFR5cGUuc2VsZWN0cGlja2VyKCd2YWwnLCAwKVxuICAgIC5zZWxlY3RwaWNrZXIoJ3JlZnJlc2gnKVxuICAgIC5vbihcImxvYWRlZC5icy5zZWxlY3RcIiwgY2xlYXJUaXRsZSlcbiAgICAub24oJ2NoYW5nZWQuYnMuc2VsZWN0JywgY2xlYXJUaXRsZSk7XG5cbn1cblxuLypcbiAqIFN0ZXAgMlxuICovXG5cbmlmICgkYm9keS5oYXNDbGFzcygnU3RlcDInKSkge1xuXG4gIGxldCB0eXBlID0gcGFyc2VJbnQodXJsUGFyYW1zWydUeXBlJ10pOyAvLyAnJywgJyAnIHdpbGwgYmUgY29udmVydGVkIHRvIE5hTiBpbiB0aGlzIHByb2Nlc3MuXG4gIGlmIChpc05hTih0eXBlKSB8fCB0eXBlID4gNSB8fCB0eXBlIDwgMClcbiAgICBsb2NhdGlvbi5ocmVmID0gJ1N0ZXAxLmh0bWwnO1xuXG4gIGxldCAkc2VsZWN0UDEgPSAkKCcjc2xQMScpLCAkc2VsZWN0UDIgPSAkKCcjc2xQMicpLCAkc2VsZWN0VHlwZSA9ICQoJyNzbFR5cGUnKTtcbiAgbGV0ICRzZWxlY3RQMVAyID0gJCgnI3NsUDEsICNzbFAyJyk7XG5cbiAgJCgnI3RpdGxlJylbMF0uaW5uZXJIVE1MICs9ICcgPHNtYWxsPicgKyB0eXBlTmFtZVt0eXBlXSArICc8L3NtYWxsPic7XG5cbiAgbGV0ICRkYXRhVGFibGVzID0gJCgnI2RhdGFUYWJsZXMnKTtcbiAgJGRhdGFUYWJsZXMuZmluZChgLnR5cGUke3R5cGV9YCkucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xuICAgIGlmIChpID09PSB0eXBlKSBjb250aW51ZTtcbiAgICAkZGF0YVRhYmxlcy5maW5kKGAudHlwZSR7aX0uaGlkZGVuYCkucmVtb3ZlKCk7IC8vIE1hdGhKYXggd2lsbCBwcm9jZXNzIGhpZGRlbiBlbGVtZW50cyBpZiBub3QgcmVtb3ZlZFxuICB9XG5cbiAgLy8gZ2VuZXJhdGUgb3B0aW9uc1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcDFOYW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHR5cGUgPj0gMykge1xuICAgICAgbGV0IHRocmVzaG9sZCA9ICh0eXBlID09PSAzID8gOCA6IDIpO1xuICAgICAgaWYgKGkgPj0gdGhyZXNob2xkKSBicmVhaztcbiAgICB9XG4gICAgJHNlbGVjdFAxUDIuYXBwZW5kKGA8b3B0aW9uIHZhbHVlPVwiJHtpfVwiPiR7cDFOYW1lW2ldfTwvb3B0aW9uPmApO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZU5hbWUubGVuZ3RoOyBpKyspXG4gICAgJHNlbGVjdFR5cGUuYXBwZW5kKGA8b3B0aW9uIHZhbHVlPVwiJHtpfVwiPiR7dHlwZU5hbWVbaV19PC9vcHRpb24+YCk7XG5cbiAgLy8gc3RhcnQgcmVjb3ZlcmluZ1xuXG4gIGlmICgoWydQMScsICdQMicsICdWYWwxJywgJ1ZhbDInLCAnUkJNJ10uZXZlcnkoKGUpID0+IHVybFBhcmFtc1tlXSAhPT0gdW5kZWZpbmVkICkpKSB7XG5cbiAgICBsZXQgcGFyYW1zID0ge1xuICAgICAgcDE6IHBhcnNlSW50KHVybFBhcmFtc1snUDEnXSksIC8vIGludFxuICAgICAgcDI6IHBhcnNlSW50KHVybFBhcmFtc1snUDInXSksIC8vIGludFxuICAgICAgdmFsMTogdXJsUGFyYW1zWydWYWwxJ10sIC8vIGVtcHR5LWFibGUgc3RyXG4gICAgICB2YWwyOiB1cmxQYXJhbXNbJ1ZhbDInXSwgLy8gZW1wdHktYWJsZSBzdHJcbiAgICAgIHJibTogdXJsUGFyYW1zWydSQk0nXSAvLyBlbXB0eS1hYmxlIHN0clxuICAgIH07XG5cbiAgICBsZXQgdmFsdWVCZXR3ZWVuID0gKHh5LCBhLCBiKSA9PiAoeHkgPj0gYSAmJiB4eSA8PSBiKTtcbiAgICBsZXQgdmFsMV8gPSBwYXJzZUZsb2F0KHBhcmFtcy52YWwxKSwgdmFsMl8gPSBwYXJzZUZsb2F0KHBhcmFtcy52YWwyKSwgcmJtXyA9IHBhcnNlRmxvYXQocGFyYW1zLnJibSk7XG5cbiAgICBsZXQgZW1wdHlOdW0gPSBOdW1iZXIoaXNOYU4odmFsMV8pKSArIE51bWJlcihpc05hTih2YWwyXykpICsgTnVtYmVyKGlzTmFOKHJibV8pKTtcbiAgICBpZiAoZW1wdHlOdW0gPj0gMiB8fCBpc05hTihwYXJhbXMucDEpIHx8IGlzTmFOKHBhcmFtcy5wMikgfHxcbiAgICAgICFpc05hTih2YWwxXykgJiYgIXZhbHVlQmV0d2Vlbih2YWwxXywgMCwgNCkgfHwgIWlzTmFOKHZhbDJfKSAmJiAhdmFsdWVCZXR3ZWVuKHZhbDJfLCAwLCA0KSB8fFxuICAgICAgIWlzTmFOKHJibV8pICYmICF2YWx1ZUJldHdlZW4ocmJtXywgMzAsIDUwMCkgfHxcbiAgICAgICF2YWx1ZUJldHdlZW4ocGFyYW1zLnAxLCAwLCAxMSkgfHwgIXZhbHVlQmV0d2VlbihwYXJhbXMucDIsIDAsIDExKVxuICAgIClcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSAnU3RlcDEuaHRtbCc7XG5cbiAgICAkc2VsZWN0UDEuc2VsZWN0cGlja2VyKCd2YWwnLCBwYXJhbXMucDEpO1xuICAgICRzZWxlY3RQMi5zZWxlY3RwaWNrZXIoJ3ZhbCcsIHBhcmFtcy5wMik7XG4gICAgJCgnI2VkVmFsMScpLnZhbChwYXJhbXMudmFsMSk7XG4gICAgJCgnI2VkVmFsMicpLnZhbChwYXJhbXMudmFsMik7XG4gICAgJCgnI2VkUkJNJykudmFsKHBhcmFtcy5yYm0pO1xuXG5cbiAgfSBlbHNlIGlmICgoWydQMScsICdQMicsICdWYWwxJywgJ1ZhbDInLCAnUkJNJ10uZXZlcnkoKGUpID0+IHVybFBhcmFtc1tlXSAhPT0gdW5kZWZpbmVkICkpKVxuICAgIGxvY2F0aW9uLmhyZWYgPSAnU3RlcDEuaHRtbCc7XG5cbiAgLy8gZW5kIHZhbGlkYXRpb24gYW5kIHJlY292ZXJpbmdcblxuICAkc2VsZWN0VHlwZS5zZWxlY3RwaWNrZXIoJ3ZhbCcsIHR5cGUpO1xuICAkKCcuc2VsZWN0cGlja2VyJykuc2VsZWN0cGlja2VyKCdyZWZyZXNoJyk7XG5cbiAgJCgnc2VsZWN0Jykub24oJ2xvYWRlZC5icy5zZWxlY3QnLCBjbGVhclRpdGxlKTtcbiAgJHNlbGVjdFAxLm9uKCdjaGFuZ2VkLmJzLnNlbGVjdCcsIGZ1bmN0aW9uIChlLCBpbmRleCkge1xuICAgIGxldCBpID0gaW5kZXggLSAxO1xuICAgIGNsZWFyVGl0bGUoKTsgLy8gb25seSB3aGVuIHNsUDEgY2hhbmdlcyB0aGUgdGl0bGUgaGF2ZSB0byBiZSBjbGVhcmVkOyBvbmx5IGFjdGl2ZSBzZWxlY3RcbiAgICAkc2VsZWN0UDIuZmluZCgnb3B0aW9uJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgdmFsdWUgPSBwYXJzZUludCgkKHRoaXMpLnZhbCgpKTtcbiAgICAgIGlmIChpICUgMiA9PT0gMCAmJiB2YWx1ZSA9PT0gaSArIDEgfHwgaSAlIDIgPT09IDEgJiYgdmFsdWUgPT09IGkgLSAxKVxuICAgICAgICAkc2VsZWN0UDIuc2VsZWN0cGlja2VyKCd2YWwnLCB2YWx1ZSk7XG4gICAgfSk7XG4gIH0pO1xuXG59XG5cblxuLypcbiAqIFN0ZXAgM1xuICovXG5cbmlmICgkYm9keS5oYXNDbGFzcygnU3RlcDMnKSkge1xuXG4gIC8vIGNoZWNrIGludGVncml0eVxuICBpZiAoIShbJ1R5cGUnLCAnUDEnLCAnUDInLCAnVmFsMScsICdWYWwyJywgJ1JCTSddLmV2ZXJ5KChlKSA9PiB1cmxQYXJhbXNbZV0gIT09IHVuZGVmaW5lZCApKSlcbiAgICBsb2NhdGlvbi5ocmVmID0gJ1N0ZXAxLmh0bWwnO1xuXG4gIGxldCBpbnB1dFBhcmFtcyA9IHtcbiAgICB0eXBlOiBwYXJzZUludCh1cmxQYXJhbXNbJ1R5cGUnXSksIC8vIGludFxuICAgIHAxOiBwYXJzZUludCh1cmxQYXJhbXNbJ1AxJ10pLCAvLyBpbnRcbiAgICBwMjogcGFyc2VJbnQodXJsUGFyYW1zWydQMiddKSwgLy8gaW50XG4gICAgdmFsMTogdXJsUGFyYW1zWydWYWwxJ10sIC8vIGVtcHR5LWFibGUgc3RyXG4gICAgdmFsMjogdXJsUGFyYW1zWydWYWwyJ10sIC8vIGVtcHR5LWFibGUgc3RyXG4gICAgcmJtOiB1cmxQYXJhbXNbJ1JCTSddIC8vIGVtcHR5LWFibGUgc3RyXG4gIH07XG5cbiAgbGV0IHZhbHVlQmV0d2VlbiA9ICh4eSwgYSwgYikgPT4gKHh5ID49IGEgJiYgeHkgPD0gYik7XG4gIGxldCB2YWwxXyA9IHBhcnNlRmxvYXQoaW5wdXRQYXJhbXMudmFsMSksIHZhbDJfID0gcGFyc2VGbG9hdChpbnB1dFBhcmFtcy52YWwyKSwgcmJtXyA9IHBhcnNlRmxvYXQoaW5wdXRQYXJhbXMucmJtKTtcbiAgLy8gYWxzbywgJycgYW5kICcgJyB3aWxsIGJlIGNvbnZlcnRlZCB0byBOYU4gaW4gdGhpcyBwcm9jZXNzLlxuXG4gIGxldCBlbXB0eU51bSA9IE51bWJlcihpc05hTih2YWwxXykpICsgTnVtYmVyKGlzTmFOKHZhbDJfKSkgKyBOdW1iZXIoaXNOYU4ocmJtXykpO1xuICBpZiAoZW1wdHlOdW0gPj0gMiB8fCBpc05hTihpbnB1dFBhcmFtcy50eXBlKSB8fCBpc05hTihpbnB1dFBhcmFtcy5wMSkgfHwgaXNOYU4oaW5wdXRQYXJhbXMucDIpIHx8XG4gICAgIWlzTmFOKHZhbDFfKSAmJiAhdmFsdWVCZXR3ZWVuKHZhbDFfLCAwLCA0KSB8fCAhaXNOYU4odmFsMl8pICYmICF2YWx1ZUJldHdlZW4odmFsMl8sIDAsIDQpIHx8XG4gICAgIWlzTmFOKHJibV8pICYmICF2YWx1ZUJldHdlZW4ocmJtXywgMzAsIDUwMCkgfHwgIXZhbHVlQmV0d2VlbihpbnB1dFBhcmFtcy50eXBlLCAwLCA1KSB8fFxuICAgICF2YWx1ZUJldHdlZW4oaW5wdXRQYXJhbXMucDEsIDAsIDExKSB8fCAhdmFsdWVCZXR3ZWVuKGlucHV0UGFyYW1zLnAyLCAwLCAxMSlcbiAgKVxuICAgIGxvY2F0aW9uLmhyZWYgPSAnU3RlcDEuaHRtbCc7XG5cblxuICAkKCcjdGl0bGUnKVswXS5pbm5lckhUTUwgKz0gJyA8c21hbGw+JyArIHR5cGVOYW1lW2lucHV0UGFyYW1zLnR5cGVdICsgJzwvc21hbGw+JztcblxuICBsZXQgcGxvdFBhcmFtcyA9IHByb2Nlc3NPdXRwdXQoZ2V0UGxvdFBhcmFtcyhpbnB1dFBhcmFtcykpO1xuXG4gICQoJyNyZXN1bHREaXYnKVxuICAgIC5hZGRDbGFzcyhwbG90UGFyYW1zLmFyICE9PSBBc3NpZ25SZXN1bHQuZXJyb3IgPyAnYWxlcnQtc3VjY2VzcycgOiAnYWxlcnQtZGFuZ2VyJylcbiAgICAuaHRtbChwbG90UGFyYW1zLnJlc3VsdFN0cmluZyk7XG4gICQoJyN5QXhpc0xhYmVsJykuaHRtbChwbG90UGFyYW1zLnlBeGlzTGFiZWwpO1xuICAkKCcjeEF4aXNMYWJlbCcpLmh0bWwocGxvdFBhcmFtcy54QXhpc0xhYmVsKTtcbiAgJCgnIycgKyBwbG90UGFyYW1zLnBvaW50VHlwZSArICdMZWdlbmQnKS5jc3MoJ2Rpc3BsYXknLCAnJyk7XG4gIGlmIChwbG90UGFyYW1zLmJsdWVQb2ludCAhPT0gbnVsbClcbiAgICAkKCcjYmx1ZUxlZ2VuZCcpLmNzcygnZGlzcGxheScsICcnKTtcblxuICAkKGRyYXdQbG90KCdwbG90LXBsYWNlaG9sZGVyJywgcGxvdFBhcmFtcykpO1xuXG59XG5cbi8vIGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiBjbGVhclRpdGxlKCkgeyAvLyB1c2VkIGluIFN0ZXAxIGFuZCBTdGVwMlxuXG4gICQoJy5ib290c3RyYXAtc2VsZWN0JykuZmluZCgnYnV0dG9uJykucmVtb3ZlQXR0cigndGl0bGUnKTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGUoZm9ybSkgeyAvLyB1c2VkIGluIFN0ZXAyXG5cbiAgbGV0ICRoaW50ID0gJCgnI2hpbnQnKTtcbiAgbGV0IGludm9rZUVycm9yID0gKG1zZykgPT4ge1xuICAgICRoaW50LmFkZENsYXNzKCdhbGVydC1kYW5nZXInKVxuICAgICAgLmh0bWwoYDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1leGNsYW1hdGlvbi1zaWduXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPiAke21zZ31gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG4gIGxldCB2YWwxXyA9IHBhcnNlRmxvYXQoZm9ybS5WYWwxLnZhbHVlKTtcbiAgbGV0IHZhbDJfID0gcGFyc2VGbG9hdChmb3JtLlZhbDIudmFsdWUpO1xuICBsZXQgcmJtXyA9IHBhcnNlSW50KGZvcm0uUkJNLnZhbHVlKTtcbiAgbGV0IGVtcHR5TnVtID0gTnVtYmVyKGlzTmFOKHZhbDFfKSkgKyBOdW1iZXIoaXNOYU4odmFsMl8pKSArIE51bWJlcihpc05hTihyYm1fKSk7XG4gIGlmIChlbXB0eU51bSA+PSAyKSByZXR1cm4gaW52b2tlRXJyb3IoJ0F0IGxlYXN0IDIgdmFsdWVzIGFyZSByZXF1aXJlZC4nKTtcbiAgZWxzZSB7XG4gICAgaWYgKCFpc05hTih2YWwxXykgJiYgKHZhbDFfIDwgMCB8fCB2YWwxXyA+IDQpIHx8XG4gICAgICAhaXNOYU4odmFsMl8pICYmICh2YWwyXyA8IDAgfHwgdmFsMl8gPiA0KSB8fFxuICAgICAgIWlzTmFOKHJibV8pICYmIChyYm1fIDwgMzAgfHwgcmJtXyA+IDUwMCkpXG4gICAgICByZXR1cm4gaW52b2tlRXJyb3IoJ1BsZWFzZSBpbnB1dCB2YWxpZCB2YWx1ZS4nKTtcbiAgICBpZiAoJChcIiNzbFAxXCIpLnNlbGVjdHBpY2tlcigndmFsJykgPT09ICcnKVxuICAgICAgcmV0dXJuIGludm9rZUVycm9yKCdQbGVhc2Ugc2VsZWN0IHRoZSB0eXBlIG9mIHRyYW5zaXRpb24gZW5lcmd5LicpO1xuXG4gICAgJChcIi5zZWxlY3RwaWNrZXJcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcblxuICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIG51bGwsXG4gICAgICAnU3RlcDIuaHRtbD8nICsgWydUeXBlJywgJ1AxJywgJ1ZhbDEnLCAnUDInLCAnVmFsMicsICdSQk0nXS5tYXAoKGUpID0+IGUgKyAnPScgKyBmb3JtW2VdLnZhbHVlKS5qb2luKCcmJykpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoYW5nZUVkaXQocDFfbGVzc2VyLCB2YWwxLCB2YWwyKSB7IC8vIHVzZWQgaW4gU3RlcDJcbiAgJChcIiNzbFAxXCIpLnNlbGVjdHBpY2tlcigndmFsJywgcDFfbGVzc2VyKTtcbiAgJChcIiNzbFAyXCIpLnNlbGVjdHBpY2tlcigndmFsJywgcDFfbGVzc2VyICsgMSk7XG4gICQoXCIjZWRWYWwxXCIpLnZhbCh2YWwxKTtcbiAgJChcIiNlZFZhbDJcIikudmFsKHZhbDIpO1xufVxuXG5mdW5jdGlvbiBjYWxjdWxhdGUoZm9ybSkgeyAvLyB1c2VkIGluIFN0ZXAyXG5cbiAgbGV0ICRjYWxjSGludCA9ICQoJyNjYWxjdWxhdG9ySGludCcpO1xuICBsZXQgJGNhbGNSZXN1bHQgPSAkKCcjY2FsY1Jlc3VsdCcpO1xuXG4gIGxldCBpbnZva2VFcnJvciA9ICgpID0+IHtcbiAgICAkY2FsY0hpbnQuaHRtbChgXG4gICAgICA8ZGl2IGNsYXNzPVwiYWxlcnQtZGFuZ2VyIGhpbnRcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLWV4Y2xhbWF0aW9uLXNpZ25cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+XG4gICAgICAgIE5vIHZhbGlkIHJlc3VsdC5cbiAgICAgIDwvZGl2PlxuICAgIGApO1xuICAgICRjYWxjUmVzdWx0Lmh0bWwoJycpO1xuICB9O1xuXG4gIGxldCBuID0gcGFyc2VJbnQoZm9ybS5OQ2FsYy52YWx1ZSksIG0gPSBwYXJzZUludChmb3JtLk1DYWxjLnZhbHVlKSwgdCA9IHBhcnNlSW50KHVybFBhcmFtc1snVHlwZSddKTtcbiAgaWYgKG4gPCBtKSBbbiwgbV0gPSBbbSwgbl07XG4gIGlmIChpc05hTihuKSB8fCBpc05hTihtKSB8fCBuIDw9IDYgfHwgbSA8PSAwIHx8IDIgKiBuICsgbSA+IHNlcmllc1RocmVzaG9sZCkge1xuICAgIGludm9rZUVycm9yKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgJGNhbGNIaW50Lmh0bWwoJycpO1xuICBsZXQgJHJlc3VsdExpc3QgPSAkKGA8dGJvZHk+PC90Ym9keT5gKTtcbiAgbGV0ICRwbG90TGlzdCA9ICQoJzxkaXY+PC9kaXY+Jyk7IC8vIGVtcHR5IHdyYXBwZXJcbiAgJGNhbGNSZXN1bHQuaHRtbCgnJylcbiAgICAuYXBwZW5kKCQoJzx0YWJsZSBjbGFzcz1cInRhYmxlIHRhYmxlLXN0cmlwZWQgbWF0aFwiIGlkPVwiY2FsY1Jlc3VsdExpc3RcIj48L3RhYmxlPicpLmFwcGVuZCgkcmVzdWx0TGlzdCkpXG4gICAgLmFwcGVuZCgkcGxvdExpc3QpO1xuXG4gICRyZXN1bHRMaXN0LmFwcGVuZChgPHRyPjx0ZD5cXFxcKGRfdFxcXFwpPC90ZD48dGQ+XFxcXCggJHtEdChuLCBtLCB0KS50b0ZpeGVkKDMpLnRvU3RyaW5nKCl9IFxcXFwgXFxcXG1hdGhybXtubX1cXFxcKTwvdGQ+PC90cj5gKTtcblxuICAvLyBnZW5lcmF0ZSBkX3QgYW5kIFJCTSBpbmZvcm1hdGlvblxuXG4gIGdlbmVyYXRlUkJNQ2FsY3VsYXRpb25SZXN1bHQobiwgbSwgdCwgJHJlc3VsdExpc3QpO1xuXG4gIC8vIGRvIGVuZXJneSBjYWxjdWxhdGlvblxuXG4gIGxldCBjYWxjdWxhdGVkRW5lcmd5ID0gbmV3IEFycmF5KDEyKTtcbiAgZm9yIChsZXQgcDEgPSAwOyBwMSA8IDEyOyBwMSsrKSB7XG4gICAgaWYgKGlzTWV0YWwocDFUb1AocDEpKSAhPT0gaXNNZXRhbChuLCBtKSkge1xuICAgICAgY2FsY3VsYXRlZEVuZXJneVtwMV0gPSAtMTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY2FsY3VsYXRlZEVuZXJneVtwMV0gPSBnZXRFbmVyZ3koRHQobiwgbSwgdCksIFRoZXRhKG4sIG0pLCBwMVRvUChwMSksIHQsIGlzTWV0YWwobiwgbSkgPyBwMSAlIDIgLSAxIDogTW9kKG4sIG0pKVxuICAgICAgICAudG9GaXhlZCgzKS50b1N0cmluZygpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICBjYWxjdWxhdGVkRW5lcmd5W3AxXSA9IC0xO1xuICAgIH1cbiAgfVxuXG4gIC8vIGFwcGx5IHJlc3VsdHMgdG8gcGxvdFxuXG4gIGxldCB2YWxpZFJlc3VsdE51bWJlciA9IDA7XG5cbiAgZm9yIChsZXQgcDEgPSAwOyBwMSA8IDEyOyBwMSArPSAyKSB7XG5cbiAgICAvLyBhc3NlcnQgdGhhdCB0aGVyZSBhcmUgcmVzdWx0cyBmb3IgYm90aCBQMSA9IDJrIGFuZCAoMmsgKyAxKS5cbiAgICAvLyBub3RlIHRoYXQgZm9yICg5LDcpIHRoZSBTNjYgZG9lc24ndCB3b3JrIGR1ZSB0byB0b28gc21hbGwgZF90IHdoaWNoXG4gICAgLy8gY2F1c2VkIDFzdCBkZXJpdmF0aXZlIGlzc3VlLCBidXQgUzU1IGlzIHZhbGlkLlxuXG4gICAgaWYgKGNhbGN1bGF0ZWRFbmVyZ3lbcDFdID09PSAtMSB8fCBjYWxjdWxhdGVkRW5lcmd5W3AxICsgMV0gPT09IC0xKVxuICAgICAgY29udGludWU7XG5cbiAgICB2YWxpZFJlc3VsdE51bWJlcisrO1xuXG4gICAgJHJlc3VsdExpc3QuYXBwZW5kKFxuICAgICAgJChgPHRyPjx0ZD4ke3AxTmFtZVtwMV19PC90ZD48dGQ+XFxcXCgke2NhbGN1bGF0ZWRFbmVyZ3lbcDFdfVxcXFwgXFxcXG1hdGhybXtlVn1cXFxcKTwvdGQ+PC90cj5gKVxuICAgICAgICAuY2xpY2soKCkgPT4gY2hhbmdlRWRpdChwMSwgY2FsY3VsYXRlZEVuZXJneVtwMV0sIGNhbGN1bGF0ZWRFbmVyZ3lbcDEgKyAxXSkpXG4gICAgICAgIC5jc3MoJ2N1cnNvcicsICdwb2ludGVyJylcbiAgICApLmFwcGVuZChcbiAgICAgICQoYDx0cj48dGQ+JHtwMU5hbWVbcDEgKyAxXX08L3RkPjx0ZD5cXFxcKCR7Y2FsY3VsYXRlZEVuZXJneVtwMSArIDFdfVxcXFwgXFxcXG1hdGhybXtlVn1cXFxcKTwvdGQ+PC90cj5gKVxuICAgICAgICAuY2xpY2soKCkgPT4gY2hhbmdlRWRpdChwMSwgY2FsY3VsYXRlZEVuZXJneVtwMV0sIGNhbGN1bGF0ZWRFbmVyZ3lbcDEgKyAxXSkpXG4gICAgICAgIC5jc3MoJ2N1cnNvcicsICdwb2ludGVyJylcbiAgICApO1xuXG4gICAgbGV0IGlucHV0UGFyYW1zID0ge1xuICAgICAgdHlwZTogdCwgLy8gaW50XG4gICAgICBwMTogcDEsIC8vIGludFxuICAgICAgcDI6IHAxICsgMSwgLy8gaW50XG4gICAgICB2YWwxOiBjYWxjdWxhdGVkRW5lcmd5W3AxXSwgLy8gZW1wdHktYWJsZSBzdHJcbiAgICAgIHZhbDI6IGNhbGN1bGF0ZWRFbmVyZ3lbcDEgKyAxXSwgLy8gZW1wdHktYWJsZSBzdHJcbiAgICAgIHJibTogJycgLy8gZW1wdHktYWJsZSBzdHJcbiAgICB9O1xuXG4gICAgbGV0IHBsb3RQYXJhbXMgPSBwcm9jZXNzT3V0cHV0KGdldFBsb3RQYXJhbXMoaW5wdXRQYXJhbXMpKTtcbiAgICBsZXQgcGxvdElkID0gYGNhbGNQbG90JHtNYXRoLnJvdW5kKHAxIC8gMil9YDtcblxuICAgIGxldCAkcGxvdCA9ICQoYFxuICAgICAgPGRpdiBjbGFzcz1cIm1hdGggY2FsYy1wbG90LWNvbnRhaW5lclwiIFxuICAgICAgICAgICBvbmNvbnRleHRtZW51PVwicmV0dXJuIGZhbHNlXCIgb25tb3VzZWRvd249XCJyZXR1cm4gZmFsc2VcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctb2Zmc2V0LTIgY29sLW1kLW9mZnNldC02IHJibUF4aXNMYWJlbFwiPlxuICAgICAgICAgICAgXFxcXChcXFxcb21lZ2Ffe1xcXFxtYXRocm17UkJNfX1cXFxcIChcXFxcbWF0aHJte2NtXnstMX19KVxcXFwpXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnIgLz5cbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiIHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlO1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ5QXhpc0xhYmVsXCI+JHtwbG90UGFyYW1zLnlBeGlzTGFiZWx9PC9kaXY+XG4gICAgICAgICAgPGRpdiBpZD1cIiR7cGxvdElkfVwiIHN0eWxlPVwid2lkdGg6IDQwMHB4OyBoZWlnaHQ6IDI5MHB4OyBmb250LWZhbWlseTogJ1RpbWVzIE5ldyBSb21hbicsIHNlcmlmO1wiXG4gICAgICAgICAgICAgICBjbGFzcz1cImNvbC1tZC1vZmZzZXQtMSBjb2wteHMtb2Zmc2V0LTFcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLWxnLW9mZnNldC0yIGNvbC1tZC1vZmZzZXQtNSB4QXhpc0xhYmVsXCI+XG4gICAgICAgICAgICAgICAke3Bsb3RQYXJhbXMueEF4aXNMYWJlbH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgKTtcblxuICAgICRwbG90TGlzdC5hcHBlbmQoJHBsb3QpO1xuICAgIGRyYXdQbG90KHBsb3RJZCwgcGxvdFBhcmFtcyk7XG4gIH1cblxuICBpZiAodmFsaWRSZXN1bHROdW1iZXIgPT09IDApIHtcbiAgICBpbnZva2VFcnJvcigpO1xuICB9XG5cbiAgTWF0aEpheC5IdWIuUXVldWUoWydUeXBlc2V0JywgTWF0aEpheC5IdWJdKTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVJCTUNhbGN1bGF0aW9uUmVzdWx0KG4sIG0sIHQsICRyZXN1bHRMaXN0KSB7IC8vIHNlcGFyYXRlZCBmdW5jdGlvbiB0byByZWR1Y2UgY29tcGxleGl0eVxuXG4gIGxldCBpc0FpclN1c3BlbmRlZCA9ICh0ID09PSAwKTtcbiAgbGV0IGVkaXRSQk0gPSAoZSkgPT4gJCgnI2VkUkJNJykudmFsKGUpO1xuICBpZiAoaXNBaXJTdXNwZW5kZWQpIHtcbiAgICBsZXQgcmJtQVMgPSBkdDJSQk0oRHQobiwgbSwgdCksIGlzTWV0YWwobiwgbSkgPyAyIDogMCwgdCkudG9GaXhlZCgxKS50b1N0cmluZygpO1xuICAgICRyZXN1bHRMaXN0LmFwcGVuZChcbiAgICAgICQoYFxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XFxcXChcXFxcb21lZ2FfXFxcXG1hdGhybXtSQk19XFxcXCAke2lzTWV0YWwobiwgbSkgPyBcIihwPTMpXCIgOiBcIihwPTEsMilcIn0gXFxcXCk8L3RkPlxuICAgICAgICAgICAgPHRkPlxcXFwoICR7cmJtQVN9IFxcXFwgXFxcXG1hdGhybXtjbV57LTF9fVxcXFwpPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgIGApXG4gICAgICAgIC5jbGljaygoKSA9PiBlZGl0UkJNKHJibUFTKSlcbiAgICAgICAgLmNzcygnY3Vyc29yJywgJ3BvaW50ZXInKVxuICAgICk7XG4gIH1cblxuICBsZXQgcmJtR2VuZXJhbCA9IGR0MlJCTShEdChuLCBtLCB0KSwgaXNBaXJTdXNwZW5kZWQgPyAzIDogMCwgdCkudG9GaXhlZCgxKS50b1N0cmluZygpO1xuICAkcmVzdWx0TGlzdC5hcHBlbmQoXG4gICAgJChgXG4gICAgICA8dHI+XG4gICAgICAgICAgPHRkPlxcXFwoXFxcXG9tZWdhX1xcXFxtYXRocm17UkJNfVxcXFwgJHtpc0FpclN1c3BlbmRlZCA/IFwiKHA+MylcIiA6IFwiXCJ9IFxcXFwpPC90ZD5cbiAgICAgICAgICA8dGQ+XFxcXCggJHtyYm1HZW5lcmFsfSBcXFxcIFxcXFxtYXRocm17Y21eey0xfX1cXFxcKTwvdGQ+XG4gICAgICA8L3RyPlxuICAgIGApXG4gICAgICAuY2xpY2soKCkgPT4gZWRpdFJCTShyYm1HZW5lcmFsKSlcbiAgICAgIC5jc3MoJ2N1cnNvcicsICdwb2ludGVyJylcbiAgKTtcbn1cbiJdfQ==\n","\n'use strict';\n\nlet isUnparsable = e => isNaN(parseFloat(e));\n\n/**\n * Get assigned results to be processed for plotting.\n * @param {Object} inputParams - input parameters\n * @param {int} inputParams.p1 - p denoting transition type associated with val1\n * @param {(string|null)} inputParams.val1 - null-able or empty-able string of transition energy 1\n * @param {int} inputParams.p2 - p denoting transition type associated with val2\n * @param {(string|null)} inputParams.val2 - null-able or empty-able string of transition energy 2\n * @param {(string|null)} inputParams.rbm - null-able or empty-able string of RBM frequency\n * @param {int} inputParams.type - environment type\n * @returns {Object} assigned results\n*/\nfunction getPlotParams(inputParams) {\n  let decimalDigits = (d) => d.split('.')[1].length;\n\n  if (isUnparsable(inputParams.val1) && isUnparsable(inputParams.val2)) {\n    throw new Error('Unauthorized Access');\n  } else if (isUnparsable(inputParams.val1) || isUnparsable(inputParams.val2)) {\n    if (isUnparsable(inputParams.rbm)) throw new Error('Unauthorized Access');\n    inputParams.uncertainty = 2.0 / Math.pow(10,\n      decimalDigits(isUnparsable(inputParams.val1) ? inputParams.val2 : inputParams.val1 ));\n    return E1R1(inputParams);\n  } else {\n    inputParams.uncertainty = 2.0 / Math.pow(10,\n      Math.min(decimalDigits(inputParams.val1), decimalDigits(inputParams.val2))\n    );\n    return E2(inputParams);\n  }\n}\n\n/**\n * Get assigned results of 1 energy 1 RBM frequency input.\n * @param {Object} inputParams - input parameters\n * @param {int} inputParams.p1 - p denoting transition type associated with val1\n * @param {(string|null)} inputParams.val1 - null-able or empty-able string of transition energy 1\n * @param {int} inputParams.p2 - p denoting transition type associated with val2\n * @param {(string|null)} inputParams.val2 - null-able or empty-able string of transition energy 2\n * @param {string} inputParams.rbm - parseable string (to float) of RBM frequency\n * @param {int} inputParams.type - environment type\n * @returns {Object} assigned results\n */\nfunction E1R1(inputParams) {\n\n  let p1 = (isUnparsable(inputParams.val1) ? inputParams.p2 : inputParams.p1), type = inputParams.type, p = p1ToP(p1);\n  let val = parseFloat(isUnparsable(inputParams.val1) ? inputParams.val2 : inputParams.val1); // float\n  let wRBM = parseFloat(inputParams.rbm); // float, integrity checked in getPlotParam\n\n  let dt = wRBM2Dt(wRBM, p, type);\n  let cos = getCos3Theta(val, dt, p, type);\n  let resultString = '';\n  let error = () => Assign({\n    bluePoint: null,\n    point: [ val, 0.23 ],\n    pLesser: pToLesser(p),\n    type: type,\n    pointType: 'none',\n    p1Lesser: p1ToLesser(p1),\n    resultString: resultString,\n    uncertainty: 0.0002\n  });\n\n  if (cos[0] === -1 && cos[1] === -1) {\n    resultString += 'Invalid input: out of range.';\n    return error();\n  }\n\n  let pAnother, modAnother;\n  if (isMetal(p)) {\n    if (p1 % 4 - 3 !== (cos[0] === -1 ? 0 : -1)) {\n      resultString += `Invalid input: You may have mistaken ${p1Name[p1 + 5 - (p1 % 4) * 2]} for ${p1Name[p1]}.`;\n      return error();\n    }\n    pAnother = p;\n    modAnother = cos[0] === -1 ? -1 : 0;\n  }\n  else {\n    pAnother = isMetal(p + 1) ? p - 1 : p + 1;\n    modAnother = cos[0] === -1 ? 2 : 1; // === mod1\n  }\n\n  let valAnother;\n  try {\n    valAnother = getEnergyFromCos3Theta(dt, cos[0] === -1 ? cos[1] : cos[0], pAnother, type, modAnother);\n  }\n  catch (err) {\n    if (err.message === 'dt') {\n      resultString += 'Invalid input: out of range, diameter too small.';\n      return error();\n    }\n    throw err;\n  }\n  if ((isMetal(p) && (modAnother === -1)) || (!isMetal(p) && (p > pAnother))) {\n    [p, pAnother] = [pAnother, p];\n    [val, valAnother] = [valAnother, val];\n  }\n  let x = (val + valAnother) / 2, y = valAnother - val;\n  return Assign({\n    bluePoint: null,\n    point: [x, y],\n    pLesser: p,\n    type: type,\n    pointType: 'green',\n    p1Lesser: p1ToLesser(p1),\n    resultString: resultString,\n    uncertainty: inputParams.uncertainty\n  }, modAnother);\n\n}\n\n/**\n * Get assigned results of 2 energy (with/without RBM frequency) input.\n * @param {Object} inputParams - input parameters\n * @param {int} inputParams.p1 - p denoting transition type associated with val1\n * @param {string} inputParams.val1 - parseable string (to float) of transition energy 1\n * @param {int} inputParams.p2 - p denoting transition type associated with val2\n * @param {string} inputParams.val2 - parseable string (to float) of transition energy 2\n * @param {(string|null)} inputParams.rbm - null-able or empty-able string of RBM frequency\n * @param {int} inputParams.type - environment type\n * @returns {Object} assigned results\n */\nfunction E2(inputParams) {\n\n  let resultString = '';\n  let p1 = inputParams.p1, p2 = inputParams.p2, type = inputParams.type;\n  let val1 = parseFloat(inputParams.val1), val2 = parseFloat(inputParams.val2);\n  let p_1 = p1ToP(p1), p_2 = p1ToP(p2);\n  let rbm = inputParams.rbm; // string\n\n  // don't use 'with' block\n  if (p1 > p2) {\n    [p_1, p_2] = [p_2, p_1];\n    [val1, val2] = [val2, val1];\n    [p1, p2] = [p2, p1];\n  }\n\n  if (isMetal(p_2) !== isMetal(p_1)) {\n    throw new Error('invalid form submission');\n  }\n\n  if (p2 - p1 === 1) {\n    let bluePoint = null;\n    if (!isUnparsable(rbm)) {\n      let average = getAverage(val2 - val1, parseFloat(rbm), p_1, type);\n      if (average !== null) {\n        bluePoint = [average, val2 - val1];\n      }\n      else {\n        resultString += 'Invalid input: RBM value out of range. Only transition energies are processed. <br/ >';\n      }\n    }\n    return Assign({\n      point: [ (val1 + val2) / 2, val2 - val1 ],\n      pLesser: p_1,\n      type: type,\n      pointType: 'red',\n      bluePoint: bluePoint,\n      p1Lesser: p1,\n      resultString: resultString,\n      uncertainty: inputParams.uncertainty\n    });\n  }\n\n}\n\n/**\n * Get assigned results of pre-processed parameters.\n * @param {Object} params - pre-processed parameters\n * @param {int} mod=-1 - transferred pre-processed mod in E1R1()\n * @param {array} params.point - point\n * @param {string} params.pointType - type of the point, 'red' or 'green'\n * @param {int} params.pLesser - smaller one of the p in the plot\n * @param {int} params.p1Lesser - smaller one of the p1 in the plot\n * @param {int} params.type - environment type\n * @param {string} params.resultString - output result\n * @param {(number[]|null)} params.bluePoint blue point if exists\n * @param {number} params.uncertainty - uncertainty of the input\n * @returns {Object} assigned results\n */\nfunction Assign(params, mod = -1) {\n\n  // params: plotParams\n  // x: average y: splitting\n\n  let uncertainty = params.uncertainty;\n  let dxMin = -1, dxMax = -1, dyMin = -1, dyMax = -1;\n  let Dist = (x1, y1, x2, y2) => Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2) * 25);\n  let Dist_ = (e) => Dist(e[2], e[3], params.point[0], params.point[1]);\n  let deltaX = 0.6,\n    maxY = isMetal(params.pLesser) ? 0.6 : params.point[1] + 0.6,\n    minY = isMetal(params.pLesser) ? -0.1 : params.point[1] - 0.6;\n\n  function setBounds(dxMin_, dxMax_, dyMin_, dyMax_) {\n    dxMin = dxMin_;\n    dxMax = dxMax_;\n    dyMin = dyMin_;\n    dyMax = dyMax_;\n  }\n\n  // https://github.com/mihaifm/linq, many thanks to you!\n\n  params.all = Enumerable.from(getList(params.pLesser, params.type))\n    .where(e => (e[2] >= params.point[0] - deltaX && e[2] <= params.point[0] + deltaX &&\n      e[3] <= maxY && e[3] >= minY))\n    .toArray();\n\n  let query = Enumerable.from(params.all)\n    .where(e => (\n      (mod === -1 || isMetal(params.pLesser) || mod === Mod(e[0], e[1])) &&\n      params.point[0] - e[2] >= dxMin && params.point[0] - e[2] <= dxMax &&\n      params.point[1] - e[3] >= dyMin && params.point[1] - e[3] <= dyMax\n    ));\n\n  setBounds(-uncertainty, uncertainty, -uncertainty, uncertainty);\n  let uc = query.toArray(); // query once to get uncertainty range\n\n  function processOutput() {\n    params.result = query.orderBy(Dist_).toArray();\n    for (let i = 0; i < params.result.length; i++)\n      params.resultString += `\n        <b>(${Math.round(params.result[i][0])},${Math.round(params.result[i][1])})</b>\n        ${i !== params.result.length - 1 ? ', ' : ''}`;\n    params.resultString += '</span>';\n  }\n\n  if (params.pointType === 'none') {\n    params.ar = AssignResult.error;\n    params.result = [];\n    return params;\n  }\n\n  if (uncertainty > 0.2) {\n    params.resultString = 'Input uncertainty too large. Please give more significant figures.';\n    params.ar = AssignResult.error;\n    params.result = [];\n    return params;\n  }\n\n  if (params.pointType === 'red') {\n    if (params.bluePoint != null) {\n      if (params.bluePoint[0] - params.point[0] < 0.02) setBounds(-0.008, 0.008, -0.015, 0.015);\n      else setBounds(-0.030, -0.005, -0.015, 0.015); // don't change at this moment\n    } else setBounds(-0.020, 0.008, -0.015, 0.015);\n\n    if (query.count() === 1 && uc.length <= 1) {\n      params.ar = AssignResult.accurate;\n      params.resultString += 'The assignment result is:<br /><span style=\"font-size: 28px;\">';\n      processOutput();\n      return params;\n    }\n    setBounds(-0.040, 0.0126, -0.030, 0.030);\n  } else setBounds(-0.070, 0.070, -0.040, 0.040);\n\n  query.union(uc);\n\n  if (query.count() > 0) {\n    params.ar = AssignResult.possible;\n    params.resultString += 'The likely assignments include:<br /><span style=\"font-size: 28px;\">';\n    processOutput();\n    return params;\n  }\n\n  /*\n  * use the green criteria and query again for no match.\n  * and it's easy to see that green point, if not returned in the previous step,\n  * will not give results in this step.\n  */\n\n  setBounds(-0.070, 0.070, -0.040, 0.040);\n  let tmp = Enumerable.from(params.all).orderBy(Dist_).toArray();\n  if (Dist_(tmp[0]) / Dist_(tmp[1]) <= 0.5 && query.count() !== 0) {\n    params.ar = AssignResult.impossible;\n    query = Enumerable.from([ tmp[0] ]);\n    params.resultString += 'No match. The most possible assignment result is:<br /><span style=\"font-size: 28px;\">';\n    processOutput();\n    return params;\n  }\n\n  params.ar = AssignResult.error;\n  params.resultString = 'Invalid input: out of range. Please check your input.';\n  params.result = [];\n  return params;\n}\n\nfunction processOutput(params) {\n\n  // process RBM\n\n  const yMax = isMetal(params.pLesser) ? 0.51 : params.point[1] + 0.4;\n  const xMin = params.point[0] - 0.5, xMax = params.point[0] + 0.5;\n  let s = getRBMArray(params.pLesser, params.type); // {rbm, rbmLabel}\n  let rbm = [];\n  let rbmLabel = [];\n  let rbmPos = [];\n  let between = (xy, r1, r2) => (xy >= r1 && xy <= r2) || (xy >= r2 && xy <= r1);\n  for (let i = 0 ; i < s.rbm.length; i++) {\n    let a = s.rbm[i];\n    let t;\n    if (a.length === 2)\n      t = (a[0][0] - a[1][0]) * (yMax - a[1][1]) / (a[0][1] - a[1][1]) + a[1][0];\n    else {\n      let u;\n      if (between(yMax, a[1][1], a[0][1]))\n        u = 0;\n      else // if between(a[1][1], a[2][1])\n        u = 2;\n      t = (a[u][0] - a[1][0]) * (yMax - a[1][1]) / (a[u][1] - a[1][1]) + a[1][0];\n    }\n    if (between(t, xMax, xMin)) {\n      rbm.push(s.rbm[i]);\n      rbmLabel.push(s.rbmLabel[i]);\n      rbmPos.push(t);\n    }\n  }\n  params.rbm = rbm;\n  params.rbmLabel = rbmLabel;\n  params.rbmPos = rbmPos;\n\n  // process all\n\n  let all = params.all; // you know, lazy evaluation\n  let q = Enumerable.from(all)\n    .groupBy(\n      e => 2 * e[0] + e[1], // key\n      e => e, // group element\n      (key, group) => ({ key: key, value: group.orderBy(e => e[0]).toArray() })\n    ); // use default compare method\n\n  params.all = q.select(e => e.value.map(ee => [ee[2], ee[3]])).toArray();\n  params.allLabel = q.select(e => e.value.map(ee => [ee[0], ee[1]])).toArray();\n\n  // process result\n\n  let result = params.result;\n  params.result = result.map(e => [e[2], e[3]]);\n  params.resultLabel = result.map(e => [e[0], e[1]]);\n\n  params.isMetal = isMetal(params.pLesser);\n  params.yAxisLabel = `\\\\(${p1Name_raw[params.p1Lesser + 1]}-${p1Name_raw[params.p1Lesser]}\\\\ (\\\\mathrm{eV})\\\\)`;\n  params.xAxisLabel = `\\\\((${p1Name_raw[params.p1Lesser + 1]}+${p1Name_raw[params.p1Lesser]})/2\\\\ (\\\\mathrm{eV})\\\\)`;\n\n\n  // select g.OrderBy(elem => elem[0]);\n  // note that average energy may not increase monotonously as n in (n,m) increases.\n  // thus elem => elem[2] is wrong.\n  // test: S11 = 1.420, S22 = 2.134 as (6,4), see branch 2n + m = 16\n\n\n  return params;\n}\n","\n'use strict';\n\nfunction drawPlot(placeholder, params) {\n\n  let defaultRadius = 4, xMin = params.point[0] - 0.5, xMax = params.point[0] + 0.5;\n  let yMin = params.isMetal ? -0.01 : params.point[1] - 0.4, yMax = params.isMetal ? 0.45 : params.point[1] + 0.4;\n  let font = {\n    size: 20,\n    lineHeight: 20,\n    family: 'serif'\n  };\n  let options = {\n    xaxis: {\n      // aver\n      show: true,\n      position: 'bottom',\n      min: xMin,\n      max: xMax,\n      font: font,\n      tickLength: 10,\n      tickColor: 'rgb(255, 0, 0)',\n      color: 'rgb(255, 0, 0)'\n    },\n    yaxis: {\n      show: true,\n      min: yMin,\n      max: yMax,\n      font: font,\n      tickLength: 10,\n      tickColor: 'rgb(0, 0, 0)',\n      color: 'rgb(0, 0, 0)'\n    },\n    series: {\n      hoverable: true\n      // shadowSize: 0\n    },\n    grid: {\n      borderColor: {\n        top: 'rgb(0, 0, 255)',\n        bottom: 'rgb(255, 0, 0)',\n        left: 'rgb(0, 0, 0)',\n        right: 'rgb(0, 0, 0)'\n      },\n      hoverable: true,\n      minBorderMargin: 0\n    }\n  };\n\n  let series = [];\n  for (let i = 0; i < params.rbm.length; i++)\n    series.push({\n      color: 'rgb(208, 208, 208)', // use the shadow\n      data: params.rbm[i],\n      shadowSize: 5,\n      hoverable: false\n    });\n  let laser = [1240 / 785, 1240 / 633, 1240 / 532];\n  let laser_color = ['rgb(136, 136, 136)', 'rgb(245, 0, 0)', 'rgb(12, 127, 15)'];\n\n  for (let i = 0; i < laser.length; i++) {\n    series = series.concat([{\n      id: `laser${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, 2 * (-10 - laser[i])], [10, 2 * (10 - laser[i])]],\n      shadowSize: 0\n    }, {\n      id: `laser_minus${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, -2 * (-10 - laser[i])], [10, -2 * (10 - laser[i])]],\n      shadowSize: 0\n    }, {\n      fillBetween: `laser${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, 2 * (-10 - (laser[i] - 0.1))], [10, 2 * (10 - (laser[i] - 0.1))]], // 100 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0\n      }\n    }, {\n      fillBetween: `laser_minus${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, -2 * (-10 - (laser[i] - 0.1))], [10, -2 * (10 - (laser[i] - 0.1))]], // 100 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0\n      }\n    }, {\n      fillBetween: `laser${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, 2 * (-10 - (laser[i] + 0.1))], [10, 2 * (10 - (laser[i] + 0.1))]], // 200 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0\n      }\n    }, {\n      fillBetween: `laser_minus${i.toString()}`,\n      color: laser_color[i],\n      data: [[-10, -2 * (-10 - (laser[i] + 0.1))], [10, -2 * (10 - (laser[i] + 0.1))]], // 200 meV\n      lines: {\n        fill: 0.3,\n        lineWidth: 0\n      }\n    }]);\n  }\n\n  for (let i = 0; i < params.all.length; i++) {\n    let mod_i = (params.allLabel[i][0][0] * 2 + params.allLabel[i][0][1]) % 3;\n    series.push({\n      color: params.isMetal || mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)',\n      data: params.all[i],\n      points: {\n        show: true,\n        radius: params.isMetal ? 78 / 0.1 * 0.015 / 2  : defaultRadius, //15 meV\n        symbol: params.isMetal ? 'circle' : mod_i === 2 ? 'square' : 'triangle'\n      },\n      lines: {\n        show: true\n      },\n      point_labels: params.allLabel[i],\n      hoverable: true\n    });\n  }\n  for (let i = 0; i < params.result.length; i++) {\n    let mod_i = (params.resultLabel[i][0] * 2 + params.resultLabel[i][1]) % 3;\n    series.push({\n      color: params.isMetal || mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)',\n      data: [params.result[i]],\n      points: {\n        show: true,\n        radius: params.isMetal ? 78 / 0.1 * 0.015 / 2 : defaultRadius,\n        symbol: params.isMetal ? 'circle' : mod_i === 2 ? 'square' : 'triangle',\n        fill: true,\n        fillColor: params.isMetal || mod_i === 2 ? 'rgb(0, 0, 0)' : 'rgb(255, 0, 0)'\n      },\n      point_labels: [params.resultLabel[i]],\n      hoverable: true\n    });\n  }\n\n\n  // blue point is diamond, otherwise square\n  if (params.pointType !== 'none') {\n    series.push({\n      color: params.pointType === 'green' ? 'rgb(12, 180, 15)' : 'rgb(255, 0, 0)',\n      data: [params.point],\n      points: {\n        show: true,\n        symbol: params.pointType === 'green' ? 'diamond' : 'square',\n        radius: defaultRadius,\n        fill: true,\n        fillColor: params.pointType === 'green' ? 'rgba(0, 0, 0, 0)' : 'rgb(255, 0, 0)'\n      },\n      hoverable: false\n    });\n  }\n  if (params.bluePoint !== null)\n    series.push({\n      color: 'rgb(0, 0, 255)',\n      data: [params.bluePoint],\n      points: {\n        show: true,\n        symbol: 'diamond',\n        radius: defaultRadius,\n        fill: true,\n        fillColor: 'rgba(0, 0, 0, 0)'\n      },\n      hoverable: false,\n      shadowSize: 0\n    });\n\n  let $placeholder = $(`#${placeholder}`);\n  let plot = $.plot($placeholder, series, options);\n\n  let previousPoint = null;\n  $placeholder.bind('plothover', function(event, pos, item) {\n    if (item) {\n      if (previousPoint !== item.dataIndex) {\n        previousPoint = item.dataIndex;\n        $('#tooltip').remove();\n        showTooltip(item.pageX, item.pageY,\n          `(${item.series.point_labels[item.dataIndex][0]}, ${item.series.point_labels[item.dataIndex][1]})`);\n      }\n    } else {\n      $('#tooltip').remove();\n      previousPoint = null;\n    }\n  });\n\n  if (params.isMetal) {\n    for (let i = 0; i < params.all.length; i++) {\n      let s = Math.floor(params.all.length / 2);\n      let p = params.all[i][params.all[i].length - 1];\n      let p1 = params.allLabel[i][params.all[i].length - 1];\n      let o = plot.pointOffset({ x: p[0], y: p[1] });\n      let axes = plot.getAxes();\n      let xaxis = axes.xaxis, yaxis = axes.yaxis;\n      if (i % 2 === s % 2 && p[0] <= xaxis.max && p[0] >= xaxis.min &&\n        p[1] <= yaxis.max - 0.05 && p[1] >= yaxis.min + 0.05)\n        $placeholder.append(`\n                    <div class=\"series_label\" style=\"left: ${o.left - (i === s ? 60 : 10)}px; top: ${o.top - 30}px;\">\n                        <p>${i === s ? '2<i>n</i>+<i>m</i>=' : ''}${p1[0] * 2 + p1[1]}</p>\n                    </div>\n                `);\n    }\n  } else {\n    let mid = Math.round(params.all.length / 2);\n    let pMid = params.allLabel[mid][params.all[mid].length - 1];\n    let divMid = Math.floor((pMid[0] * 2 + pMid[1]) / 3); //use ceil, for right is scattered, left is dense\n\n    for (let i = 0; i < params.all.length; i++) {\n      let p = params.all[i][params.all[i].length - 1];\n      let p1 = params.allLabel[i][params.all[i].length - 1];\n      let o = plot.pointOffset({ x: p[0], y: p[1] });\n      let axes = plot.getAxes();\n      let xaxis = axes.xaxis, yaxis = axes.yaxis;\n      let div = Math.round((p1[0] * 2 + p1[1]) / 3);\n      let mod = (p1[0] * 2 + p1[1]) % 3;\n      if (divMid % 2 === div % 2) {\n        if (p[0] <= xaxis.max - 0.02 && p[0] >= xaxis.min + 0.02 && p[1] <= yaxis.max - 0.1 &&\n          p[1] >= yaxis.min + 0.1) {\n          let dA = {\n            color: mod === 1 ? '#FF0000' : '#000000',\n            left: o.left - (divMid === div ? 60 : 10),\n            top: o.top - (mod === 1 ? -15 : (\n                divMid === div && p[1] <= yaxis.max - 0.15 && p[1] >= yaxis.min + 0.18 ? 60 : 30\n              )\n            ),\n            c1: divMid !== div\n              ? ''\n              : ((mod === 2 && p[1] <= yaxis.max - 0.15\n                ? '<b>MOD2</b><br/>'\n                : '') + '2<i>n</i>+<i>m</i>='),\n            c2: p1[0] * 2 + p1[1],\n            c3: divMid === div && mod === 1 && p[1] >= yaxis.min + 0.12\n              ? '<br/><b>MOD1</b>'\n              : ''\n          };\n          $placeholder.append(`\n                        <div class=\"series_label\" style=\"color:${dA.color};left:${dA.left}px;top:${dA.top - 0}px;\">\n                            <p>${dA.c1}${dA.c2}${dA.c3}</p>\n                        </div>\n                    `); // workaround to let editor know that dA.top is integer\n        }\n      }\n    }\n  }\n\n  for (let i = 0; i < params.rbm.length; i++) {\n    if (i % 2 === 0 || params.rbm.length === 1) {\n      let o1 = plot.pointOffset({ x: params.rbmPos[i], y: yMax });\n      $placeholder.append(`\n                <div class=\"rbm_label\" style=\"left:${o1.left - 15}px;top:${o1.top - 30}px;\">\n                    <p>${params.rbmLabel[i]}</p>\n                </div>\n            `);\n    }\n  }\n}\n\nfunction showTooltip(x, y, contents) {\n  $(`\n        <div id=\"tooltip\" class=\"tooltip right in\">\n            <div class=\"tooltip-arrow\" style=\"top: 50%;\"></div>\n            <div class=\"tooltip-inner\">${contents}</div>\n        </div>\n    `)\n    .css({\n      display: 'block',\n      top: y,\n      left: x\n    }).appendTo('body').fadeIn(200);\n}\n\n","\n'use strict';\n\nlet timeLoad = performance.now(); // before load\nlet timeStartup;\n\n$.getScript(navigator.language.substr(0, 2).toLowerCase() !== \"zh\"\n  ? \"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/MathJax.js\"\n  : \"https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js\"\n  + \"?config=TeX-AMS_SVG-full,Safe&locale=en\", function () {\n  timeStartup = performance.now();\n  console.log(\"MathJax load takes \" + (timeStartup - timeLoad).toFixed(2));\n});\n\nlet urlParams = {};\n(window.onpopstate = function () {\n  let match,\n    pl     = /\\+/g,  // Regex for replacing addition symbol with a space\n    search = /([^&=]+)=?([^&]*)/g,\n    decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\n    query  = window.location.search.substring(1);\n\n  urlParams = {};\n  while (match = search.exec(query))\n    urlParams[decode(match[1])] = decode(match[2]);\n})();\n\nif( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ) {\n  $('.selectpicker').selectpicker('mobile');\n}\n\nlet $body = $(\"body\");\n\n/*\n * Step 1\n */\n\nif ($body.hasClass(\"Step1\")) {\n\n  let $selectType = $(\"#slType\");\n  for (let i = 0; i < typeName.length; i++)\n    $selectType.append(`<option value=\"${i}\">${typeName[i]}</option>`);\n\n  $selectType.selectpicker('val', 0)\n    .selectpicker('refresh')\n    .on(\"loaded.bs.select\", clearTitle)\n    .on('changed.bs.select', clearTitle);\n\n}\n\n/*\n * Step 2\n */\n\nif ($body.hasClass('Step2')) {\n\n  let type = parseInt(urlParams['Type']); // '', ' ' will be converted to NaN in this process.\n  if (isNaN(type) || type > 5 || type < 0)\n    location.href = 'Step1.html';\n\n  let $selectP1 = $('#slP1'), $selectP2 = $('#slP2'), $selectType = $('#slType');\n  let $selectP1P2 = $('#slP1, #slP2');\n\n  $('#title')[0].innerHTML += ' <small>' + typeName[type] + '</small>';\n\n  let $dataTables = $('#dataTables');\n  $dataTables.find(`.type${type}`).removeClass('hidden');\n  for (let i = 0; i < 6; i++) {\n    if (i === type) continue;\n    $dataTables.find(`.type${i}.hidden`).remove(); // MathJax will process hidden elements if not removed\n  }\n\n  // generate options\n\n  for (let i = 0; i < p1Name.length; i++) {\n    if (type >= 3) {\n      let threshold = (type === 3 ? 8 : 2);\n      if (i >= threshold) break;\n    }\n    $selectP1P2.append(`<option value=\"${i}\">${p1Name[i]}</option>`);\n  }\n  for (let i = 0; i < typeName.length; i++)\n    $selectType.append(`<option value=\"${i}\">${typeName[i]}</option>`);\n\n  // start recovering\n\n  if ((['P1', 'P2', 'Val1', 'Val2', 'RBM'].every((e) => urlParams[e] !== undefined ))) {\n\n    let params = {\n      p1: parseInt(urlParams['P1']), // int\n      p2: parseInt(urlParams['P2']), // int\n      val1: urlParams['Val1'], // empty-able str\n      val2: urlParams['Val2'], // empty-able str\n      rbm: urlParams['RBM'] // empty-able str\n    };\n\n    let valueBetween = (xy, a, b) => (xy >= a && xy <= b);\n    let val1_ = parseFloat(params.val1), val2_ = parseFloat(params.val2), rbm_ = parseFloat(params.rbm);\n\n    let emptyNum = Number(isNaN(val1_)) + Number(isNaN(val2_)) + Number(isNaN(rbm_));\n    if (emptyNum >= 2 || isNaN(params.p1) || isNaN(params.p2) ||\n      !isNaN(val1_) && !valueBetween(val1_, 0, 4) || !isNaN(val2_) && !valueBetween(val2_, 0, 4) ||\n      !isNaN(rbm_) && !valueBetween(rbm_, 30, 500) ||\n      !valueBetween(params.p1, 0, 11) || !valueBetween(params.p2, 0, 11)\n    )\n      location.href = 'Step1.html';\n\n    $selectP1.selectpicker('val', params.p1);\n    $selectP2.selectpicker('val', params.p2);\n    $('#edVal1').val(params.val1);\n    $('#edVal2').val(params.val2);\n    $('#edRBM').val(params.rbm);\n\n\n  } else if ((['P1', 'P2', 'Val1', 'Val2', 'RBM'].every((e) => urlParams[e] !== undefined )))\n    location.href = 'Step1.html';\n\n  // end validation and recovering\n\n  $selectType.selectpicker('val', type);\n  $('.selectpicker').selectpicker('refresh');\n\n  $('select').on('loaded.bs.select', clearTitle);\n  $selectP1.on('changed.bs.select', function (e, index) {\n    let i = index - 1;\n    clearTitle(); // only when slP1 changes the title have to be cleared; only active select\n    $selectP2.find('option').each(function () {\n      let value = parseInt($(this).val());\n      if (i % 2 === 0 && value === i + 1 || i % 2 === 1 && value === i - 1)\n        $selectP2.selectpicker('val', value);\n    });\n  });\n\n}\n\n\n/*\n * Step 3\n */\n\nif ($body.hasClass('Step3')) {\n\n  // check integrity\n  if (!(['Type', 'P1', 'P2', 'Val1', 'Val2', 'RBM'].every((e) => urlParams[e] !== undefined )))\n    location.href = 'Step1.html';\n\n  let inputParams = {\n    type: parseInt(urlParams['Type']), // int\n    p1: parseInt(urlParams['P1']), // int\n    p2: parseInt(urlParams['P2']), // int\n    val1: urlParams['Val1'], // empty-able str\n    val2: urlParams['Val2'], // empty-able str\n    rbm: urlParams['RBM'] // empty-able str\n  };\n\n  let valueBetween = (xy, a, b) => (xy >= a && xy <= b);\n  let val1_ = parseFloat(inputParams.val1), val2_ = parseFloat(inputParams.val2), rbm_ = parseFloat(inputParams.rbm);\n  // also, '' and ' ' will be converted to NaN in this process.\n\n  let emptyNum = Number(isNaN(val1_)) + Number(isNaN(val2_)) + Number(isNaN(rbm_));\n  if (emptyNum >= 2 || isNaN(inputParams.type) || isNaN(inputParams.p1) || isNaN(inputParams.p2) ||\n    !isNaN(val1_) && !valueBetween(val1_, 0, 4) || !isNaN(val2_) && !valueBetween(val2_, 0, 4) ||\n    !isNaN(rbm_) && !valueBetween(rbm_, 30, 500) || !valueBetween(inputParams.type, 0, 5) ||\n    !valueBetween(inputParams.p1, 0, 11) || !valueBetween(inputParams.p2, 0, 11)\n  )\n    location.href = 'Step1.html';\n\n\n  $('#title')[0].innerHTML += ' <small>' + typeName[inputParams.type] + '</small>';\n\n  let plotParams = processOutput(getPlotParams(inputParams));\n\n  $('#resultDiv')\n    .addClass(plotParams.ar !== AssignResult.error ? 'alert-success' : 'alert-danger')\n    .html(plotParams.resultString);\n  $('#yAxisLabel').html(plotParams.yAxisLabel);\n  $('#xAxisLabel').html(plotParams.xAxisLabel);\n  $('#' + plotParams.pointType + 'Legend').css('display', '');\n  if (plotParams.bluePoint !== null)\n    $('#blueLegend').css('display', '');\n\n  $(drawPlot('plot-placeholder', plotParams));\n\n}\n\n// functions\n\nfunction clearTitle() { // used in Step1 and Step2\n\n  $('.bootstrap-select').find('button').removeAttr('title');\n}\n\nfunction validate(form) { // used in Step2\n\n  let $hint = $('#hint');\n  let invokeError = (msg) => {\n    $hint.addClass('alert-danger')\n      .html(`<span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span> ${msg}`);\n    return false;\n  };\n  let val1_ = parseFloat(form.Val1.value);\n  let val2_ = parseFloat(form.Val2.value);\n  let rbm_ = parseInt(form.RBM.value);\n  let emptyNum = Number(isNaN(val1_)) + Number(isNaN(val2_)) + Number(isNaN(rbm_));\n  if (emptyNum >= 2) return invokeError('At least 2 values are required.');\n  else {\n    if (!isNaN(val1_) && (val1_ < 0 || val1_ > 4) ||\n      !isNaN(val2_) && (val2_ < 0 || val2_ > 4) ||\n      !isNaN(rbm_) && (rbm_ < 30 || rbm_ > 500))\n      return invokeError('Please input valid value.');\n    if ($(\"#slP1\").selectpicker('val') === '')\n      return invokeError('Please select the type of transition energy.');\n\n    $(\".selectpicker\").removeAttr('disabled');\n\n    history.replaceState(null, null,\n      'Step2.html?' + ['Type', 'P1', 'Val1', 'P2', 'Val2', 'RBM'].map((e) => e + '=' + form[e].value).join('&'));\n    return true;\n  }\n}\n\nfunction changeEdit(p1_lesser, val1, val2) { // used in Step2\n  $(\"#slP1\").selectpicker('val', p1_lesser);\n  $(\"#slP2\").selectpicker('val', p1_lesser + 1);\n  $(\"#edVal1\").val(val1);\n  $(\"#edVal2\").val(val2);\n}\n\nfunction calculate(form) { // used in Step2\n\n  let $calcHint = $('#calculatorHint');\n  let $calcResult = $('#calcResult');\n\n  let invokeError = () => {\n    $calcHint.html(`\n      <div class=\"alert-danger hint\">\n        <span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span>\n        No valid result.\n      </div>\n    `);\n    $calcResult.html('');\n  };\n\n  let n = parseInt(form.NCalc.value), m = parseInt(form.MCalc.value), t = parseInt(urlParams['Type']);\n  if (n < m) [n, m] = [m, n];\n  if (isNaN(n) || isNaN(m) || n <= 6 || m <= 0 || 2 * n + m > seriesThreshold) {\n    invokeError();\n    return false;\n  }\n\n  $calcHint.html('');\n  let $resultList = $(`<tbody></tbody>`);\n  let $plotList = $('<div></div>'); // empty wrapper\n  $calcResult.html('')\n    .append($('<table class=\"table table-striped math\" id=\"calcResultList\"></table>').append($resultList))\n    .append($plotList);\n\n  $resultList.append(`<tr><td>\\\\(d_t\\\\)</td><td>\\\\( ${Dt(n, m, t).toFixed(3).toString()} \\\\ \\\\mathrm{nm}\\\\)</td></tr>`);\n\n  // generate d_t and RBM information\n\n  generateRBMCalculationResult(n, m, t, $resultList);\n\n  // do energy calculation\n\n  let calculatedEnergy = new Array(12);\n  for (let p1 = 0; p1 < 12; p1++) {\n    if (isMetal(p1ToP(p1)) !== isMetal(n, m)) {\n      calculatedEnergy[p1] = -1;\n      continue;\n    }\n    try {\n      calculatedEnergy[p1] = getEnergy(Dt(n, m, t), Theta(n, m), p1ToP(p1), t, isMetal(n, m) ? p1 % 2 - 1 : Mod(n, m))\n        .toFixed(3).toString();\n    }\n    catch (err) {\n      calculatedEnergy[p1] = -1;\n    }\n  }\n\n  // apply results to plot\n\n  let validResultNumber = 0;\n\n  for (let p1 = 0; p1 < 12; p1 += 2) {\n\n    // assert that there are results for both P1 = 2k and (2k + 1).\n    // note that for (9,7) the S66 doesn't work due to too small d_t which\n    // caused 1st derivative issue, but S55 is valid.\n\n    if (calculatedEnergy[p1] === -1 || calculatedEnergy[p1 + 1] === -1)\n      continue;\n\n    validResultNumber++;\n\n    $resultList.append(\n      $(`<tr><td>${p1Name[p1]}</td><td>\\\\(${calculatedEnergy[p1]}\\\\ \\\\mathrm{eV}\\\\)</td></tr>`)\n        .click(() => changeEdit(p1, calculatedEnergy[p1], calculatedEnergy[p1 + 1]))\n        .css('cursor', 'pointer')\n    ).append(\n      $(`<tr><td>${p1Name[p1 + 1]}</td><td>\\\\(${calculatedEnergy[p1 + 1]}\\\\ \\\\mathrm{eV}\\\\)</td></tr>`)\n        .click(() => changeEdit(p1, calculatedEnergy[p1], calculatedEnergy[p1 + 1]))\n        .css('cursor', 'pointer')\n    );\n\n    let inputParams = {\n      type: t, // int\n      p1: p1, // int\n      p2: p1 + 1, // int\n      val1: calculatedEnergy[p1], // empty-able str\n      val2: calculatedEnergy[p1 + 1], // empty-able str\n      rbm: '' // empty-able str\n    };\n\n    let plotParams = processOutput(getPlotParams(inputParams));\n    let plotId = `calcPlot${Math.round(p1 / 2)}`;\n\n    let $plot = $(`\n      <div class=\"math calc-plot-container\" \n           oncontextmenu=\"return false\" onmousedown=\"return false\">\n        <div class=\"row\">\n          <div class=\"col-lg-offset-2 col-md-offset-6 rbmAxisLabel\">\n            \\\\(\\\\omega_{\\\\mathrm{RBM}}\\\\ (\\\\mathrm{cm^{-1}})\\\\)\n          </div>\n        </div>\n        <br />\n        <div class=\"row\" style=\"position: relative;\">\n          <div class=\"yAxisLabel\">${plotParams.yAxisLabel}</div>\n          <div id=\"${plotId}\" style=\"width: 400px; height: 290px; font-family: 'Times New Roman', serif;\"\n               class=\"col-md-offset-1 col-xs-offset-1\"></div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-lg-offset-2 col-md-offset-5 xAxisLabel\">\n               ${plotParams.xAxisLabel}\n          </div>\n        </div>\n      </div>\n    `);\n\n    $plotList.append($plot);\n    drawPlot(plotId, plotParams);\n  }\n\n  if (validResultNumber === 0) {\n    invokeError();\n  }\n\n  MathJax.Hub.Queue(['Typeset', MathJax.Hub]);\n  return false;\n}\n\nfunction generateRBMCalculationResult(n, m, t, $resultList) { // separated function to reduce complexity\n\n  let isAirSuspended = (t === 0);\n  let editRBM = (e) => $('#edRBM').val(e);\n  if (isAirSuspended) {\n    let rbmAS = dt2RBM(Dt(n, m, t), isMetal(n, m) ? 2 : 0, t).toFixed(1).toString();\n    $resultList.append(\n      $(`\n        <tr>\n            <td>\\\\(\\\\omega_\\\\mathrm{RBM}\\\\ ${isMetal(n, m) ? \"(p=3)\" : \"(p=1,2)\"} \\\\)</td>\n            <td>\\\\( ${rbmAS} \\\\ \\\\mathrm{cm^{-1}}\\\\)</td>\n        </tr>\n      `)\n        .click(() => editRBM(rbmAS))\n        .css('cursor', 'pointer')\n    );\n  }\n\n  let rbmGeneral = dt2RBM(Dt(n, m, t), isAirSuspended ? 3 : 0, t).toFixed(1).toString();\n  $resultList.append(\n    $(`\n      <tr>\n          <td>\\\\(\\\\omega_\\\\mathrm{RBM}\\\\ ${isAirSuspended ? \"(p>3)\" : \"\"} \\\\)</td>\n          <td>\\\\( ${rbmGeneral} \\\\ \\\\mathrm{cm^{-1}}\\\\)</td>\n      </tr>\n    `)\n      .click(() => editRBM(rbmGeneral))\n      .css('cursor', 'pointer')\n  );\n}\n"]}